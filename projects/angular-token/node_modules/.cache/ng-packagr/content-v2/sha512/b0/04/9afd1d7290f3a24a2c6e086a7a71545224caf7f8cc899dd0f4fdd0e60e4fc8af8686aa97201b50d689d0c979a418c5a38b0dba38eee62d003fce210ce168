{"modules":[{"ast":{"type":"Program","start":0,"end":748,"body":[{"type":"ImportDeclaration","start":0,"end":47,"source":{"type":"Literal","start":31,"end":46,"raw":"'@angular/core'","value":"@angular/core"},"specifiers":[{"type":"ImportSpecifier","start":9,"end":23,"imported":{"type":"Identifier","start":9,"end":23,"name":"InjectionToken"},"local":{"type":"Identifier","start":9,"end":23,"name":"InjectionToken"}}],"attributes":[]},{"type":"ExportNamedDeclaration","start":48,"end":129,"declaration":{"type":"VariableDeclaration","start":55,"end":129,"declarations":[{"type":"VariableDeclarator","start":61,"end":128,"id":{"type":"Identifier","start":61,"end":82,"name":"ANGULAR_TOKEN_OPTIONS"},"init":{"type":"NewExpression","start":85,"end":128,"arguments":[{"type":"Literal","start":104,"end":127,"raw":"'ANGULAR_TOKEN_OPTIONS'","value":"ANGULAR_TOKEN_OPTIONS"}],"callee":{"type":"Identifier","start":89,"end":103,"name":"InjectionToken"}}}],"kind":"const"},"source":null,"specifiers":[],"attributes":[]}],"sourceType":"module","_rollupRemoved":[{"end":748,"start":130}]},"attributes":{},"code":"import { InjectionToken } from '@angular/core';\nexport const ANGULAR_TOKEN_OPTIONS = new InjectionToken('ANGULAR_TOKEN_OPTIONS');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi50b2tlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL2xpYi9hbmd1bGFyLXRva2VuLnRva2VuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0MsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBjb25zdCBBTkdVTEFSX1RPS0VOX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FOR1VMQVJfVE9LRU5fT1BUSU9OUycpO1xuIl19","customTransformCache":false,"dependencies":["@angular/core"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { InjectionToken } from '@angular/core';\nexport const ANGULAR_TOKEN_OPTIONS = new InjectionToken('ANGULAR_TOKEN_OPTIONS');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi50b2tlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL2xpYi9hbmd1bGFyLXRva2VuLnRva2VuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0MsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBjb25zdCBBTkdVTEFSX1RPS0VOX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FOR1VMQVJfVE9LRU5fT1BUSU9OUycpO1xuIl19","originalSourcemap":{"version":3,"file":"angular-token.token.js","sourceRoot":"","sources":["../../../../projects/angular-token/src/lib/angular-token.token.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[23,0,0,23],[25,0,0,25],[31,0,0,31],[46,0,0,46],[47,0,0,47]],[[0,0,2,0],[6,0,2,6],[7,0,2,7],[13,0,2,13],[34,0,2,34],[37,0,2,37],[41,0,2,41],[55,0,2,55],[56,0,2,56],[79,0,2,79],[80,0,2,80],[81,0,2,81]]],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const ANGULAR_TOKEN_OPTIONS = new InjectionToken('ANGULAR_TOKEN_OPTIONS');\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":67243,"body":[{"type":"ImportDeclaration","start":0,"end":74,"source":{"type":"Literal","start":58,"end":73,"raw":"'@angular/core'","value":"@angular/core"},"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}},{"type":"ImportSpecifier","start":21,"end":29,"imported":{"type":"Identifier","start":21,"end":29,"name":"Optional"},"local":{"type":"Identifier","start":21,"end":29,"name":"Optional"}},{"type":"ImportSpecifier","start":31,"end":37,"imported":{"type":"Identifier","start":31,"end":37,"name":"Inject"},"local":{"type":"Identifier","start":31,"end":37,"name":"Inject"}},{"type":"ImportSpecifier","start":39,"end":50,"imported":{"type":"Identifier","start":39,"end":50,"name":"PLATFORM_ID"},"local":{"type":"Identifier","start":39,"end":50,"name":"PLATFORM_ID"}}],"attributes":[]},{"type":"ImportDeclaration","start":75,"end":126,"source":{"type":"Literal","start":108,"end":125,"raw":"'@angular/common'","value":"@angular/common"},"specifiers":[{"type":"ImportSpecifier","start":84,"end":100,"imported":{"type":"Identifier","start":84,"end":100,"name":"isPlatformServer"},"local":{"type":"Identifier","start":84,"end":100,"name":"isPlatformServer"}}],"attributes":[]},{"type":"ImportDeclaration","start":127,"end":199,"source":{"type":"Literal","start":192,"end":198,"raw":"'rxjs'","value":"rxjs"},"specifiers":[{"type":"ImportSpecifier","start":136,"end":146,"imported":{"type":"Identifier","start":136,"end":146,"name":"Observable"},"local":{"type":"Identifier","start":136,"end":146,"name":"Observable"}},{"type":"ImportSpecifier","start":148,"end":157,"imported":{"type":"Identifier","start":148,"end":157,"name":"fromEvent"},"local":{"type":"Identifier","start":148,"end":157,"name":"fromEvent"}},{"type":"ImportSpecifier","start":159,"end":167,"imported":{"type":"Identifier","start":159,"end":167,"name":"interval"},"local":{"type":"Identifier","start":159,"end":167,"name":"interval"}},{"type":"ImportSpecifier","start":169,"end":184,"imported":{"type":"Identifier","start":169,"end":184,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":169,"end":184,"name":"BehaviorSubject"}}],"attributes":[]},{"type":"ImportDeclaration","start":200,"end":264,"source":{"type":"Literal","start":247,"end":263,"raw":"'rxjs/operators'","value":"rxjs/operators"},"specifiers":[{"type":"ImportSpecifier","start":209,"end":214,"imported":{"type":"Identifier","start":209,"end":214,"name":"pluck"},"local":{"type":"Identifier","start":209,"end":214,"name":"pluck"}},{"type":"ImportSpecifier","start":216,"end":222,"imported":{"type":"Identifier","start":216,"end":222,"name":"filter"},"local":{"type":"Identifier","start":216,"end":222,"name":"filter"}},{"type":"ImportSpecifier","start":224,"end":229,"imported":{"type":"Identifier","start":224,"end":229,"name":"share"},"local":{"type":"Identifier","start":224,"end":229,"name":"share"}},{"type":"ImportSpecifier","start":231,"end":239,"imported":{"type":"Identifier","start":231,"end":239,"name":"finalize"},"local":{"type":"Identifier","start":231,"end":239,"name":"finalize"}}],"attributes":[]},{"type":"ImportDeclaration","start":265,"end":327,"source":{"type":"Literal","start":303,"end":326,"raw":"'./angular-token.token'","value":"./angular-token.token"},"specifiers":[{"type":"ImportSpecifier","start":274,"end":295,"imported":{"type":"Identifier","start":274,"end":295,"name":"ANGULAR_TOKEN_OPTIONS"},"local":{"type":"Identifier","start":274,"end":295,"name":"ANGULAR_TOKEN_OPTIONS"}}],"attributes":[]},{"type":"ImportDeclaration","start":328,"end":364,"source":{"type":"Literal","start":348,"end":363,"raw":"\"@angular/core\"","value":"@angular/core"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":335,"end":342,"local":{"type":"Identifier","start":340,"end":342,"name":"i0"}}],"attributes":[]},{"type":"ImportDeclaration","start":365,"end":408,"source":{"type":"Literal","start":385,"end":407,"raw":"\"@angular/common/http\"","value":"@angular/common/http"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":372,"end":379,"local":{"type":"Identifier","start":377,"end":379,"name":"i1"}}],"attributes":[]},{"type":"ImportDeclaration","start":409,"end":447,"source":{"type":"Literal","start":429,"end":446,"raw":"\"@angular/router\"","value":"@angular/router"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":416,"end":423,"local":{"type":"Identifier","start":421,"end":423,"name":"i2"}}],"attributes":[]},{"type":"ExportNamedDeclaration","start":448,"end":19451,"declaration":{"type":"ClassDeclaration","start":455,"end":19451,"body":{"type":"ClassBody","start":481,"end":19451,"body":[{"type":"PropertyDefinition","start":487,"end":492,"computed":false,"key":{"type":"Identifier","start":487,"end":491,"name":"http"},"static":false,"value":null},{"type":"PropertyDefinition","start":497,"end":504,"computed":false,"key":{"type":"Identifier","start":497,"end":503,"name":"window"},"static":false,"value":null},{"type":"PropertyDefinition","start":509,"end":520,"computed":false,"key":{"type":"Identifier","start":509,"end":519,"name":"platformId"},"static":false,"value":null},{"type":"PropertyDefinition","start":525,"end":540,"computed":false,"key":{"type":"Identifier","start":525,"end":539,"name":"activatedRoute"},"static":false,"value":null},{"type":"PropertyDefinition","start":545,"end":552,"computed":false,"key":{"type":"Identifier","start":545,"end":551,"name":"router"},"static":false,"value":null},{"type":"MethodDefinition","start":557,"end":739,"computed":false,"key":{"type":"Identifier","start":561,"end":576,"name":"currentUserType"},"kind":"get","static":false,"value":{"type":"FunctionExpression","start":576,"end":739,"async":false,"body":{"type":"BlockStatement","start":579,"body":[{"type":"IfStatement","start":589,"end":733,"alternate":{"type":"BlockStatement","start":692,"body":[{"type":"ReturnStatement","start":706,"end":723,"argument":{"type":"Identifier","start":713,"end":722,"name":"undefined"}}],"end":733},"consequent":{"type":"BlockStatement","start":622,"body":[{"type":"ReturnStatement","start":636,"end":668,"argument":{"type":"MemberExpression","start":643,"end":667,"computed":false,"object":{"type":"MemberExpression","start":643,"end":662,"computed":false,"object":{"type":"MemberExpression","start":643,"end":656,"computed":false,"object":{"type":"ThisExpression","start":643,"end":647},"optional":false,"property":{"type":"Identifier","start":648,"end":656,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":657,"end":662,"name":"value"}},"optional":false,"property":{"type":"Identifier","start":663,"end":667,"name":"name"}}}],"end":678},"test":{"type":"BinaryExpression","start":593,"end":620,"left":{"type":"MemberExpression","start":593,"end":612,"computed":false,"object":{"type":"MemberExpression","start":593,"end":606,"computed":false,"object":{"type":"ThisExpression","start":593,"end":597},"optional":false,"property":{"type":"Identifier","start":598,"end":606,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":607,"end":612,"name":"value"}},"operator":"!=","right":{"type":"Literal","start":616,"end":620,"raw":"null","value":null}}}],"end":739},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":744,"end":809,"computed":false,"key":{"type":"Identifier","start":748,"end":763,"name":"currentUserData"},"kind":"get","static":false,"value":{"type":"FunctionExpression","start":763,"end":809,"async":false,"body":{"type":"BlockStatement","start":766,"body":[{"type":"ReturnStatement","start":776,"end":803,"argument":{"type":"MemberExpression","start":783,"end":802,"computed":false,"object":{"type":"MemberExpression","start":783,"end":796,"computed":false,"object":{"type":"ThisExpression","start":783,"end":787},"optional":false,"property":{"type":"Identifier","start":788,"end":796,"name":"userData"}},"optional":false,"property":{"type":"Identifier","start":797,"end":802,"name":"value"}}}],"end":809},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":814,"end":879,"computed":false,"key":{"type":"Identifier","start":818,"end":833,"name":"currentAuthData"},"kind":"get","static":false,"value":{"type":"FunctionExpression","start":833,"end":879,"async":false,"body":{"type":"BlockStatement","start":836,"body":[{"type":"ReturnStatement","start":846,"end":873,"argument":{"type":"MemberExpression","start":853,"end":872,"computed":false,"object":{"type":"MemberExpression","start":853,"end":866,"computed":false,"object":{"type":"ThisExpression","start":853,"end":857},"optional":false,"property":{"type":"Identifier","start":858,"end":866,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":867,"end":872,"name":"value"}}}],"end":879},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":884,"end":1106,"computed":false,"key":{"type":"Identifier","start":888,"end":895,"name":"apiBase"},"kind":"get","static":false,"value":{"type":"FunctionExpression","start":895,"end":1106,"async":false,"body":{"type":"BlockStatement","start":898,"body":[{"type":"ExpressionStatement","start":908,"end":1063,"expression":{"type":"CallExpression","start":908,"end":1062,"arguments":[{"type":"BinaryExpression","start":921,"end":1061,"left":{"type":"Literal","start":921,"end":1015,"raw":"'[angular-token] The attribute .apiBase will be removed in the next major release, please use'","value":"[angular-token] The attribute .apiBase will be removed in the next major release, please use"},"operator":"+","right":{"type":"Literal","start":1030,"end":1061,"raw":"'.tokenOptions.apiBase instead'","value":".tokenOptions.apiBase instead"}}],"callee":{"type":"MemberExpression","start":908,"end":920,"computed":false,"object":{"type":"Identifier","start":908,"end":915,"name":"console"},"optional":false,"property":{"type":"Identifier","start":916,"end":920,"name":"warn"}},"optional":false}},{"type":"ReturnStatement","start":1072,"end":1100,"argument":{"type":"MemberExpression","start":1079,"end":1099,"computed":false,"object":{"type":"MemberExpression","start":1079,"end":1091,"computed":false,"object":{"type":"ThisExpression","start":1079,"end":1083},"optional":false,"property":{"type":"Identifier","start":1084,"end":1091,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":1092,"end":1099,"name":"apiBase"}}}],"end":1106},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":1111,"end":1166,"computed":false,"key":{"type":"Identifier","start":1115,"end":1127,"name":"tokenOptions"},"kind":"get","static":false,"value":{"type":"FunctionExpression","start":1127,"end":1166,"async":false,"body":{"type":"BlockStatement","start":1130,"body":[{"type":"ReturnStatement","start":1140,"end":1160,"argument":{"type":"MemberExpression","start":1147,"end":1159,"computed":false,"object":{"type":"ThisExpression","start":1147,"end":1151},"optional":false,"property":{"type":"Identifier","start":1152,"end":1159,"name":"options"}}}],"end":1166},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":1171,"end":1265,"computed":false,"key":{"type":"Identifier","start":1175,"end":1187,"name":"tokenOptions"},"kind":"set","static":false,"value":{"type":"FunctionExpression","start":1187,"end":1265,"async":false,"body":{"type":"BlockStatement","start":1197,"body":[{"type":"ExpressionStatement","start":1207,"end":1259,"expression":{"type":"AssignmentExpression","start":1207,"end":1258,"left":{"type":"MemberExpression","start":1207,"end":1219,"computed":false,"object":{"type":"ThisExpression","start":1207,"end":1211},"optional":false,"property":{"type":"Identifier","start":1212,"end":1219,"name":"options"}},"operator":"=","right":{"type":"CallExpression","start":1222,"end":1258,"arguments":[{"type":"MemberExpression","start":1236,"end":1248,"computed":false,"object":{"type":"ThisExpression","start":1236,"end":1240},"optional":false,"property":{"type":"Identifier","start":1241,"end":1248,"name":"options"}},{"type":"Identifier","start":1250,"end":1257,"name":"options"}],"callee":{"type":"MemberExpression","start":1222,"end":1235,"computed":false,"object":{"type":"Identifier","start":1222,"end":1228,"name":"Object"},"optional":false,"property":{"type":"Identifier","start":1229,"end":1235,"name":"assign"}},"optional":false}}}],"end":1265},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1188,"end":1195,"name":"options"}]}},{"type":"PropertyDefinition","start":1270,"end":1278,"computed":false,"key":{"type":"Identifier","start":1270,"end":1277,"name":"options"},"static":false,"value":null},{"type":"PropertyDefinition","start":1283,"end":1320,"computed":false,"key":{"type":"Identifier","start":1283,"end":1291,"name":"userType"},"static":false,"value":{"type":"NewExpression","start":1294,"end":1319,"arguments":[{"type":"Literal","start":1314,"end":1318,"raw":"null","value":null}],"callee":{"type":"Identifier","start":1298,"end":1313,"name":"BehaviorSubject"}}},{"type":"PropertyDefinition","start":1325,"end":1362,"computed":false,"key":{"type":"Identifier","start":1325,"end":1333,"name":"authData"},"static":false,"value":{"type":"NewExpression","start":1336,"end":1361,"arguments":[{"type":"Literal","start":1356,"end":1360,"raw":"null","value":null}],"callee":{"type":"Identifier","start":1340,"end":1355,"name":"BehaviorSubject"}}},{"type":"PropertyDefinition","start":1367,"end":1404,"computed":false,"key":{"type":"Identifier","start":1367,"end":1375,"name":"userData"},"static":false,"value":{"type":"NewExpression","start":1378,"end":1403,"arguments":[{"type":"Literal","start":1398,"end":1402,"raw":"null","value":null}],"callee":{"type":"Identifier","start":1382,"end":1397,"name":"BehaviorSubject"}}},{"type":"PropertyDefinition","start":1409,"end":1416,"computed":false,"key":{"type":"Identifier","start":1409,"end":1415,"name":"global"},"static":false,"value":null},{"type":"PropertyDefinition","start":1421,"end":1439,"computed":false,"key":{"type":"Identifier","start":1421,"end":1433,"name":"localStorage"},"static":false,"value":{"type":"ObjectExpression","start":1436,"end":1438,"properties":[]}},{"type":"MethodDefinition","start":1444,"end":3994,"computed":false,"key":{"type":"Identifier","start":1444,"end":1455,"name":"constructor"},"kind":"constructor","static":false,"value":{"type":"FunctionExpression","start":1455,"end":3994,"async":false,"body":{"type":"BlockStatement","start":1693,"body":[{"type":"ExpressionStatement","start":1703,"end":1720,"expression":{"type":"AssignmentExpression","start":1703,"end":1719,"left":{"type":"MemberExpression","start":1703,"end":1712,"computed":false,"object":{"type":"ThisExpression","start":1703,"end":1707},"optional":false,"property":{"type":"Identifier","start":1708,"end":1712,"name":"http"}},"operator":"=","right":{"type":"Identifier","start":1715,"end":1719,"name":"http"}}},{"type":"ExpressionStatement","start":1729,"end":1750,"expression":{"type":"AssignmentExpression","start":1729,"end":1749,"left":{"type":"MemberExpression","start":1729,"end":1740,"computed":false,"object":{"type":"ThisExpression","start":1729,"end":1733},"optional":false,"property":{"type":"Identifier","start":1734,"end":1740,"name":"window"}},"operator":"=","right":{"type":"Identifier","start":1743,"end":1749,"name":"window"}}},{"type":"ExpressionStatement","start":1759,"end":1788,"expression":{"type":"AssignmentExpression","start":1759,"end":1787,"left":{"type":"MemberExpression","start":1759,"end":1774,"computed":false,"object":{"type":"ThisExpression","start":1759,"end":1763},"optional":false,"property":{"type":"Identifier","start":1764,"end":1774,"name":"platformId"}},"operator":"=","right":{"type":"Identifier","start":1777,"end":1787,"name":"platformId"}}},{"type":"ExpressionStatement","start":1797,"end":1834,"expression":{"type":"AssignmentExpression","start":1797,"end":1833,"left":{"type":"MemberExpression","start":1797,"end":1816,"computed":false,"object":{"type":"ThisExpression","start":1797,"end":1801},"optional":false,"property":{"type":"Identifier","start":1802,"end":1816,"name":"activatedRoute"}},"operator":"=","right":{"type":"Identifier","start":1819,"end":1833,"name":"activatedRoute"}}},{"type":"ExpressionStatement","start":1843,"end":1864,"expression":{"type":"AssignmentExpression","start":1843,"end":1863,"left":{"type":"MemberExpression","start":1843,"end":1854,"computed":false,"object":{"type":"ThisExpression","start":1843,"end":1847},"optional":false,"property":{"type":"Identifier","start":1848,"end":1854,"name":"router"}},"operator":"=","right":{"type":"Identifier","start":1857,"end":1863,"name":"router"}}},{"type":"ExpressionStatement","start":1873,"end":1943,"expression":{"type":"AssignmentExpression","start":1873,"end":1942,"left":{"type":"MemberExpression","start":1873,"end":1884,"computed":false,"object":{"type":"ThisExpression","start":1873,"end":1877},"optional":false,"property":{"type":"Identifier","start":1878,"end":1884,"name":"global"}},"operator":"=","right":{"type":"ConditionalExpression","start":1887,"end":1942,"alternate":{"type":"ObjectExpression","start":1940,"end":1942,"properties":[]},"consequent":{"type":"MemberExpression","start":1926,"end":1937,"computed":false,"object":{"type":"ThisExpression","start":1926,"end":1930},"optional":false,"property":{"type":"Identifier","start":1931,"end":1937,"name":"window"}},"test":{"type":"BinaryExpression","start":1888,"end":1922,"left":{"type":"UnaryExpression","start":1888,"end":1906,"argument":{"type":"MemberExpression","start":1895,"end":1906,"computed":false,"object":{"type":"ThisExpression","start":1895,"end":1899},"optional":false,"property":{"type":"Identifier","start":1900,"end":1906,"name":"window"}},"operator":"typeof","prefix":true},"operator":"!==","right":{"type":"Literal","start":1911,"end":1922,"raw":"'undefined'","value":"undefined"}}}}},{"type":"IfStatement","start":1952,"end":2500,"alternate":{"type":"BlockStatement","start":2443,"body":[{"type":"ExpressionStatement","start":2457,"end":2490,"expression":{"type":"AssignmentExpression","start":2457,"end":2489,"left":{"type":"MemberExpression","start":2457,"end":2474,"computed":false,"object":{"type":"ThisExpression","start":2457,"end":2461},"optional":false,"property":{"type":"Identifier","start":2462,"end":2474,"name":"localStorage"}},"operator":"=","right":{"type":"Identifier","start":2477,"end":2489,"name":"localStorage"}}}],"end":2500},"consequent":{"type":"BlockStatement","start":1991,"body":[{"type":"ExpressionStatement","start":2046,"end":2219,"expression":{"type":"AssignmentExpression","start":2046,"end":2218,"left":{"type":"MemberExpression","start":2046,"end":2057,"computed":false,"object":{"type":"ThisExpression","start":2046,"end":2050},"optional":false,"property":{"type":"Identifier","start":2051,"end":2057,"name":"global"}},"operator":"=","right":{"type":"ObjectExpression","start":2060,"end":2218,"properties":[{"type":"Property","start":2078,"end":2094,"computed":false,"key":{"type":"Identifier","start":2078,"end":2082,"name":"open"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","start":2084,"end":2094,"async":false,"body":{"type":"Literal","start":2090,"end":2094,"raw":"null","value":null},"expression":true,"generator":false,"id":null,"params":[]}},{"type":"Property","start":2112,"end":2204,"computed":false,"key":{"type":"Identifier","start":2112,"end":2120,"name":"location"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ObjectExpression","start":2122,"end":2204,"properties":[{"type":"Property","start":2144,"end":2153,"computed":false,"key":{"type":"Identifier","start":2144,"end":2148,"name":"href"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2150,"end":2153,"raw":"'/'","value":"/"}},{"type":"Property","start":2175,"end":2186,"computed":false,"key":{"type":"Identifier","start":2175,"end":2181,"name":"origin"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2183,"end":2186,"raw":"'/'","value":"/"}}]}}]}}},{"type":"ExpressionStatement","start":2273,"end":2312,"expression":{"type":"AssignmentExpression","start":2273,"end":2311,"left":{"type":"MemberExpression","start":2273,"end":2298,"computed":false,"object":{"type":"MemberExpression","start":2273,"end":2290,"computed":false,"object":{"type":"ThisExpression","start":2273,"end":2277},"optional":false,"property":{"type":"Identifier","start":2278,"end":2290,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":2291,"end":2298,"name":"setItem"}},"operator":"=","right":{"type":"ArrowFunctionExpression","start":2301,"end":2311,"async":false,"body":{"type":"Literal","start":2307,"end":2311,"raw":"null","value":null},"expression":true,"generator":false,"id":null,"params":[]}}},{"type":"ExpressionStatement","start":2325,"end":2364,"expression":{"type":"AssignmentExpression","start":2325,"end":2363,"left":{"type":"MemberExpression","start":2325,"end":2350,"computed":false,"object":{"type":"MemberExpression","start":2325,"end":2342,"computed":false,"object":{"type":"ThisExpression","start":2325,"end":2329},"optional":false,"property":{"type":"Identifier","start":2330,"end":2342,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":2343,"end":2350,"name":"getItem"}},"operator":"=","right":{"type":"ArrowFunctionExpression","start":2353,"end":2363,"async":false,"body":{"type":"Literal","start":2359,"end":2363,"raw":"null","value":null},"expression":true,"generator":false,"id":null,"params":[]}}},{"type":"ExpressionStatement","start":2377,"end":2419,"expression":{"type":"AssignmentExpression","start":2377,"end":2418,"left":{"type":"MemberExpression","start":2377,"end":2405,"computed":false,"object":{"type":"MemberExpression","start":2377,"end":2394,"computed":false,"object":{"type":"ThisExpression","start":2377,"end":2381},"optional":false,"property":{"type":"Identifier","start":2382,"end":2394,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":2395,"end":2405,"name":"removeItem"}},"operator":"=","right":{"type":"ArrowFunctionExpression","start":2408,"end":2418,"async":false,"body":{"type":"Literal","start":2414,"end":2418,"raw":"null","value":null},"expression":true,"generator":false,"id":null,"params":[]}}}],"end":2429},"test":{"type":"CallExpression","start":1956,"end":1989,"arguments":[{"type":"MemberExpression","start":1973,"end":1988,"computed":false,"object":{"type":"ThisExpression","start":1973,"end":1977},"optional":false,"property":{"type":"Identifier","start":1978,"end":1988,"name":"platformId"}}],"callee":{"type":"Identifier","start":1956,"end":1972,"name":"isPlatformServer"},"optional":false}},{"type":"VariableDeclaration","start":2509,"end":3571,"declarations":[{"type":"VariableDeclarator","start":2515,"end":3570,"id":{"type":"Identifier","start":2515,"end":2529,"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":2532,"end":3570,"properties":[{"type":"Property","start":2546,"end":2559,"computed":false,"key":{"type":"Identifier","start":2546,"end":2553,"name":"apiPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2555,"end":2559,"raw":"null","value":null}},{"type":"Property","start":2573,"end":2586,"computed":false,"key":{"type":"Identifier","start":2573,"end":2580,"name":"apiBase"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2582,"end":2586,"raw":"null","value":null}},{"type":"Property","start":2600,"end":2626,"computed":false,"key":{"type":"Identifier","start":2600,"end":2610,"name":"signInPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2612,"end":2626,"raw":"'auth/sign_in'","value":"auth/sign_in"}},{"type":"Property","start":2640,"end":2660,"computed":false,"key":{"type":"Identifier","start":2640,"end":2654,"name":"signInRedirect"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2656,"end":2660,"raw":"null","value":null}},{"type":"Property","start":2674,"end":2705,"computed":false,"key":{"type":"Identifier","start":2674,"end":2699,"name":"signInStoredUrlStorageKey"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2701,"end":2705,"raw":"null","value":null}},{"type":"Property","start":2719,"end":2747,"computed":false,"key":{"type":"Identifier","start":2719,"end":2730,"name":"signOutPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2732,"end":2747,"raw":"'auth/sign_out'","value":"auth/sign_out"}},{"type":"Property","start":2761,"end":2801,"computed":false,"key":{"type":"Identifier","start":2761,"end":2778,"name":"validateTokenPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2780,"end":2801,"raw":"'auth/validate_token'","value":"auth/validate_token"}},{"type":"Property","start":2815,"end":2843,"computed":false,"key":{"type":"Identifier","start":2815,"end":2836,"name":"signOutFailedValidate"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2838,"end":2843,"raw":"false","value":false}},{"type":"Property","start":2857,"end":2884,"computed":false,"key":{"type":"Identifier","start":2857,"end":2876,"name":"registerAccountPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2878,"end":2884,"raw":"'auth'","value":"auth"}},{"type":"Property","start":2898,"end":2923,"computed":false,"key":{"type":"Identifier","start":2898,"end":2915,"name":"deleteAccountPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2917,"end":2923,"raw":"'auth'","value":"auth"}},{"type":"Property","start":2937,"end":2987,"computed":false,"key":{"type":"Identifier","start":2937,"end":2960,"name":"registerAccountCallback"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":2962,"end":2987,"computed":false,"object":{"type":"MemberExpression","start":2962,"end":2982,"computed":false,"object":{"type":"MemberExpression","start":2962,"end":2973,"computed":false,"object":{"type":"ThisExpression","start":2962,"end":2966},"optional":false,"property":{"type":"Identifier","start":2967,"end":2973,"name":"global"}},"optional":false,"property":{"type":"Identifier","start":2974,"end":2982,"name":"location"}},"optional":false,"property":{"type":"Identifier","start":2983,"end":2987,"name":"href"}}},{"type":"Property","start":3001,"end":3027,"computed":false,"key":{"type":"Identifier","start":3001,"end":3019,"name":"updatePasswordPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3021,"end":3027,"raw":"'auth'","value":"auth"}},{"type":"Property","start":3041,"end":3075,"computed":false,"key":{"type":"Identifier","start":3041,"end":3058,"name":"resetPasswordPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3060,"end":3075,"raw":"'auth/password'","value":"auth/password"}},{"type":"Property","start":3089,"end":3137,"computed":false,"key":{"type":"Identifier","start":3089,"end":3110,"name":"resetPasswordCallback"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":3112,"end":3137,"computed":false,"object":{"type":"MemberExpression","start":3112,"end":3132,"computed":false,"object":{"type":"MemberExpression","start":3112,"end":3123,"computed":false,"object":{"type":"ThisExpression","start":3112,"end":3116},"optional":false,"property":{"type":"Identifier","start":3117,"end":3123,"name":"global"}},"optional":false,"property":{"type":"Identifier","start":3124,"end":3132,"name":"location"}},"optional":false,"property":{"type":"Identifier","start":3133,"end":3137,"name":"href"}}},{"type":"Property","start":3151,"end":3166,"computed":false,"key":{"type":"Identifier","start":3151,"end":3160,"name":"userTypes"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3162,"end":3166,"raw":"null","value":null}},{"type":"Property","start":3180,"end":3199,"computed":false,"key":{"type":"Identifier","start":3180,"end":3190,"name":"loginField"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3192,"end":3199,"raw":"'email'","value":"email"}},{"type":"Property","start":3213,"end":3251,"computed":false,"key":{"type":"Identifier","start":3213,"end":3222,"name":"oAuthBase"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":3224,"end":3251,"computed":false,"object":{"type":"MemberExpression","start":3224,"end":3244,"computed":false,"object":{"type":"MemberExpression","start":3224,"end":3235,"computed":false,"object":{"type":"ThisExpression","start":3224,"end":3228},"optional":false,"property":{"type":"Identifier","start":3229,"end":3235,"name":"global"}},"optional":false,"property":{"type":"Identifier","start":3236,"end":3244,"name":"location"}},"optional":false,"property":{"type":"Identifier","start":3245,"end":3251,"name":"origin"}}},{"type":"Property","start":3265,"end":3330,"computed":false,"key":{"type":"Identifier","start":3265,"end":3275,"name":"oAuthPaths"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ObjectExpression","start":3277,"end":3330,"properties":[{"type":"Property","start":3295,"end":3316,"computed":false,"key":{"type":"Identifier","start":3295,"end":3301,"name":"github"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3303,"end":3316,"raw":"'auth/github'","value":"auth/github"}}]}},{"type":"Property","start":3344,"end":3379,"computed":false,"key":{"type":"Identifier","start":3344,"end":3361,"name":"oAuthCallbackPath"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3363,"end":3379,"raw":"'oauth_callback'","value":"oauth_callback"}},{"type":"Property","start":3393,"end":3421,"computed":false,"key":{"type":"Identifier","start":3393,"end":3408,"name":"oAuthWindowType"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3410,"end":3421,"raw":"'newWindow'","value":"newWindow"}},{"type":"Property","start":3435,"end":3459,"computed":false,"key":{"type":"Identifier","start":3435,"end":3453,"name":"oAuthWindowOptions"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3455,"end":3459,"raw":"null","value":null}},{"type":"Property","start":3473,"end":3559,"computed":false,"key":{"type":"Identifier","start":3473,"end":3494,"name":"oAuthBrowserCallbacks"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ObjectExpression","start":3496,"end":3559,"properties":[{"type":"Property","start":3514,"end":3544,"computed":false,"key":{"type":"Identifier","start":3514,"end":3520,"name":"github"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":3522,"end":3544,"raw":"'auth/github/callback'","value":"auth/github/callback"}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3580,"end":3640,"declarations":[{"type":"VariableDeclarator","start":3586,"end":3639,"id":{"type":"Identifier","start":3586,"end":3599,"name":"mergedOptions"},"init":{"type":"CallExpression","start":3602,"end":3639,"arguments":[{"type":"Identifier","start":3616,"end":3630,"name":"defaultOptions"},{"type":"Identifier","start":3632,"end":3638,"name":"config"}],"callee":{"type":"MemberExpression","start":3602,"end":3615,"computed":false,"object":{"type":"Identifier","start":3602,"end":3608,"name":"Object"},"optional":false,"property":{"type":"Identifier","start":3609,"end":3615,"name":"assign"}},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3649,"end":3678,"expression":{"type":"AssignmentExpression","start":3649,"end":3677,"left":{"type":"MemberExpression","start":3649,"end":3661,"computed":false,"object":{"type":"ThisExpression","start":3649,"end":3653},"optional":false,"property":{"type":"Identifier","start":3654,"end":3661,"name":"options"}},"operator":"=","right":{"type":"Identifier","start":3664,"end":3677,"name":"mergedOptions"}}},{"type":"IfStatement","start":3687,"end":3956,"alternate":null,"consequent":{"type":"BlockStatement","start":3722,"body":[{"type":"ExpressionStatement","start":3736,"end":3946,"expression":{"type":"CallExpression","start":3736,"end":3945,"arguments":[{"type":"BinaryExpression","start":3749,"end":3944,"left":{"type":"TemplateLiteral","start":3749,"end":3839,"expressions":[],"quasis":[{"type":"TemplateElement","start":3750,"end":3838,"tail":true,"value":{"cooked":"[angular-token] You have not configured 'apiBase', which may result in security issues. ","raw":"[angular-token] You have not configured 'apiBase', which may result in security issues. "}}]},"operator":"+","right":{"type":"TemplateLiteral","start":3858,"end":3944,"expressions":[],"quasis":[{"type":"TemplateElement","start":3859,"end":3943,"tail":true,"value":{"cooked":"Please refer to the documentation at https://github.com/neroniaky/angular-token/wiki","raw":"Please refer to the documentation at https://github.com/neroniaky/angular-token/wiki"}}]}}],"callee":{"type":"MemberExpression","start":3736,"end":3748,"computed":false,"object":{"type":"Identifier","start":3736,"end":3743,"name":"console"},"optional":false,"property":{"type":"Identifier","start":3744,"end":3748,"name":"warn"}},"optional":false}}],"end":3956},"test":{"type":"BinaryExpression","start":3691,"end":3720,"left":{"type":"MemberExpression","start":3691,"end":3711,"computed":false,"object":{"type":"MemberExpression","start":3691,"end":3703,"computed":false,"object":{"type":"ThisExpression","start":3691,"end":3695},"optional":false,"property":{"type":"Identifier","start":3696,"end":3703,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":3704,"end":3711,"name":"apiBase"}},"operator":"===","right":{"type":"Literal","start":3716,"end":3720,"raw":"null","value":null}}},{"type":"ExpressionStatement","start":3965,"end":3988,"expression":{"type":"CallExpression","start":3965,"end":3987,"arguments":[],"callee":{"type":"MemberExpression","start":3965,"end":3985,"computed":false,"object":{"type":"ThisExpression","start":3965,"end":3969},"optional":false,"property":{"type":"Identifier","start":3970,"end":3985,"name":"tryLoadAuthData"}},"optional":false}}],"end":3994},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1456,"end":1460,"name":"http"},{"type":"Identifier","start":1641,"end":1647,"name":"window"},{"type":"Identifier","start":1649,"end":1655,"name":"config"},{"type":"Identifier","start":1657,"end":1667,"name":"platformId"},{"type":"Identifier","start":1669,"end":1683,"name":"activatedRoute"},{"type":"Identifier","start":1685,"end":1691,"name":"router"}]}},{"type":"MethodDefinition","start":3999,"end":4150,"computed":false,"key":{"type":"Identifier","start":3999,"end":4011,"name":"userSignedIn"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":4011,"end":4150,"async":false,"body":{"type":"BlockStatement","start":4014,"body":[{"type":"IfStatement","start":4024,"end":4144,"alternate":{"type":"BlockStatement","start":4108,"body":[{"type":"ReturnStatement","start":4122,"end":4134,"argument":{"type":"Literal","start":4129,"end":4133,"raw":"true","value":true}}],"end":4144},"consequent":{"type":"BlockStatement","start":4057,"body":[{"type":"ReturnStatement","start":4071,"end":4084,"argument":{"type":"Literal","start":4078,"end":4083,"raw":"false","value":false}}],"end":4094},"test":{"type":"BinaryExpression","start":4028,"end":4055,"left":{"type":"MemberExpression","start":4028,"end":4047,"computed":false,"object":{"type":"MemberExpression","start":4028,"end":4041,"computed":false,"object":{"type":"ThisExpression","start":4028,"end":4032},"optional":false,"property":{"type":"Identifier","start":4033,"end":4041,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":4042,"end":4047,"name":"value"}},"operator":"==","right":{"type":"Literal","start":4051,"end":4055,"raw":"null","value":null}}}],"end":4150},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":4155,"end":4777,"computed":false,"key":{"type":"Identifier","start":4155,"end":4166,"name":"canActivate"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":4166,"end":4777,"async":false,"body":{"type":"BlockStatement","start":4181,"body":[{"type":"IfStatement","start":4191,"end":4771,"alternate":{"type":"BlockStatement","start":4266,"body":[{"type":"IfStatement","start":4372,"end":4525,"alternate":null,"consequent":{"type":"BlockStatement","start":4416,"body":[{"type":"ExpressionStatement","start":4434,"end":4511,"expression":{"type":"CallExpression","start":4434,"end":4510,"arguments":[{"type":"MemberExpression","start":4460,"end":4498,"computed":false,"object":{"type":"MemberExpression","start":4460,"end":4472,"computed":false,"object":{"type":"ThisExpression","start":4460,"end":4464},"optional":false,"property":{"type":"Identifier","start":4465,"end":4472,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":4473,"end":4498,"name":"signInStoredUrlStorageKey"}},{"type":"MemberExpression","start":4500,"end":4509,"computed":false,"object":{"type":"Identifier","start":4500,"end":4505,"name":"state"},"optional":false,"property":{"type":"Identifier","start":4506,"end":4509,"name":"url"}}],"callee":{"type":"MemberExpression","start":4434,"end":4459,"computed":false,"object":{"type":"MemberExpression","start":4434,"end":4451,"computed":false,"object":{"type":"ThisExpression","start":4434,"end":4438},"optional":false,"property":{"type":"Identifier","start":4439,"end":4451,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":4452,"end":4459,"name":"setItem"}},"optional":false}}],"end":4525},"test":{"type":"MemberExpression","start":4376,"end":4414,"computed":false,"object":{"type":"MemberExpression","start":4376,"end":4388,"computed":false,"object":{"type":"ThisExpression","start":4376,"end":4380},"optional":false,"property":{"type":"Identifier","start":4381,"end":4388,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":4389,"end":4414,"name":"signInStoredUrlStorageKey"}}},{"type":"IfStatement","start":4603,"end":4735,"alternate":null,"consequent":{"type":"BlockStatement","start":4651,"body":[{"type":"ExpressionStatement","start":4669,"end":4721,"expression":{"type":"CallExpression","start":4669,"end":4720,"arguments":[{"type":"ArrayExpression","start":4690,"end":4719,"elements":[{"type":"MemberExpression","start":4691,"end":4718,"computed":false,"object":{"type":"MemberExpression","start":4691,"end":4703,"computed":false,"object":{"type":"ThisExpression","start":4691,"end":4695},"optional":false,"property":{"type":"Identifier","start":4696,"end":4703,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":4704,"end":4718,"name":"signInRedirect"}}]}],"callee":{"type":"MemberExpression","start":4669,"end":4689,"computed":false,"object":{"type":"MemberExpression","start":4669,"end":4680,"computed":false,"object":{"type":"ThisExpression","start":4669,"end":4673},"optional":false,"property":{"type":"Identifier","start":4674,"end":4680,"name":"router"}},"optional":false,"property":{"type":"Identifier","start":4681,"end":4689,"name":"navigate"}},"optional":false}}],"end":4735},"test":{"type":"LogicalExpression","start":4607,"end":4649,"left":{"type":"MemberExpression","start":4607,"end":4618,"computed":false,"object":{"type":"ThisExpression","start":4607,"end":4611},"optional":false,"property":{"type":"Identifier","start":4612,"end":4618,"name":"router"}},"operator":"&&","right":{"type":"MemberExpression","start":4622,"end":4649,"computed":false,"object":{"type":"MemberExpression","start":4622,"end":4634,"computed":false,"object":{"type":"ThisExpression","start":4622,"end":4626},"optional":false,"property":{"type":"Identifier","start":4627,"end":4634,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":4635,"end":4649,"name":"signInRedirect"}}}},{"type":"ReturnStatement","start":4748,"end":4761,"argument":{"type":"Literal","start":4755,"end":4760,"raw":"false","value":false}}],"end":4771},"consequent":{"type":"BlockStatement","start":4216,"body":[{"type":"ReturnStatement","start":4230,"end":4242,"argument":{"type":"Literal","start":4237,"end":4241,"raw":"true","value":true}}],"end":4252},"test":{"type":"CallExpression","start":4195,"end":4214,"arguments":[],"callee":{"type":"MemberExpression","start":4195,"end":4212,"computed":false,"object":{"type":"ThisExpression","start":4195,"end":4199},"optional":false,"property":{"type":"Identifier","start":4200,"end":4212,"name":"userSignedIn"}},"optional":false}}],"end":4777},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4167,"end":4172,"name":"route"},{"type":"Identifier","start":4174,"end":4179,"name":"state"}]}},{"type":"MethodDefinition","start":4851,"end":5889,"computed":false,"key":{"type":"Identifier","start":4851,"end":4866,"name":"registerAccount"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":4866,"end":5889,"async":false,"body":{"type":"BlockStatement","start":4897,"body":[{"type":"ExpressionStatement","start":4907,"end":4954,"expression":{"type":"AssignmentExpression","start":4907,"end":4953,"left":{"type":"Identifier","start":4907,"end":4919,"name":"registerData"},"operator":"=","right":{"type":"CallExpression","start":4922,"end":4953,"arguments":[{"type":"ObjectExpression","start":4936,"end":4938,"properties":[]},{"type":"Identifier","start":4940,"end":4952,"name":"registerData"}],"callee":{"type":"MemberExpression","start":4922,"end":4935,"computed":false,"object":{"type":"Identifier","start":4922,"end":4928,"name":"Object"},"optional":false,"property":{"type":"Identifier","start":4929,"end":4935,"name":"assign"}},"optional":false}}},{"type":"IfStatement","start":4963,"end":5193,"alternate":{"type":"BlockStatement","start":5061,"body":[{"type":"ExpressionStatement","start":5075,"end":5141,"expression":{"type":"CallExpression","start":5075,"end":5140,"arguments":[{"type":"CallExpression","start":5094,"end":5139,"arguments":[{"type":"MemberExpression","start":5117,"end":5138,"computed":false,"object":{"type":"Identifier","start":5117,"end":5129,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5130,"end":5138,"name":"userType"}}],"callee":{"type":"MemberExpression","start":5094,"end":5116,"computed":false,"object":{"type":"ThisExpression","start":5094,"end":5098},"optional":false,"property":{"type":"Identifier","start":5099,"end":5116,"name":"getUserTypeByName"}},"optional":false}],"callee":{"type":"MemberExpression","start":5075,"end":5093,"computed":false,"object":{"type":"MemberExpression","start":5075,"end":5088,"computed":false,"object":{"type":"ThisExpression","start":5075,"end":5079},"optional":false,"property":{"type":"Identifier","start":5080,"end":5088,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":5089,"end":5093,"name":"next"}},"optional":false}},{"type":"ExpressionStatement","start":5154,"end":5183,"expression":{"type":"UnaryExpression","start":5154,"end":5182,"argument":{"type":"MemberExpression","start":5161,"end":5182,"computed":false,"object":{"type":"Identifier","start":5161,"end":5173,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5174,"end":5182,"name":"userType"}},"operator":"delete","prefix":true}}],"end":5193},"consequent":{"type":"BlockStatement","start":4998,"body":[{"type":"ExpressionStatement","start":5012,"end":5037,"expression":{"type":"CallExpression","start":5012,"end":5036,"arguments":[{"type":"Literal","start":5031,"end":5035,"raw":"null","value":null}],"callee":{"type":"MemberExpression","start":5012,"end":5030,"computed":false,"object":{"type":"MemberExpression","start":5012,"end":5025,"computed":false,"object":{"type":"ThisExpression","start":5012,"end":5016},"optional":false,"property":{"type":"Identifier","start":5017,"end":5025,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":5026,"end":5030,"name":"next"}},"optional":false}}],"end":5047},"test":{"type":"BinaryExpression","start":4967,"end":4996,"left":{"type":"MemberExpression","start":4967,"end":4988,"computed":false,"object":{"type":"Identifier","start":4967,"end":4979,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":4980,"end":4988,"name":"userType"}},"operator":"==","right":{"type":"Literal","start":4992,"end":4996,"raw":"null","value":null}}},{"type":"IfStatement","start":5202,"end":5456,"alternate":null,"consequent":{"type":"BlockStatement","start":5307,"body":[{"type":"ExpressionStatement","start":5321,"end":5392,"expression":{"type":"AssignmentExpression","start":5321,"end":5391,"left":{"type":"MemberExpression","start":5321,"end":5355,"computed":false,"object":{"type":"Identifier","start":5321,"end":5333,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5334,"end":5355,"name":"password_confirmation"}},"operator":"=","right":{"type":"MemberExpression","start":5358,"end":5391,"computed":false,"object":{"type":"Identifier","start":5358,"end":5370,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5371,"end":5391,"name":"passwordConfirmation"}}}},{"type":"ExpressionStatement","start":5405,"end":5446,"expression":{"type":"UnaryExpression","start":5405,"end":5445,"argument":{"type":"MemberExpression","start":5412,"end":5445,"computed":false,"object":{"type":"Identifier","start":5412,"end":5424,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5425,"end":5445,"name":"passwordConfirmation"}},"operator":"delete","prefix":true}}],"end":5456},"test":{"type":"LogicalExpression","start":5206,"end":5305,"left":{"type":"BinaryExpression","start":5206,"end":5248,"left":{"type":"MemberExpression","start":5206,"end":5240,"computed":false,"object":{"type":"Identifier","start":5206,"end":5218,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5219,"end":5240,"name":"password_confirmation"}},"operator":"==","right":{"type":"Literal","start":5244,"end":5248,"raw":"null","value":null}},"operator":"&&","right":{"type":"BinaryExpression","start":5264,"end":5305,"left":{"type":"MemberExpression","start":5264,"end":5297,"computed":false,"object":{"type":"Identifier","start":5264,"end":5276,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5277,"end":5297,"name":"passwordConfirmation"}},"operator":"!=","right":{"type":"Literal","start":5301,"end":5305,"raw":"null","value":null}}}},{"type":"IfStatement","start":5465,"end":5568,"alternate":null,"consequent":{"type":"BlockStatement","start":5499,"body":[{"type":"ExpressionStatement","start":5513,"end":5558,"expression":{"type":"AssignmentExpression","start":5513,"end":5557,"left":{"type":"MemberExpression","start":5513,"end":5540,"computed":false,"object":{"type":"Identifier","start":5513,"end":5525,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5526,"end":5540,"name":"additionalData"}},"operator":"=","right":{"type":"Identifier","start":5543,"end":5557,"name":"additionalData"}}}],"end":5568},"test":{"type":"BinaryExpression","start":5469,"end":5497,"left":{"type":"Identifier","start":5469,"end":5483,"name":"additionalData"},"operator":"!==","right":{"type":"Identifier","start":5488,"end":5497,"name":"undefined"}}},{"type":"VariableDeclaration","start":5577,"end":5610,"declarations":[{"type":"VariableDeclarator","start":5583,"end":5609,"id":{"type":"Identifier","start":5583,"end":5588,"name":"login"},"init":{"type":"MemberExpression","start":5591,"end":5609,"computed":false,"object":{"type":"Identifier","start":5591,"end":5603,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5604,"end":5609,"name":"login"}}}],"kind":"const"},{"type":"ExpressionStatement","start":5619,"end":5645,"expression":{"type":"UnaryExpression","start":5619,"end":5644,"argument":{"type":"MemberExpression","start":5626,"end":5644,"computed":false,"object":{"type":"Identifier","start":5626,"end":5638,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5639,"end":5644,"name":"login"}},"operator":"delete","prefix":true}},{"type":"ExpressionStatement","start":5654,"end":5700,"expression":{"type":"AssignmentExpression","start":5654,"end":5699,"left":{"type":"MemberExpression","start":5654,"end":5691,"computed":true,"object":{"type":"Identifier","start":5654,"end":5666,"name":"registerData"},"optional":false,"property":{"type":"MemberExpression","start":5667,"end":5690,"computed":false,"object":{"type":"MemberExpression","start":5667,"end":5679,"computed":false,"object":{"type":"ThisExpression","start":5667,"end":5671},"optional":false,"property":{"type":"Identifier","start":5672,"end":5679,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":5680,"end":5690,"name":"loginField"}}},"operator":"=","right":{"type":"Identifier","start":5694,"end":5699,"name":"login"}}},{"type":"ExpressionStatement","start":5709,"end":5781,"expression":{"type":"AssignmentExpression","start":5709,"end":5780,"left":{"type":"MemberExpression","start":5709,"end":5741,"computed":false,"object":{"type":"Identifier","start":5709,"end":5721,"name":"registerData"},"optional":false,"property":{"type":"Identifier","start":5722,"end":5741,"name":"confirm_success_url"}},"operator":"=","right":{"type":"MemberExpression","start":5744,"end":5780,"computed":false,"object":{"type":"MemberExpression","start":5744,"end":5756,"computed":false,"object":{"type":"ThisExpression","start":5744,"end":5748},"optional":false,"property":{"type":"Identifier","start":5749,"end":5756,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":5757,"end":5780,"name":"registerAccountCallback"}}}},{"type":"ReturnStatement","start":5790,"end":5883,"argument":{"type":"CallExpression","start":5797,"end":5882,"arguments":[{"type":"BinaryExpression","start":5812,"end":5867,"left":{"type":"CallExpression","start":5812,"end":5832,"arguments":[],"callee":{"type":"MemberExpression","start":5812,"end":5830,"computed":false,"object":{"type":"ThisExpression","start":5812,"end":5816},"optional":false,"property":{"type":"Identifier","start":5817,"end":5830,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":5835,"end":5867,"computed":false,"object":{"type":"MemberExpression","start":5835,"end":5847,"computed":false,"object":{"type":"ThisExpression","start":5835,"end":5839},"optional":false,"property":{"type":"Identifier","start":5840,"end":5847,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":5848,"end":5867,"name":"registerAccountPath"}}},{"type":"Identifier","start":5869,"end":5881,"name":"registerData"}],"callee":{"type":"MemberExpression","start":5797,"end":5811,"computed":false,"object":{"type":"MemberExpression","start":5797,"end":5806,"computed":false,"object":{"type":"ThisExpression","start":5797,"end":5801},"optional":false,"property":{"type":"Identifier","start":5802,"end":5806,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":5807,"end":5811,"name":"post"}},"optional":false}}],"end":5889},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":4867,"end":4879,"name":"registerData"},{"type":"Identifier","start":4881,"end":4895,"name":"additionalData"}]}},{"type":"MethodDefinition","start":5916,"end":6027,"computed":false,"key":{"type":"Identifier","start":5916,"end":5929,"name":"deleteAccount"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":5929,"end":6027,"async":false,"body":{"type":"BlockStatement","start":5932,"body":[{"type":"ReturnStatement","start":5942,"end":6021,"argument":{"type":"CallExpression","start":5949,"end":6020,"arguments":[{"type":"BinaryExpression","start":5966,"end":6019,"left":{"type":"CallExpression","start":5966,"end":5986,"arguments":[],"callee":{"type":"MemberExpression","start":5966,"end":5984,"computed":false,"object":{"type":"ThisExpression","start":5966,"end":5970},"optional":false,"property":{"type":"Identifier","start":5971,"end":5984,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":5989,"end":6019,"computed":false,"object":{"type":"MemberExpression","start":5989,"end":6001,"computed":false,"object":{"type":"ThisExpression","start":5989,"end":5993},"optional":false,"property":{"type":"Identifier","start":5994,"end":6001,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":6002,"end":6019,"name":"deleteAccountPath"}}}],"callee":{"type":"MemberExpression","start":5949,"end":5965,"computed":false,"object":{"type":"MemberExpression","start":5949,"end":5958,"computed":false,"object":{"type":"ThisExpression","start":5949,"end":5953},"optional":false,"property":{"type":"Identifier","start":5954,"end":5958,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":5959,"end":5965,"name":"delete"}},"optional":false}}],"end":6027},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":6071,"end":6658,"computed":false,"key":{"type":"Identifier","start":6071,"end":6077,"name":"signIn"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":6077,"end":6658,"async":false,"body":{"type":"BlockStatement","start":6106,"body":[{"type":"ExpressionStatement","start":6116,"end":6219,"expression":{"type":"CallExpression","start":6116,"end":6218,"arguments":[{"type":"ConditionalExpression","start":6135,"end":6217,"alternate":{"type":"CallExpression","start":6174,"end":6217,"arguments":[{"type":"MemberExpression","start":6197,"end":6216,"computed":false,"object":{"type":"Identifier","start":6197,"end":6207,"name":"signInData"},"optional":false,"property":{"type":"Identifier","start":6208,"end":6216,"name":"userType"}}],"callee":{"type":"MemberExpression","start":6174,"end":6196,"computed":false,"object":{"type":"ThisExpression","start":6174,"end":6178},"optional":false,"property":{"type":"Identifier","start":6179,"end":6196,"name":"getUserTypeByName"}},"optional":false},"consequent":{"type":"Literal","start":6167,"end":6171,"raw":"null","value":null},"test":{"type":"BinaryExpression","start":6136,"end":6163,"left":{"type":"MemberExpression","start":6136,"end":6155,"computed":false,"object":{"type":"Identifier","start":6136,"end":6146,"name":"signInData"},"optional":false,"property":{"type":"Identifier","start":6147,"end":6155,"name":"userType"}},"operator":"==","right":{"type":"Literal","start":6159,"end":6163,"raw":"null","value":null}}}],"callee":{"type":"MemberExpression","start":6116,"end":6134,"computed":false,"object":{"type":"MemberExpression","start":6116,"end":6129,"computed":false,"object":{"type":"ThisExpression","start":6116,"end":6120},"optional":false,"property":{"type":"Identifier","start":6121,"end":6129,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":6130,"end":6134,"name":"next"}},"optional":false}},{"type":"VariableDeclaration","start":6228,"end":6352,"declarations":[{"type":"VariableDeclarator","start":6234,"end":6351,"id":{"type":"Identifier","start":6234,"end":6238,"name":"body"},"init":{"type":"ObjectExpression","start":6241,"end":6351,"properties":[{"type":"Property","start":6255,"end":6298,"computed":true,"key":{"type":"MemberExpression","start":6256,"end":6279,"computed":false,"object":{"type":"MemberExpression","start":6256,"end":6268,"computed":false,"object":{"type":"ThisExpression","start":6256,"end":6260},"optional":false,"property":{"type":"Identifier","start":6261,"end":6268,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":6269,"end":6279,"name":"loginField"}},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":6282,"end":6298,"computed":false,"object":{"type":"Identifier","start":6282,"end":6292,"name":"signInData"},"optional":false,"property":{"type":"Identifier","start":6293,"end":6298,"name":"login"}}},{"type":"Property","start":6312,"end":6341,"computed":false,"key":{"type":"Identifier","start":6312,"end":6320,"name":"password"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":6322,"end":6341,"computed":false,"object":{"type":"Identifier","start":6322,"end":6332,"name":"signInData"},"optional":false,"property":{"type":"Identifier","start":6333,"end":6341,"name":"password"}}}]}}],"kind":"const"},{"type":"IfStatement","start":6361,"end":6459,"alternate":null,"consequent":{"type":"BlockStatement","start":6395,"body":[{"type":"ExpressionStatement","start":6409,"end":6449,"expression":{"type":"AssignmentExpression","start":6409,"end":6448,"left":{"type":"MemberExpression","start":6409,"end":6431,"computed":true,"object":{"type":"Identifier","start":6409,"end":6413,"name":"body"},"optional":false,"property":{"type":"Literal","start":6414,"end":6430,"raw":"'additionalData'","value":"additionalData"}},"operator":"=","right":{"type":"Identifier","start":6434,"end":6448,"name":"additionalData"}}}],"end":6459},"test":{"type":"BinaryExpression","start":6365,"end":6393,"left":{"type":"Identifier","start":6365,"end":6379,"name":"additionalData"},"operator":"!==","right":{"type":"Identifier","start":6384,"end":6393,"name":"undefined"}}},{"type":"VariableDeclaration","start":6468,"end":6566,"declarations":[{"type":"VariableDeclarator","start":6474,"end":6565,"id":{"type":"Identifier","start":6474,"end":6480,"name":"observ"},"init":{"type":"CallExpression","start":6483,"end":6565,"arguments":[{"type":"CallExpression","start":6557,"end":6564,"arguments":[],"callee":{"type":"Identifier","start":6557,"end":6562,"name":"share"},"optional":false}],"callee":{"type":"MemberExpression","start":6483,"end":6556,"computed":false,"object":{"type":"CallExpression","start":6483,"end":6551,"arguments":[{"type":"BinaryExpression","start":6498,"end":6544,"left":{"type":"CallExpression","start":6498,"end":6518,"arguments":[],"callee":{"type":"MemberExpression","start":6498,"end":6516,"computed":false,"object":{"type":"ThisExpression","start":6498,"end":6502},"optional":false,"property":{"type":"Identifier","start":6503,"end":6516,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":6521,"end":6544,"computed":false,"object":{"type":"MemberExpression","start":6521,"end":6533,"computed":false,"object":{"type":"ThisExpression","start":6521,"end":6525},"optional":false,"property":{"type":"Identifier","start":6526,"end":6533,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":6534,"end":6544,"name":"signInPath"}}},{"type":"Identifier","start":6546,"end":6550,"name":"body"}],"callee":{"type":"MemberExpression","start":6483,"end":6497,"computed":false,"object":{"type":"MemberExpression","start":6483,"end":6492,"computed":false,"object":{"type":"ThisExpression","start":6483,"end":6487},"optional":false,"property":{"type":"Identifier","start":6488,"end":6492,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":6493,"end":6497,"name":"post"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":6552,"end":6556,"name":"pipe"}},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6575,"end":6629,"expression":{"type":"CallExpression","start":6575,"end":6628,"arguments":[{"type":"ArrowFunctionExpression","start":6592,"end":6627,"async":false,"body":{"type":"CallExpression","start":6599,"end":6627,"arguments":[{"type":"MemberExpression","start":6618,"end":6626,"computed":false,"object":{"type":"Identifier","start":6618,"end":6621,"name":"res"},"optional":false,"property":{"type":"Identifier","start":6622,"end":6626,"name":"data"}}],"callee":{"type":"MemberExpression","start":6599,"end":6617,"computed":false,"object":{"type":"MemberExpression","start":6599,"end":6612,"computed":false,"object":{"type":"ThisExpression","start":6599,"end":6603},"optional":false,"property":{"type":"Identifier","start":6604,"end":6612,"name":"userData"}},"optional":false,"property":{"type":"Identifier","start":6613,"end":6617,"name":"next"}},"optional":false},"expression":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":6592,"end":6595,"name":"res"}]}],"callee":{"type":"MemberExpression","start":6575,"end":6591,"computed":false,"object":{"type":"Identifier","start":6575,"end":6581,"name":"observ"},"optional":false,"property":{"type":"Identifier","start":6582,"end":6591,"name":"subscribe"}},"optional":false}},{"type":"ReturnStatement","start":6638,"end":6652,"argument":{"type":"Identifier","start":6645,"end":6651,"name":"observ"}}],"end":6658},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6078,"end":6088,"name":"signInData"},{"type":"Identifier","start":6090,"end":6104,"name":"additionalData"}]}},{"type":"MethodDefinition","start":6663,"end":10178,"computed":false,"key":{"type":"Identifier","start":6663,"end":6674,"name":"signInOAuth"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":6674,"end":10178,"async":false,"body":{"type":"BlockStatement","start":6710,"body":[{"type":"VariableDeclaration","start":6720,"end":6767,"declarations":[{"type":"VariableDeclarator","start":6726,"end":6766,"id":{"type":"Identifier","start":6726,"end":6735,"name":"oAuthPath"},"init":{"type":"CallExpression","start":6738,"end":6766,"arguments":[{"type":"Identifier","start":6756,"end":6765,"name":"oAuthType"}],"callee":{"type":"MemberExpression","start":6738,"end":6755,"computed":false,"object":{"type":"ThisExpression","start":6738,"end":6742},"optional":false,"property":{"type":"Identifier","start":6743,"end":6755,"name":"getOAuthPath"}},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6776,"end":6870,"declarations":[{"type":"VariableDeclarator","start":6782,"end":6869,"id":{"type":"Identifier","start":6782,"end":6793,"name":"callbackUrl"},"init":{"type":"MemberExpression","start":6796,"end":6869,"computed":false,"object":{"type":"NewExpression","start":6796,"end":6864,"arguments":[{"type":"MemberExpression","start":6804,"end":6834,"computed":false,"object":{"type":"MemberExpression","start":6804,"end":6816,"computed":false,"object":{"type":"ThisExpression","start":6804,"end":6808},"optional":false,"property":{"type":"Identifier","start":6809,"end":6816,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":6817,"end":6834,"name":"oAuthCallbackPath"}},{"type":"MemberExpression","start":6836,"end":6863,"computed":false,"object":{"type":"MemberExpression","start":6836,"end":6856,"computed":false,"object":{"type":"MemberExpression","start":6836,"end":6847,"computed":false,"object":{"type":"ThisExpression","start":6836,"end":6840},"optional":false,"property":{"type":"Identifier","start":6841,"end":6847,"name":"global"}},"optional":false,"property":{"type":"Identifier","start":6848,"end":6856,"name":"location"}},"optional":false,"property":{"type":"Identifier","start":6857,"end":6863,"name":"origin"}}],"callee":{"type":"Identifier","start":6800,"end":6803,"name":"URL"}},"optional":false,"property":{"type":"Identifier","start":6865,"end":6869,"name":"href"}}}],"kind":"const"},{"type":"VariableDeclaration","start":6879,"end":6932,"declarations":[{"type":"VariableDeclarator","start":6885,"end":6931,"id":{"type":"Identifier","start":6885,"end":6900,"name":"oAuthWindowType"},"init":{"type":"MemberExpression","start":6903,"end":6931,"computed":false,"object":{"type":"MemberExpression","start":6903,"end":6915,"computed":false,"object":{"type":"ThisExpression","start":6903,"end":6907},"optional":false,"property":{"type":"Identifier","start":6908,"end":6915,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":6916,"end":6931,"name":"oAuthWindowType"}}}],"kind":"const"},{"type":"VariableDeclaration","start":6941,"end":7015,"declarations":[{"type":"VariableDeclarator","start":6947,"end":7014,"id":{"type":"Identifier","start":6947,"end":6954,"name":"authUrl"},"init":{"type":"CallExpression","start":6957,"end":7014,"arguments":[{"type":"Identifier","start":6974,"end":6983,"name":"oAuthPath"},{"type":"Identifier","start":6985,"end":6996,"name":"callbackUrl"},{"type":"Identifier","start":6998,"end":7013,"name":"oAuthWindowType"}],"callee":{"type":"MemberExpression","start":6957,"end":6973,"computed":false,"object":{"type":"ThisExpression","start":6957,"end":6961},"optional":false,"property":{"type":"Identifier","start":6962,"end":6973,"name":"getOAuthUrl"}},"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7024,"end":10172,"alternate":{"type":"IfStatement","start":7804,"end":10172,"alternate":{"type":"IfStatement","start":9938,"end":10172,"alternate":{"type":"BlockStatement","start":10080,"body":[{"type":"ThrowStatement","start":10094,"end":10162,"argument":{"type":"NewExpression","start":10100,"end":10161,"arguments":[{"type":"TemplateLiteral","start":10110,"end":10160,"expressions":[{"type":"Identifier","start":10142,"end":10157,"name":"oAuthWindowType"}],"quasis":[{"type":"TemplateElement","start":10111,"end":10140,"tail":false,"value":{"cooked":"Unsupported oAuthWindowType \"","raw":"Unsupported oAuthWindowType \""}},{"type":"TemplateElement","start":10158,"end":10159,"tail":true,"value":{"cooked":"\"","raw":"\""}}]}],"callee":{"type":"Identifier","start":10104,"end":10109,"name":"Error"}}}],"end":10172},"consequent":{"type":"BlockStatement","start":9976,"body":[{"type":"ExpressionStatement","start":9990,"end":10026,"expression":{"type":"AssignmentExpression","start":9990,"end":10025,"left":{"type":"MemberExpression","start":9990,"end":10015,"computed":false,"object":{"type":"MemberExpression","start":9990,"end":10010,"computed":false,"object":{"type":"MemberExpression","start":9990,"end":10001,"computed":false,"object":{"type":"ThisExpression","start":9990,"end":9994},"optional":false,"property":{"type":"Identifier","start":9995,"end":10001,"name":"global"}},"optional":false,"property":{"type":"Identifier","start":10002,"end":10010,"name":"location"}},"optional":false,"property":{"type":"Identifier","start":10011,"end":10015,"name":"href"}},"operator":"=","right":{"type":"Identifier","start":10018,"end":10025,"name":"authUrl"}}},{"type":"ReturnStatement","start":10039,"end":10056,"argument":{"type":"Identifier","start":10046,"end":10055,"name":"undefined"}}],"end":10066},"test":{"type":"BinaryExpression","start":9942,"end":9974,"left":{"type":"Identifier","start":9942,"end":9957,"name":"oAuthWindowType"},"operator":"===","right":{"type":"Literal","start":9962,"end":9974,"raw":"'sameWindow'","value":"sameWindow"}}},"consequent":{"type":"BlockStatement","start":7843,"body":[{"type":"VariableDeclaration","start":7857,"end":7930,"declarations":[{"type":"VariableDeclarator","start":7861,"end":7929,"id":{"type":"Identifier","start":7861,"end":7881,"name":"oAuthBrowserCallback"},"init":{"type":"MemberExpression","start":7884,"end":7929,"computed":true,"object":{"type":"MemberExpression","start":7884,"end":7918,"computed":false,"object":{"type":"MemberExpression","start":7884,"end":7896,"computed":false,"object":{"type":"ThisExpression","start":7884,"end":7888},"optional":false,"property":{"type":"Identifier","start":7889,"end":7896,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":7897,"end":7918,"name":"oAuthBrowserCallbacks"}},"optional":false,"property":{"type":"Identifier","start":7919,"end":7928,"name":"oAuthType"}}}],"kind":"let"},{"type":"IfStatement","start":7943,"end":8135,"alternate":null,"consequent":{"type":"BlockStatement","start":7970,"body":[{"type":"ThrowStatement","start":7988,"end":8121,"argument":{"type":"NewExpression","start":7994,"end":8120,"arguments":[{"type":"TemplateLiteral","start":8004,"end":8119,"expressions":[{"type":"Identifier","start":8036,"end":8045,"name":"oAuthType"}],"quasis":[{"type":"TemplateElement","start":8005,"end":8034,"tail":false,"value":{"cooked":"To login with oAuth provider ","raw":"To login with oAuth provider "}},{"type":"TemplateElement","start":8046,"end":8118,"tail":true,"value":{"cooked":" using inAppBrowser the callback (in oAuthBrowserCallbacks) is required.","raw":" using inAppBrowser the callback (in oAuthBrowserCallbacks) is required."}}]}],"callee":{"type":"Identifier","start":7998,"end":8003,"name":"Error"}}}],"end":8135},"test":{"type":"UnaryExpression","start":7947,"end":7968,"argument":{"type":"Identifier","start":7948,"end":7968,"name":"oAuthBrowserCallback"},"operator":"!","prefix":true}},{"type":"VariableDeclaration","start":8475,"end":8543,"declarations":[{"type":"VariableDeclarator","start":8479,"end":8542,"id":{"type":"Identifier","start":8479,"end":8486,"name":"browser"},"init":{"type":"CallExpression","start":8489,"end":8542,"arguments":[{"type":"Identifier","start":8509,"end":8516,"name":"authUrl"},{"type":"Literal","start":8518,"end":8526,"raw":"'_blank'","value":"_blank"},{"type":"Literal","start":8528,"end":8541,"raw":"'location=no'","value":"location=no"}],"callee":{"type":"MemberExpression","start":8489,"end":8508,"computed":false,"object":{"type":"Identifier","start":8489,"end":8501,"name":"inAppBrowser"},"optional":false,"property":{"type":"Identifier","start":8502,"end":8508,"name":"create"}},"optional":false}}],"kind":"let"},{"type":"ReturnStatement","start":8556,"end":9914,"argument":{"type":"NewExpression","start":8563,"end":9913,"arguments":[{"type":"ArrowFunctionExpression","start":8578,"end":9912,"async":false,"body":{"type":"BlockStatement","start":8592,"body":[{"type":"ExpressionStatement","start":8610,"end":9898,"expression":{"type":"CallExpression","start":8610,"end":9897,"arguments":[{"type":"ArrowFunctionExpression","start":8643,"end":9780,"async":false,"body":{"type":"BlockStatement","start":8651,"body":[{"type":"IfStatement","start":8673,"end":9762,"alternate":null,"consequent":{"type":"BlockStatement","start":8720,"body":[{"type":"ExpressionStatement","start":8746,"end":9740,"expression":{"type":"CallExpression","start":8746,"end":9739,"arguments":[{"type":"ArrowFunctionExpression","start":8808,"end":9598,"async":false,"body":{"type":"BlockStatement","start":8825,"body":[{"type":"ExpressionStatement","start":8855,"end":8903,"expression":{"type":"CallExpression","start":8855,"end":8902,"arguments":[{"type":"MemberExpression","start":8887,"end":8901,"computed":true,"object":{"type":"Identifier","start":8887,"end":8898,"name":"credentials"},"optional":false,"property":{"type":"Literal","start":8899,"end":8900,"raw":"0","value":0}}],"callee":{"type":"MemberExpression","start":8855,"end":8886,"computed":false,"object":{"type":"ThisExpression","start":8855,"end":8859},"optional":false,"property":{"type":"Identifier","start":8860,"end":8886,"name":"getAuthDataFromPostMessage"}},"optional":false}},{"type":"VariableDeclaration","start":8932,"end":8965,"declarations":[{"type":"VariableDeclarator","start":8936,"end":8964,"id":{"type":"Identifier","start":8936,"end":8948,"name":"pollerObserv"},"init":{"type":"CallExpression","start":8951,"end":8964,"arguments":[{"type":"Literal","start":8960,"end":8963,"raw":"400","value":400}],"callee":{"type":"Identifier","start":8951,"end":8959,"name":"interval"},"optional":false}}],"kind":"let"},{"type":"VariableDeclaration","start":8994,"end":9572,"declarations":[{"type":"VariableDeclarator","start":8998,"end":9571,"id":{"type":"Identifier","start":8998,"end":9016,"name":"pollerSubscription"},"init":{"type":"CallExpression","start":9019,"end":9571,"arguments":[{"type":"ArrowFunctionExpression","start":9042,"end":9418,"async":false,"body":{"type":"BlockStatement","start":9048,"body":[{"type":"IfStatement","start":9082,"end":9388,"alternate":null,"consequent":{"type":"BlockStatement","start":9107,"body":[{"type":"ExpressionStatement","start":9145,"end":9174,"expression":{"type":"CallExpression","start":9145,"end":9173,"arguments":[{"type":"MemberExpression","start":9159,"end":9172,"computed":false,"object":{"type":"ThisExpression","start":9159,"end":9163},"optional":false,"property":{"type":"Identifier","start":9164,"end":9172,"name":"authData"}}],"callee":{"type":"MemberExpression","start":9145,"end":9158,"computed":false,"object":{"type":"Identifier","start":9145,"end":9153,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9154,"end":9158,"name":"next"}},"optional":false}},{"type":"ExpressionStatement","start":9211,"end":9231,"expression":{"type":"CallExpression","start":9211,"end":9230,"arguments":[],"callee":{"type":"MemberExpression","start":9211,"end":9228,"computed":false,"object":{"type":"Identifier","start":9211,"end":9219,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9220,"end":9228,"name":"complete"}},"optional":false}},{"type":"ExpressionStatement","start":9268,"end":9301,"expression":{"type":"CallExpression","start":9268,"end":9300,"arguments":[],"callee":{"type":"MemberExpression","start":9268,"end":9298,"computed":false,"object":{"type":"Identifier","start":9268,"end":9286,"name":"pollerSubscription"},"optional":false,"property":{"type":"Identifier","start":9287,"end":9298,"name":"unsubscribe"}},"optional":false}},{"type":"ExpressionStatement","start":9338,"end":9354,"expression":{"type":"CallExpression","start":9338,"end":9353,"arguments":[],"callee":{"type":"MemberExpression","start":9338,"end":9351,"computed":false,"object":{"type":"Identifier","start":9338,"end":9345,"name":"browser"},"optional":false,"property":{"type":"Identifier","start":9346,"end":9351,"name":"close"}},"optional":false}}],"end":9388},"test":{"type":"CallExpression","start":9086,"end":9105,"arguments":[],"callee":{"type":"MemberExpression","start":9086,"end":9103,"computed":false,"object":{"type":"ThisExpression","start":9086,"end":9090},"optional":false,"property":{"type":"Identifier","start":9091,"end":9103,"name":"userSignedIn"}},"optional":false}}],"end":9418},"expression":false,"generator":false,"id":null,"params":[]},{"type":"ArrowFunctionExpression","start":9420,"end":9570,"async":false,"body":{"type":"BlockStatement","start":9431,"body":[{"type":"ExpressionStatement","start":9465,"end":9487,"expression":{"type":"CallExpression","start":9465,"end":9486,"arguments":[{"type":"Identifier","start":9480,"end":9485,"name":"error"}],"callee":{"type":"MemberExpression","start":9465,"end":9479,"computed":false,"object":{"type":"Identifier","start":9465,"end":9473,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9474,"end":9479,"name":"error"}},"optional":false}},{"type":"ExpressionStatement","start":9520,"end":9540,"expression":{"type":"CallExpression","start":9520,"end":9539,"arguments":[],"callee":{"type":"MemberExpression","start":9520,"end":9537,"computed":false,"object":{"type":"Identifier","start":9520,"end":9528,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9529,"end":9537,"name":"complete"}},"optional":false}}],"end":9570},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":9421,"end":9426,"name":"error"}]}],"callee":{"type":"MemberExpression","start":9019,"end":9041,"computed":false,"object":{"type":"Identifier","start":9019,"end":9031,"name":"pollerObserv"},"optional":false,"property":{"type":"Identifier","start":9032,"end":9041,"name":"subscribe"}},"optional":false}}],"kind":"let"}],"end":9598},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8809,"end":8820,"name":"credentials"}]},{"type":"ArrowFunctionExpression","start":9600,"end":9738,"async":false,"body":{"type":"BlockStatement","start":9611,"body":[{"type":"ExpressionStatement","start":9641,"end":9663,"expression":{"type":"CallExpression","start":9641,"end":9662,"arguments":[{"type":"Identifier","start":9656,"end":9661,"name":"error"}],"callee":{"type":"MemberExpression","start":9641,"end":9655,"computed":false,"object":{"type":"Identifier","start":9641,"end":9649,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9650,"end":9655,"name":"error"}},"optional":false}},{"type":"ExpressionStatement","start":9692,"end":9712,"expression":{"type":"CallExpression","start":9692,"end":9711,"arguments":[],"callee":{"type":"MemberExpression","start":9692,"end":9709,"computed":false,"object":{"type":"Identifier","start":9692,"end":9700,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9701,"end":9709,"name":"complete"}},"optional":false}}],"end":9738},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":9601,"end":9606,"name":"error"}]}],"callee":{"type":"MemberExpression","start":8746,"end":8807,"computed":false,"object":{"type":"CallExpression","start":8746,"end":8802,"arguments":[{"type":"ObjectExpression","start":8768,"end":8801,"properties":[{"type":"Property","start":8770,"end":8799,"computed":false,"key":{"type":"Identifier","start":8770,"end":8774,"name":"code"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":8776,"end":8799,"raw":"\"requestCredentials();\"","value":"requestCredentials();"}}]}],"callee":{"type":"MemberExpression","start":8746,"end":8767,"computed":false,"object":{"type":"Identifier","start":8746,"end":8753,"name":"browser"},"optional":false,"property":{"type":"Identifier","start":8754,"end":8767,"name":"executeScript"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":8803,"end":8807,"name":"then"}},"optional":false}}],"end":9762},"test":{"type":"BinaryExpression","start":8677,"end":8718,"left":{"type":"CallExpression","start":8677,"end":8713,"arguments":[{"type":"Identifier","start":8692,"end":8712,"name":"oAuthBrowserCallback"}],"callee":{"type":"MemberExpression","start":8677,"end":8691,"computed":false,"object":{"type":"MemberExpression","start":8677,"end":8683,"computed":false,"object":{"type":"Identifier","start":8677,"end":8679,"name":"ev"},"optional":false,"property":{"type":"Identifier","start":8680,"end":8683,"name":"url"}},"optional":false,"property":{"type":"Identifier","start":8684,"end":8691,"name":"indexOf"}},"optional":false},"operator":">","right":{"type":"UnaryExpression","start":8716,"end":8718,"argument":{"type":"Literal","start":8717,"end":8718,"raw":"1","value":1},"operator":"-","prefix":true}}}],"end":9780},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8644,"end":8646,"name":"ev"}]},{"type":"ArrowFunctionExpression","start":9782,"end":9896,"async":false,"body":{"type":"BlockStatement","start":9793,"body":[{"type":"ExpressionStatement","start":9815,"end":9837,"expression":{"type":"CallExpression","start":9815,"end":9836,"arguments":[{"type":"Identifier","start":9830,"end":9835,"name":"error"}],"callee":{"type":"MemberExpression","start":9815,"end":9829,"computed":false,"object":{"type":"Identifier","start":9815,"end":9823,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9824,"end":9829,"name":"error"}},"optional":false}},{"type":"ExpressionStatement","start":9858,"end":9878,"expression":{"type":"CallExpression","start":9858,"end":9877,"arguments":[],"callee":{"type":"MemberExpression","start":9858,"end":9875,"computed":false,"object":{"type":"Identifier","start":9858,"end":9866,"name":"observer"},"optional":false,"property":{"type":"Identifier","start":9867,"end":9875,"name":"complete"}},"optional":false}}],"end":9896},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":9783,"end":9788,"name":"error"}]}],"callee":{"type":"MemberExpression","start":8610,"end":8642,"computed":false,"object":{"type":"CallExpression","start":8610,"end":8632,"arguments":[{"type":"Literal","start":8621,"end":8631,"raw":"'loadstop'","value":"loadstop"}],"callee":{"type":"MemberExpression","start":8610,"end":8620,"computed":false,"object":{"type":"Identifier","start":8610,"end":8617,"name":"browser"},"optional":false,"property":{"type":"Identifier","start":8618,"end":8620,"name":"on"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":8633,"end":8642,"name":"subscribe"}},"optional":false}}],"end":9912},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":8579,"end":8587,"name":"observer"}]}],"callee":{"type":"Identifier","start":8567,"end":8577,"name":"Observable"}}}],"end":9924},"test":{"type":"BinaryExpression","start":7808,"end":7841,"left":{"type":"Identifier","start":7808,"end":7823,"name":"oAuthWindowType"},"operator":"==","right":{"type":"Literal","start":7827,"end":7841,"raw":"'inAppBrowser'","value":"inAppBrowser"}}},"consequent":{"type":"BlockStatement","start":7205,"body":[{"type":"VariableDeclaration","start":7219,"end":7278,"declarations":[{"type":"VariableDeclarator","start":7225,"end":7277,"id":{"type":"Identifier","start":7225,"end":7243,"name":"oAuthWindowOptions"},"init":{"type":"MemberExpression","start":7246,"end":7277,"computed":false,"object":{"type":"MemberExpression","start":7246,"end":7258,"computed":false,"object":{"type":"ThisExpression","start":7246,"end":7250},"optional":false,"property":{"type":"Identifier","start":7251,"end":7258,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":7259,"end":7277,"name":"oAuthWindowOptions"}}}],"kind":"const"},{"type":"VariableDeclaration","start":7291,"end":7314,"declarations":[{"type":"VariableDeclarator","start":7295,"end":7313,"id":{"type":"Identifier","start":7295,"end":7308,"name":"windowOptions"},"init":{"type":"Literal","start":7311,"end":7313,"raw":"''","value":""}}],"kind":"let"},{"type":"IfStatement","start":7327,"end":7607,"alternate":null,"consequent":{"type":"BlockStatement","start":7351,"body":[{"type":"ForInStatement","start":7369,"end":7593,"body":{"type":"BlockStatement","start":7407,"body":[{"type":"IfStatement","start":7429,"end":7575,"alternate":null,"consequent":{"type":"BlockStatement","start":7473,"body":[{"type":"ExpressionStatement","start":7499,"end":7553,"expression":{"type":"AssignmentExpression","start":7499,"end":7552,"left":{"type":"Identifier","start":7499,"end":7512,"name":"windowOptions"},"operator":"+=","right":{"type":"TemplateLiteral","start":7516,"end":7552,"expressions":[{"type":"Identifier","start":7520,"end":7523,"name":"key"},{"type":"MemberExpression","start":7527,"end":7550,"computed":true,"object":{"type":"Identifier","start":7527,"end":7545,"name":"oAuthWindowOptions"},"optional":false,"property":{"type":"Identifier","start":7546,"end":7549,"name":"key"}}],"quasis":[{"type":"TemplateElement","start":7517,"end":7518,"tail":false,"value":{"cooked":",","raw":","}},{"type":"TemplateElement","start":7524,"end":7525,"tail":false,"value":{"cooked":"=","raw":"="}},{"type":"TemplateElement","start":7551,"end":7551,"tail":true,"value":{"cooked":"","raw":""}}]}}}],"end":7575},"test":{"type":"CallExpression","start":7433,"end":7471,"arguments":[{"type":"Identifier","start":7467,"end":7470,"name":"key"}],"callee":{"type":"MemberExpression","start":7433,"end":7466,"computed":false,"object":{"type":"Identifier","start":7433,"end":7451,"name":"oAuthWindowOptions"},"optional":false,"property":{"type":"Identifier","start":7452,"end":7466,"name":"hasOwnProperty"}},"optional":false}}],"end":7593},"left":{"type":"VariableDeclaration","start":7374,"end":7383,"declarations":[{"type":"VariableDeclarator","start":7380,"end":7383,"id":{"type":"Identifier","start":7380,"end":7383,"name":"key"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":7387,"end":7405,"name":"oAuthWindowOptions"}}],"end":7607},"test":{"type":"Identifier","start":7331,"end":7349,"name":"oAuthWindowOptions"}},{"type":"VariableDeclaration","start":7620,"end":7715,"declarations":[{"type":"VariableDeclarator","start":7626,"end":7714,"id":{"type":"Identifier","start":7626,"end":7631,"name":"popup"},"init":{"type":"CallExpression","start":7634,"end":7714,"arguments":[{"type":"Identifier","start":7651,"end":7658,"name":"authUrl"},{"type":"Literal","start":7660,"end":7668,"raw":"'_blank'","value":"_blank"},{"type":"TemplateLiteral","start":7670,"end":7713,"expressions":[{"type":"Identifier","start":7698,"end":7711,"name":"windowOptions"}],"quasis":[{"type":"TemplateElement","start":7671,"end":7696,"tail":false,"value":{"cooked":"closebuttoncaption=Cancel","raw":"closebuttoncaption=Cancel"}},{"type":"TemplateElement","start":7712,"end":7712,"tail":true,"value":{"cooked":"","raw":""}}]}],"callee":{"type":"MemberExpression","start":7634,"end":7650,"computed":false,"object":{"type":"MemberExpression","start":7634,"end":7645,"computed":false,"object":{"type":"ThisExpression","start":7634,"end":7638},"optional":false,"property":{"type":"Identifier","start":7639,"end":7645,"name":"window"}},"optional":false,"property":{"type":"Identifier","start":7646,"end":7650,"name":"open"}},"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":7728,"end":7780,"argument":{"type":"CallExpression","start":7735,"end":7779,"arguments":[{"type":"Identifier","start":7773,"end":7778,"name":"popup"}],"callee":{"type":"MemberExpression","start":7735,"end":7772,"computed":false,"object":{"type":"ThisExpression","start":7735,"end":7739},"optional":false,"property":{"type":"Identifier","start":7740,"end":7772,"name":"requestCredentialsViaPostMessage"}},"optional":false}}],"end":7790},"test":{"type":"LogicalExpression","start":7028,"end":7203,"left":{"type":"BinaryExpression","start":7028,"end":7059,"left":{"type":"Identifier","start":7028,"end":7043,"name":"oAuthWindowType"},"operator":"===","right":{"type":"Literal","start":7048,"end":7059,"raw":"'newWindow'","value":"newWindow"}},"operator":"||","right":{"type":"LogicalExpression","start":7076,"end":7202,"left":{"type":"BinaryExpression","start":7076,"end":7109,"left":{"type":"Identifier","start":7076,"end":7091,"name":"oAuthWindowType"},"operator":"==","right":{"type":"Literal","start":7095,"end":7109,"raw":"'inAppBrowser'","value":"inAppBrowser"}},"operator":"&&","right":{"type":"LogicalExpression","start":7114,"end":7201,"left":{"type":"LogicalExpression","start":7114,"end":7150,"left":{"type":"UnaryExpression","start":7114,"end":7123,"argument":{"type":"Identifier","start":7115,"end":7123,"name":"platform"},"operator":"!","prefix":true},"operator":"||","right":{"type":"UnaryExpression","start":7127,"end":7150,"argument":{"type":"CallExpression","start":7128,"end":7150,"arguments":[{"type":"Literal","start":7140,"end":7149,"raw":"'cordova'","value":"cordova"}],"callee":{"type":"MemberExpression","start":7128,"end":7139,"computed":false,"object":{"type":"Identifier","start":7128,"end":7136,"name":"platform"},"optional":false,"property":{"type":"Identifier","start":7137,"end":7139,"name":"is"}},"optional":false},"operator":"!","prefix":true}},"operator":"||","right":{"type":"UnaryExpression","start":7154,"end":7201,"argument":{"type":"LogicalExpression","start":7156,"end":7200,"left":{"type":"CallExpression","start":7156,"end":7174,"arguments":[{"type":"Literal","start":7168,"end":7173,"raw":"'ios'","value":"ios"}],"callee":{"type":"MemberExpression","start":7156,"end":7167,"computed":false,"object":{"type":"Identifier","start":7156,"end":7164,"name":"platform"},"optional":false,"property":{"type":"Identifier","start":7165,"end":7167,"name":"is"}},"optional":false},"operator":"||","right":{"type":"CallExpression","start":7178,"end":7200,"arguments":[{"type":"Literal","start":7190,"end":7199,"raw":"'android'","value":"android"}],"callee":{"type":"MemberExpression","start":7178,"end":7189,"computed":false,"object":{"type":"Identifier","start":7178,"end":7186,"name":"platform"},"optional":false,"property":{"type":"Identifier","start":7187,"end":7189,"name":"is"}},"optional":false}},"operator":"!","prefix":true}}}}}],"end":10178},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":6675,"end":6684,"name":"oAuthType"},{"type":"Identifier","start":6686,"end":6698,"name":"inAppBrowser"},{"type":"Identifier","start":6700,"end":6708,"name":"platform"}]}},{"type":"MethodDefinition","start":10183,"end":10251,"computed":false,"key":{"type":"Identifier","start":10183,"end":10203,"name":"processOAuthCallback"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":10203,"end":10251,"async":false,"body":{"type":"BlockStatement","start":10206,"body":[{"type":"ExpressionStatement","start":10216,"end":10245,"expression":{"type":"CallExpression","start":10216,"end":10244,"arguments":[],"callee":{"type":"MemberExpression","start":10216,"end":10242,"computed":false,"object":{"type":"ThisExpression","start":10216,"end":10220},"optional":false,"property":{"type":"Identifier","start":10221,"end":10242,"name":"getAuthDataFromParams"}},"optional":false}}],"end":10251},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":10299,"end":10902,"computed":false,"key":{"type":"Identifier","start":10299,"end":10306,"name":"signOut"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":10306,"end":10902,"async":false,"body":{"type":"BlockStatement","start":10309,"body":[{"type":"ReturnStatement","start":10319,"end":10896,"argument":{"type":"CallExpression","start":10326,"end":10895,"arguments":[{"type":"CallExpression","start":10488,"end":10894,"arguments":[{"type":"ArrowFunctionExpression","start":10497,"end":10893,"async":false,"body":{"type":"BlockStatement","start":10503,"body":[{"type":"ExpressionStatement","start":10517,"end":10561,"expression":{"type":"CallExpression","start":10517,"end":10560,"arguments":[{"type":"Literal","start":10546,"end":10559,"raw":"'accessToken'","value":"accessToken"}],"callee":{"type":"MemberExpression","start":10517,"end":10545,"computed":false,"object":{"type":"MemberExpression","start":10517,"end":10534,"computed":false,"object":{"type":"ThisExpression","start":10517,"end":10521},"optional":false,"property":{"type":"Identifier","start":10522,"end":10534,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":10535,"end":10545,"name":"removeItem"}},"optional":false}},{"type":"ExpressionStatement","start":10574,"end":10613,"expression":{"type":"CallExpression","start":10574,"end":10612,"arguments":[{"type":"Literal","start":10603,"end":10611,"raw":"'client'","value":"client"}],"callee":{"type":"MemberExpression","start":10574,"end":10602,"computed":false,"object":{"type":"MemberExpression","start":10574,"end":10591,"computed":false,"object":{"type":"ThisExpression","start":10574,"end":10578},"optional":false,"property":{"type":"Identifier","start":10579,"end":10591,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":10592,"end":10602,"name":"removeItem"}},"optional":false}},{"type":"ExpressionStatement","start":10626,"end":10665,"expression":{"type":"CallExpression","start":10626,"end":10664,"arguments":[{"type":"Literal","start":10655,"end":10663,"raw":"'expiry'","value":"expiry"}],"callee":{"type":"MemberExpression","start":10626,"end":10654,"computed":false,"object":{"type":"MemberExpression","start":10626,"end":10643,"computed":false,"object":{"type":"ThisExpression","start":10626,"end":10630},"optional":false,"property":{"type":"Identifier","start":10631,"end":10643,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":10644,"end":10654,"name":"removeItem"}},"optional":false}},{"type":"ExpressionStatement","start":10678,"end":10720,"expression":{"type":"CallExpression","start":10678,"end":10719,"arguments":[{"type":"Literal","start":10707,"end":10718,"raw":"'tokenType'","value":"tokenType"}],"callee":{"type":"MemberExpression","start":10678,"end":10706,"computed":false,"object":{"type":"MemberExpression","start":10678,"end":10695,"computed":false,"object":{"type":"ThisExpression","start":10678,"end":10682},"optional":false,"property":{"type":"Identifier","start":10683,"end":10695,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":10696,"end":10706,"name":"removeItem"}},"optional":false}},{"type":"ExpressionStatement","start":10733,"end":10769,"expression":{"type":"CallExpression","start":10733,"end":10768,"arguments":[{"type":"Literal","start":10762,"end":10767,"raw":"'uid'","value":"uid"}],"callee":{"type":"MemberExpression","start":10733,"end":10761,"computed":false,"object":{"type":"MemberExpression","start":10733,"end":10750,"computed":false,"object":{"type":"ThisExpression","start":10733,"end":10737},"optional":false,"property":{"type":"Identifier","start":10738,"end":10750,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":10751,"end":10761,"name":"removeItem"}},"optional":false}},{"type":"ExpressionStatement","start":10782,"end":10807,"expression":{"type":"CallExpression","start":10782,"end":10806,"arguments":[{"type":"Literal","start":10801,"end":10805,"raw":"null","value":null}],"callee":{"type":"MemberExpression","start":10782,"end":10800,"computed":false,"object":{"type":"MemberExpression","start":10782,"end":10795,"computed":false,"object":{"type":"ThisExpression","start":10782,"end":10786},"optional":false,"property":{"type":"Identifier","start":10787,"end":10795,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":10796,"end":10800,"name":"next"}},"optional":false}},{"type":"ExpressionStatement","start":10820,"end":10845,"expression":{"type":"CallExpression","start":10820,"end":10844,"arguments":[{"type":"Literal","start":10839,"end":10843,"raw":"null","value":null}],"callee":{"type":"MemberExpression","start":10820,"end":10838,"computed":false,"object":{"type":"MemberExpression","start":10820,"end":10833,"computed":false,"object":{"type":"ThisExpression","start":10820,"end":10824},"optional":false,"property":{"type":"Identifier","start":10825,"end":10833,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":10834,"end":10838,"name":"next"}},"optional":false}},{"type":"ExpressionStatement","start":10858,"end":10883,"expression":{"type":"CallExpression","start":10858,"end":10882,"arguments":[{"type":"Literal","start":10877,"end":10881,"raw":"null","value":null}],"callee":{"type":"MemberExpression","start":10858,"end":10876,"computed":false,"object":{"type":"MemberExpression","start":10858,"end":10871,"computed":false,"object":{"type":"ThisExpression","start":10858,"end":10862},"optional":false,"property":{"type":"Identifier","start":10863,"end":10871,"name":"userData"}},"optional":false,"property":{"type":"Identifier","start":10872,"end":10876,"name":"next"}},"optional":false}}],"end":10893},"expression":false,"generator":false,"id":null,"params":[]}],"callee":{"type":"Identifier","start":10488,"end":10496,"name":"finalize"},"optional":false}],"callee":{"type":"MemberExpression","start":10326,"end":10487,"computed":false,"object":{"type":"CallExpression","start":10326,"end":10391,"arguments":[{"type":"BinaryExpression","start":10343,"end":10390,"left":{"type":"CallExpression","start":10343,"end":10363,"arguments":[],"callee":{"type":"MemberExpression","start":10343,"end":10361,"computed":false,"object":{"type":"ThisExpression","start":10343,"end":10347},"optional":false,"property":{"type":"Identifier","start":10348,"end":10361,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":10366,"end":10390,"computed":false,"object":{"type":"MemberExpression","start":10366,"end":10378,"computed":false,"object":{"type":"ThisExpression","start":10366,"end":10370},"optional":false,"property":{"type":"Identifier","start":10371,"end":10378,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":10379,"end":10390,"name":"signOutPath"}}}],"callee":{"type":"MemberExpression","start":10326,"end":10342,"computed":false,"object":{"type":"MemberExpression","start":10326,"end":10335,"computed":false,"object":{"type":"ThisExpression","start":10326,"end":10330},"optional":false,"property":{"type":"Identifier","start":10331,"end":10335,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":10336,"end":10342,"name":"delete"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":10483,"end":10487,"name":"pipe"}},"optional":false}}],"end":10902},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":10937,"end":11303,"computed":false,"key":{"type":"Identifier","start":10937,"end":10950,"name":"validateToken"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":10950,"end":11303,"async":false,"body":{"type":"BlockStatement","start":10953,"body":[{"type":"VariableDeclaration","start":10963,"end":11061,"declarations":[{"type":"VariableDeclarator","start":10969,"end":11060,"id":{"type":"Identifier","start":10969,"end":10975,"name":"observ"},"init":{"type":"CallExpression","start":10978,"end":11060,"arguments":[{"type":"CallExpression","start":11052,"end":11059,"arguments":[],"callee":{"type":"Identifier","start":11052,"end":11057,"name":"share"},"optional":false}],"callee":{"type":"MemberExpression","start":10978,"end":11051,"computed":false,"object":{"type":"CallExpression","start":10978,"end":11046,"arguments":[{"type":"BinaryExpression","start":10992,"end":11045,"left":{"type":"CallExpression","start":10992,"end":11012,"arguments":[],"callee":{"type":"MemberExpression","start":10992,"end":11010,"computed":false,"object":{"type":"ThisExpression","start":10992,"end":10996},"optional":false,"property":{"type":"Identifier","start":10997,"end":11010,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":11015,"end":11045,"computed":false,"object":{"type":"MemberExpression","start":11015,"end":11027,"computed":false,"object":{"type":"ThisExpression","start":11015,"end":11019},"optional":false,"property":{"type":"Identifier","start":11020,"end":11027,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":11028,"end":11045,"name":"validateTokenPath"}}}],"callee":{"type":"MemberExpression","start":10978,"end":10991,"computed":false,"object":{"type":"MemberExpression","start":10978,"end":10987,"computed":false,"object":{"type":"ThisExpression","start":10978,"end":10982},"optional":false,"property":{"type":"Identifier","start":10983,"end":10987,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":10988,"end":10991,"name":"get"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":11047,"end":11051,"name":"pipe"}},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":11070,"end":11274,"expression":{"type":"CallExpression","start":11070,"end":11273,"arguments":[{"type":"ArrowFunctionExpression","start":11087,"end":11124,"async":false,"body":{"type":"CallExpression","start":11096,"end":11124,"arguments":[{"type":"MemberExpression","start":11115,"end":11123,"computed":false,"object":{"type":"Identifier","start":11115,"end":11118,"name":"res"},"optional":false,"property":{"type":"Identifier","start":11119,"end":11123,"name":"data"}}],"callee":{"type":"MemberExpression","start":11096,"end":11114,"computed":false,"object":{"type":"MemberExpression","start":11096,"end":11109,"computed":false,"object":{"type":"ThisExpression","start":11096,"end":11100},"optional":false,"property":{"type":"Identifier","start":11101,"end":11109,"name":"userData"}},"optional":false,"property":{"type":"Identifier","start":11110,"end":11114,"name":"next"}},"optional":false},"expression":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":11088,"end":11091,"name":"res"}]},{"type":"ArrowFunctionExpression","start":11126,"end":11272,"async":false,"body":{"type":"BlockStatement","start":11137,"body":[{"type":"IfStatement","start":11151,"end":11262,"alternate":null,"consequent":{"type":"BlockStatement","start":11215,"body":[{"type":"ExpressionStatement","start":11233,"end":11248,"expression":{"type":"CallExpression","start":11233,"end":11247,"arguments":[],"callee":{"type":"MemberExpression","start":11233,"end":11245,"computed":false,"object":{"type":"ThisExpression","start":11233,"end":11237},"optional":false,"property":{"type":"Identifier","start":11238,"end":11245,"name":"signOut"}},"optional":false}}],"end":11262},"test":{"type":"LogicalExpression","start":11155,"end":11213,"left":{"type":"BinaryExpression","start":11155,"end":11175,"left":{"type":"MemberExpression","start":11155,"end":11167,"computed":false,"object":{"type":"Identifier","start":11155,"end":11160,"name":"error"},"optional":false,"property":{"type":"Identifier","start":11161,"end":11167,"name":"status"}},"operator":"===","right":{"type":"Literal","start":11172,"end":11175,"raw":"401","value":401}},"operator":"&&","right":{"type":"MemberExpression","start":11179,"end":11213,"computed":false,"object":{"type":"MemberExpression","start":11179,"end":11191,"computed":false,"object":{"type":"ThisExpression","start":11179,"end":11183},"optional":false,"property":{"type":"Identifier","start":11184,"end":11191,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":11192,"end":11213,"name":"signOutFailedValidate"}}}}],"end":11272},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":11127,"end":11132,"name":"error"}]}],"callee":{"type":"MemberExpression","start":11070,"end":11086,"computed":false,"object":{"type":"Identifier","start":11070,"end":11076,"name":"observ"},"optional":false,"property":{"type":"Identifier","start":11077,"end":11086,"name":"subscribe"}},"optional":false}},{"type":"ReturnStatement","start":11283,"end":11297,"argument":{"type":"Identifier","start":11290,"end":11296,"name":"observ"}}],"end":11303},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":11339,"end":12309,"computed":false,"key":{"type":"Identifier","start":11339,"end":11353,"name":"updatePassword"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":11353,"end":12309,"async":false,"body":{"type":"BlockStatement","start":11374,"body":[{"type":"IfStatement","start":11384,"end":11521,"alternate":null,"consequent":{"type":"BlockStatement","start":11425,"body":[{"type":"ExpressionStatement","start":11439,"end":11511,"expression":{"type":"CallExpression","start":11439,"end":11510,"arguments":[{"type":"CallExpression","start":11458,"end":11509,"arguments":[{"type":"MemberExpression","start":11481,"end":11508,"computed":false,"object":{"type":"Identifier","start":11481,"end":11499,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11500,"end":11508,"name":"userType"}}],"callee":{"type":"MemberExpression","start":11458,"end":11480,"computed":false,"object":{"type":"ThisExpression","start":11458,"end":11462},"optional":false,"property":{"type":"Identifier","start":11463,"end":11480,"name":"getUserTypeByName"}},"optional":false}],"callee":{"type":"MemberExpression","start":11439,"end":11457,"computed":false,"object":{"type":"MemberExpression","start":11439,"end":11452,"computed":false,"object":{"type":"ThisExpression","start":11439,"end":11443},"optional":false,"property":{"type":"Identifier","start":11444,"end":11452,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":11453,"end":11457,"name":"next"}},"optional":false}}],"end":11521},"test":{"type":"BinaryExpression","start":11388,"end":11423,"left":{"type":"MemberExpression","start":11388,"end":11415,"computed":false,"object":{"type":"Identifier","start":11388,"end":11406,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11407,"end":11415,"name":"userType"}},"operator":"!=","right":{"type":"Literal","start":11419,"end":11423,"raw":"null","value":null}}},{"type":"VariableDeclaration","start":11530,"end":11539,"declarations":[{"type":"VariableDeclarator","start":11534,"end":11538,"id":{"type":"Identifier","start":11534,"end":11538,"name":"args"},"init":null}],"kind":"let"},{"type":"IfStatement","start":11548,"end":12042,"alternate":{"type":"BlockStatement","start":11791,"body":[{"type":"ExpressionStatement","start":11805,"end":12032,"expression":{"type":"AssignmentExpression","start":11805,"end":12031,"left":{"type":"Identifier","start":11805,"end":11809,"name":"args"},"operator":"=","right":{"type":"ObjectExpression","start":11812,"end":12031,"properties":[{"type":"Property","start":11830,"end":11882,"computed":false,"key":{"type":"Identifier","start":11830,"end":11846,"name":"current_password"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":11848,"end":11882,"computed":false,"object":{"type":"Identifier","start":11848,"end":11866,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11867,"end":11882,"name":"passwordCurrent"}}},{"type":"Property","start":11900,"end":11937,"computed":false,"key":{"type":"Identifier","start":11900,"end":11908,"name":"password"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":11910,"end":11937,"computed":false,"object":{"type":"Identifier","start":11910,"end":11928,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11929,"end":11937,"name":"password"}}},{"type":"Property","start":11955,"end":12017,"computed":false,"key":{"type":"Identifier","start":11955,"end":11976,"name":"password_confirmation"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":11978,"end":12017,"computed":false,"object":{"type":"Identifier","start":11978,"end":11996,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11997,"end":12017,"name":"passwordConfirmation"}}}]}}}],"end":12042},"consequent":{"type":"BlockStatement","start":11596,"body":[{"type":"ExpressionStatement","start":11610,"end":11767,"expression":{"type":"AssignmentExpression","start":11610,"end":11766,"left":{"type":"Identifier","start":11610,"end":11614,"name":"args"},"operator":"=","right":{"type":"ObjectExpression","start":11617,"end":11766,"properties":[{"type":"Property","start":11635,"end":11672,"computed":false,"key":{"type":"Identifier","start":11635,"end":11643,"name":"password"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":11645,"end":11672,"computed":false,"object":{"type":"Identifier","start":11645,"end":11663,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11664,"end":11672,"name":"password"}}},{"type":"Property","start":11690,"end":11752,"computed":false,"key":{"type":"Identifier","start":11690,"end":11711,"name":"password_confirmation"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":11713,"end":11752,"computed":false,"object":{"type":"Identifier","start":11713,"end":11731,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11732,"end":11752,"name":"passwordConfirmation"}}}]}}}],"end":11777},"test":{"type":"BinaryExpression","start":11552,"end":11594,"left":{"type":"MemberExpression","start":11552,"end":11586,"computed":false,"object":{"type":"Identifier","start":11552,"end":11570,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":11571,"end":11586,"name":"passwordCurrent"}},"operator":"==","right":{"type":"Literal","start":11590,"end":11594,"raw":"null","value":null}}},{"type":"IfStatement","start":12051,"end":12184,"alternate":null,"consequent":{"type":"BlockStatement","start":12094,"body":[{"type":"ExpressionStatement","start":12108,"end":12174,"expression":{"type":"AssignmentExpression","start":12108,"end":12173,"left":{"type":"MemberExpression","start":12108,"end":12133,"computed":false,"object":{"type":"Identifier","start":12108,"end":12112,"name":"args"},"optional":false,"property":{"type":"Identifier","start":12113,"end":12133,"name":"reset_password_token"}},"operator":"=","right":{"type":"MemberExpression","start":12136,"end":12173,"computed":false,"object":{"type":"Identifier","start":12136,"end":12154,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":12155,"end":12173,"name":"resetPasswordToken"}}}}],"end":12184},"test":{"type":"MemberExpression","start":12055,"end":12092,"computed":false,"object":{"type":"Identifier","start":12055,"end":12073,"name":"updatePasswordData"},"optional":false,"property":{"type":"Identifier","start":12074,"end":12092,"name":"resetPasswordToken"}}},{"type":"VariableDeclaration","start":12193,"end":12211,"declarations":[{"type":"VariableDeclarator","start":12199,"end":12210,"id":{"type":"Identifier","start":12199,"end":12203,"name":"body"},"init":{"type":"Identifier","start":12206,"end":12210,"name":"args"}}],"kind":"const"},{"type":"ReturnStatement","start":12220,"end":12303,"argument":{"type":"CallExpression","start":12227,"end":12302,"arguments":[{"type":"BinaryExpression","start":12241,"end":12295,"left":{"type":"CallExpression","start":12241,"end":12261,"arguments":[],"callee":{"type":"MemberExpression","start":12241,"end":12259,"computed":false,"object":{"type":"ThisExpression","start":12241,"end":12245},"optional":false,"property":{"type":"Identifier","start":12246,"end":12259,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":12264,"end":12295,"computed":false,"object":{"type":"MemberExpression","start":12264,"end":12276,"computed":false,"object":{"type":"ThisExpression","start":12264,"end":12268},"optional":false,"property":{"type":"Identifier","start":12269,"end":12276,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":12277,"end":12295,"name":"updatePasswordPath"}}},{"type":"Identifier","start":12297,"end":12301,"name":"body"}],"callee":{"type":"MemberExpression","start":12227,"end":12240,"computed":false,"object":{"type":"MemberExpression","start":12227,"end":12236,"computed":false,"object":{"type":"ThisExpression","start":12227,"end":12231},"optional":false,"property":{"type":"Identifier","start":12232,"end":12236,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":12237,"end":12240,"name":"put"}},"optional":false}}],"end":12309},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":11354,"end":11372,"name":"updatePasswordData"}]}},{"type":"MethodDefinition","start":12344,"end":12894,"computed":false,"key":{"type":"Identifier","start":12344,"end":12357,"name":"resetPassword"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":12357,"end":12894,"async":false,"body":{"type":"BlockStatement","start":12393,"body":[{"type":"IfStatement","start":12403,"end":12511,"alternate":null,"consequent":{"type":"BlockStatement","start":12437,"body":[{"type":"ExpressionStatement","start":12451,"end":12501,"expression":{"type":"AssignmentExpression","start":12451,"end":12500,"left":{"type":"MemberExpression","start":12451,"end":12483,"computed":false,"object":{"type":"Identifier","start":12451,"end":12468,"name":"resetPasswordData"},"optional":false,"property":{"type":"Identifier","start":12469,"end":12483,"name":"additionalData"}},"operator":"=","right":{"type":"Identifier","start":12486,"end":12500,"name":"additionalData"}}}],"end":12511},"test":{"type":"BinaryExpression","start":12407,"end":12435,"left":{"type":"Identifier","start":12407,"end":12421,"name":"additionalData"},"operator":"!==","right":{"type":"Identifier","start":12426,"end":12435,"name":"undefined"}}},{"type":"ExpressionStatement","start":12520,"end":12637,"expression":{"type":"CallExpression","start":12520,"end":12636,"arguments":[{"type":"ConditionalExpression","start":12539,"end":12635,"alternate":{"type":"CallExpression","start":12585,"end":12635,"arguments":[{"type":"MemberExpression","start":12608,"end":12634,"computed":false,"object":{"type":"Identifier","start":12608,"end":12625,"name":"resetPasswordData"},"optional":false,"property":{"type":"Identifier","start":12626,"end":12634,"name":"userType"}}],"callee":{"type":"MemberExpression","start":12585,"end":12607,"computed":false,"object":{"type":"ThisExpression","start":12585,"end":12589},"optional":false,"property":{"type":"Identifier","start":12590,"end":12607,"name":"getUserTypeByName"}},"optional":false},"consequent":{"type":"Literal","start":12578,"end":12582,"raw":"null","value":null},"test":{"type":"BinaryExpression","start":12540,"end":12574,"left":{"type":"MemberExpression","start":12540,"end":12566,"computed":false,"object":{"type":"Identifier","start":12540,"end":12557,"name":"resetPasswordData"},"optional":false,"property":{"type":"Identifier","start":12558,"end":12566,"name":"userType"}},"operator":"==","right":{"type":"Literal","start":12570,"end":12574,"raw":"null","value":null}}}],"callee":{"type":"MemberExpression","start":12520,"end":12538,"computed":false,"object":{"type":"MemberExpression","start":12520,"end":12533,"computed":false,"object":{"type":"ThisExpression","start":12520,"end":12524},"optional":false,"property":{"type":"Identifier","start":12525,"end":12533,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":12534,"end":12538,"name":"next"}},"optional":false}},{"type":"VariableDeclaration","start":12646,"end":12796,"declarations":[{"type":"VariableDeclarator","start":12652,"end":12795,"id":{"type":"Identifier","start":12652,"end":12656,"name":"body"},"init":{"type":"ObjectExpression","start":12659,"end":12795,"properties":[{"type":"Property","start":12673,"end":12723,"computed":true,"key":{"type":"MemberExpression","start":12674,"end":12697,"computed":false,"object":{"type":"MemberExpression","start":12674,"end":12686,"computed":false,"object":{"type":"ThisExpression","start":12674,"end":12678},"optional":false,"property":{"type":"Identifier","start":12679,"end":12686,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":12687,"end":12697,"name":"loginField"}},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":12700,"end":12723,"computed":false,"object":{"type":"Identifier","start":12700,"end":12717,"name":"resetPasswordData"},"optional":false,"property":{"type":"Identifier","start":12718,"end":12723,"name":"login"}}},{"type":"Property","start":12737,"end":12785,"computed":false,"key":{"type":"Identifier","start":12737,"end":12749,"name":"redirect_url"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":12751,"end":12785,"computed":false,"object":{"type":"MemberExpression","start":12751,"end":12763,"computed":false,"object":{"type":"ThisExpression","start":12751,"end":12755},"optional":false,"property":{"type":"Identifier","start":12756,"end":12763,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":12764,"end":12785,"name":"resetPasswordCallback"}}}]}}],"kind":"const"},{"type":"ReturnStatement","start":12805,"end":12888,"argument":{"type":"CallExpression","start":12812,"end":12887,"arguments":[{"type":"BinaryExpression","start":12827,"end":12880,"left":{"type":"CallExpression","start":12827,"end":12847,"arguments":[],"callee":{"type":"MemberExpression","start":12827,"end":12845,"computed":false,"object":{"type":"ThisExpression","start":12827,"end":12831},"optional":false,"property":{"type":"Identifier","start":12832,"end":12845,"name":"getServerPath"}},"optional":false},"operator":"+","right":{"type":"MemberExpression","start":12850,"end":12880,"computed":false,"object":{"type":"MemberExpression","start":12850,"end":12862,"computed":false,"object":{"type":"ThisExpression","start":12850,"end":12854},"optional":false,"property":{"type":"Identifier","start":12855,"end":12862,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":12863,"end":12880,"name":"resetPasswordPath"}}},{"type":"Identifier","start":12882,"end":12886,"name":"body"}],"callee":{"type":"MemberExpression","start":12812,"end":12826,"computed":false,"object":{"type":"MemberExpression","start":12812,"end":12821,"computed":false,"object":{"type":"ThisExpression","start":12812,"end":12816},"optional":false,"property":{"type":"Identifier","start":12817,"end":12821,"name":"http"}},"optional":false,"property":{"type":"Identifier","start":12822,"end":12826,"name":"post"}},"optional":false}}],"end":12894},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":12358,"end":12375,"name":"resetPasswordData"},{"type":"Identifier","start":12377,"end":12391,"name":"additionalData"}]}},{"type":"MethodDefinition","start":12959,"end":13064,"computed":false,"key":{"type":"Identifier","start":12959,"end":12970,"name":"getUserPath"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":12970,"end":13064,"async":false,"body":{"type":"BlockStatement","start":12973,"body":[{"type":"ReturnStatement","start":12983,"end":13058,"argument":{"type":"ConditionalExpression","start":12990,"end":13057,"alternate":{"type":"BinaryExpression","start":13027,"end":13057,"left":{"type":"MemberExpression","start":13027,"end":13051,"computed":false,"object":{"type":"MemberExpression","start":13027,"end":13046,"computed":false,"object":{"type":"MemberExpression","start":13027,"end":13040,"computed":false,"object":{"type":"ThisExpression","start":13027,"end":13031},"optional":false,"property":{"type":"Identifier","start":13032,"end":13040,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":13041,"end":13046,"name":"value"}},"optional":false,"property":{"type":"Identifier","start":13047,"end":13051,"name":"path"}},"operator":"+","right":{"type":"Literal","start":13054,"end":13057,"raw":"'/'","value":"/"}},"consequent":{"type":"Literal","start":13022,"end":13024,"raw":"''","value":""},"test":{"type":"BinaryExpression","start":12991,"end":13018,"left":{"type":"MemberExpression","start":12991,"end":13010,"computed":false,"object":{"type":"MemberExpression","start":12991,"end":13004,"computed":false,"object":{"type":"ThisExpression","start":12991,"end":12995},"optional":false,"property":{"type":"Identifier","start":12996,"end":13004,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":13005,"end":13010,"name":"value"}},"operator":"==","right":{"type":"Literal","start":13014,"end":13018,"raw":"null","value":null}}}}],"end":13064},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":13069,"end":13203,"computed":false,"key":{"type":"Identifier","start":13069,"end":13093,"name":"addTrailingSlashIfNeeded"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":13093,"end":13203,"async":false,"body":{"type":"BlockStatement","start":13099,"body":[{"type":"VariableDeclaration","start":13109,"end":13146,"declarations":[{"type":"VariableDeclarator","start":13115,"end":13145,"id":{"type":"Identifier","start":13115,"end":13123,"name":"lastChar"},"init":{"type":"MemberExpression","start":13126,"end":13145,"computed":true,"object":{"type":"Identifier","start":13126,"end":13129,"name":"url"},"optional":false,"property":{"type":"BinaryExpression","start":13130,"end":13144,"left":{"type":"MemberExpression","start":13130,"end":13140,"computed":false,"object":{"type":"Identifier","start":13130,"end":13133,"name":"url"},"optional":false,"property":{"type":"Identifier","start":13134,"end":13140,"name":"length"}},"operator":"-","right":{"type":"Literal","start":13143,"end":13144,"raw":"1","value":1}}}}],"kind":"const"},{"type":"ReturnStatement","start":13155,"end":13197,"argument":{"type":"ConditionalExpression","start":13162,"end":13196,"alternate":{"type":"BinaryExpression","start":13187,"end":13196,"left":{"type":"Identifier","start":13187,"end":13190,"name":"url"},"operator":"+","right":{"type":"Literal","start":13193,"end":13196,"raw":"'/'","value":"/"}},"consequent":{"type":"Identifier","start":13181,"end":13184,"name":"url"},"test":{"type":"BinaryExpression","start":13162,"end":13178,"left":{"type":"Identifier","start":13162,"end":13170,"name":"lastChar"},"operator":"===","right":{"type":"Literal","start":13175,"end":13178,"raw":"'/'","value":"/"}}}}],"end":13203},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":13094,"end":13097,"name":"url"}]}},{"type":"MethodDefinition","start":13208,"end":13570,"computed":false,"key":{"type":"Identifier","start":13208,"end":13218,"name":"getApiPath"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":13218,"end":13570,"async":false,"body":{"type":"BlockStatement","start":13221,"body":[{"type":"VariableDeclaration","start":13231,"end":13256,"declarations":[{"type":"VariableDeclarator","start":13235,"end":13255,"id":{"type":"Identifier","start":13235,"end":13250,"name":"constructedPath"},"init":{"type":"Literal","start":13253,"end":13255,"raw":"''","value":""}}],"kind":"let"},{"type":"IfStatement","start":13265,"end":13394,"alternate":null,"consequent":{"type":"BlockStatement","start":13299,"body":[{"type":"ExpressionStatement","start":13313,"end":13384,"expression":{"type":"AssignmentExpression","start":13313,"end":13383,"left":{"type":"Identifier","start":13313,"end":13328,"name":"constructedPath"},"operator":"+=","right":{"type":"CallExpression","start":13332,"end":13383,"arguments":[{"type":"MemberExpression","start":13362,"end":13382,"computed":false,"object":{"type":"MemberExpression","start":13362,"end":13374,"computed":false,"object":{"type":"ThisExpression","start":13362,"end":13366},"optional":false,"property":{"type":"Identifier","start":13367,"end":13374,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":13375,"end":13382,"name":"apiBase"}}],"callee":{"type":"MemberExpression","start":13332,"end":13361,"computed":false,"object":{"type":"ThisExpression","start":13332,"end":13336},"optional":false,"property":{"type":"Identifier","start":13337,"end":13361,"name":"addTrailingSlashIfNeeded"}},"optional":false}}}],"end":13394},"test":{"type":"BinaryExpression","start":13269,"end":13297,"left":{"type":"MemberExpression","start":13269,"end":13289,"computed":false,"object":{"type":"MemberExpression","start":13269,"end":13281,"computed":false,"object":{"type":"ThisExpression","start":13269,"end":13273},"optional":false,"property":{"type":"Identifier","start":13274,"end":13281,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":13282,"end":13289,"name":"apiBase"}},"operator":"!=","right":{"type":"Literal","start":13293,"end":13297,"raw":"null","value":null}}},{"type":"IfStatement","start":13403,"end":13532,"alternate":null,"consequent":{"type":"BlockStatement","start":13437,"body":[{"type":"ExpressionStatement","start":13451,"end":13522,"expression":{"type":"AssignmentExpression","start":13451,"end":13521,"left":{"type":"Identifier","start":13451,"end":13466,"name":"constructedPath"},"operator":"+=","right":{"type":"CallExpression","start":13470,"end":13521,"arguments":[{"type":"MemberExpression","start":13500,"end":13520,"computed":false,"object":{"type":"MemberExpression","start":13500,"end":13512,"computed":false,"object":{"type":"ThisExpression","start":13500,"end":13504},"optional":false,"property":{"type":"Identifier","start":13505,"end":13512,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":13513,"end":13520,"name":"apiPath"}}],"callee":{"type":"MemberExpression","start":13470,"end":13499,"computed":false,"object":{"type":"ThisExpression","start":13470,"end":13474},"optional":false,"property":{"type":"Identifier","start":13475,"end":13499,"name":"addTrailingSlashIfNeeded"}},"optional":false}}}],"end":13532},"test":{"type":"BinaryExpression","start":13407,"end":13435,"left":{"type":"MemberExpression","start":13407,"end":13427,"computed":false,"object":{"type":"MemberExpression","start":13407,"end":13419,"computed":false,"object":{"type":"ThisExpression","start":13407,"end":13411},"optional":false,"property":{"type":"Identifier","start":13412,"end":13419,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":13420,"end":13427,"name":"apiPath"}},"operator":"!=","right":{"type":"Literal","start":13431,"end":13435,"raw":"null","value":null}}},{"type":"ReturnStatement","start":13541,"end":13564,"argument":{"type":"Identifier","start":13548,"end":13563,"name":"constructedPath"}}],"end":13570},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":13575,"end":13653,"computed":false,"key":{"type":"Identifier","start":13575,"end":13588,"name":"getServerPath"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":13588,"end":13653,"async":false,"body":{"type":"BlockStatement","start":13591,"body":[{"type":"ReturnStatement","start":13601,"end":13647,"argument":{"type":"BinaryExpression","start":13608,"end":13646,"left":{"type":"CallExpression","start":13608,"end":13625,"arguments":[],"callee":{"type":"MemberExpression","start":13608,"end":13623,"computed":false,"object":{"type":"ThisExpression","start":13608,"end":13612},"optional":false,"property":{"type":"Identifier","start":13613,"end":13623,"name":"getApiPath"}},"optional":false},"operator":"+","right":{"type":"CallExpression","start":13628,"end":13646,"arguments":[],"callee":{"type":"MemberExpression","start":13628,"end":13644,"computed":false,"object":{"type":"ThisExpression","start":13628,"end":13632},"optional":false,"property":{"type":"Identifier","start":13633,"end":13644,"name":"getUserPath"}},"optional":false}}}],"end":13653},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":13658,"end":13883,"computed":false,"key":{"type":"Identifier","start":13658,"end":13670,"name":"getOAuthPath"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":13670,"end":13883,"async":false,"body":{"type":"BlockStatement","start":13682,"body":[{"type":"VariableDeclaration","start":13692,"end":13706,"declarations":[{"type":"VariableDeclarator","start":13696,"end":13705,"id":{"type":"Identifier","start":13696,"end":13705,"name":"oAuthPath"},"init":null}],"kind":"let"},{"type":"ExpressionStatement","start":13715,"end":13762,"expression":{"type":"AssignmentExpression","start":13715,"end":13761,"left":{"type":"Identifier","start":13715,"end":13724,"name":"oAuthPath"},"operator":"=","right":{"type":"MemberExpression","start":13727,"end":13761,"computed":true,"object":{"type":"MemberExpression","start":13727,"end":13750,"computed":false,"object":{"type":"MemberExpression","start":13727,"end":13739,"computed":false,"object":{"type":"ThisExpression","start":13727,"end":13731},"optional":false,"property":{"type":"Identifier","start":13732,"end":13739,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":13740,"end":13750,"name":"oAuthPaths"}},"optional":false,"property":{"type":"Identifier","start":13751,"end":13760,"name":"oAuthType"}}}},{"type":"IfStatement","start":13771,"end":13851,"alternate":null,"consequent":{"type":"BlockStatement","start":13794,"body":[{"type":"ExpressionStatement","start":13808,"end":13841,"expression":{"type":"AssignmentExpression","start":13808,"end":13840,"left":{"type":"Identifier","start":13808,"end":13817,"name":"oAuthPath"},"operator":"=","right":{"type":"TemplateLiteral","start":13820,"end":13840,"expressions":[{"type":"Identifier","start":13829,"end":13838,"name":"oAuthType"}],"quasis":[{"type":"TemplateElement","start":13821,"end":13827,"tail":false,"value":{"cooked":"/auth/","raw":"/auth/"}},{"type":"TemplateElement","start":13839,"end":13839,"tail":true,"value":{"cooked":"","raw":""}}]}}}],"end":13851},"test":{"type":"BinaryExpression","start":13775,"end":13792,"left":{"type":"Identifier","start":13775,"end":13784,"name":"oAuthPath"},"operator":"==","right":{"type":"Literal","start":13788,"end":13792,"raw":"null","value":null}}},{"type":"ReturnStatement","start":13860,"end":13877,"argument":{"type":"Identifier","start":13867,"end":13876,"name":"oAuthPath"}}],"end":13883},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":13671,"end":13680,"name":"oAuthType"}]}},{"type":"MethodDefinition","start":13888,"end":14240,"computed":false,"key":{"type":"Identifier","start":13888,"end":13899,"name":"getOAuthUrl"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":13899,"end":14240,"async":false,"body":{"type":"BlockStatement","start":13936,"body":[{"type":"VariableDeclaration","start":13946,"end":14095,"declarations":[{"type":"VariableDeclarator","start":13950,"end":14094,"id":{"type":"Identifier","start":13950,"end":13953,"name":"url"},"init":{"type":"MemberExpression","start":13956,"end":14094,"computed":false,"object":{"type":"NewExpression","start":13956,"end":14089,"arguments":[{"type":"TemplateLiteral","start":13964,"end":14064,"expressions":[{"type":"Identifier","start":13967,"end":13976,"name":"oAuthPath"},{"type":"Identifier","start":14001,"end":14011,"name":"windowType"},{"type":"CallExpression","start":14031,"end":14062,"arguments":[{"type":"Identifier","start":14050,"end":14061,"name":"callbackUrl"}],"callee":{"type":"Identifier","start":14031,"end":14049,"name":"encodeURIComponent"},"optional":false}],"quasis":[{"type":"TemplateElement","start":13965,"end":13965,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":13977,"end":13999,"tail":false,"value":{"cooked":"?omniauth_window_type=","raw":"?omniauth_window_type="}},{"type":"TemplateElement","start":14012,"end":14029,"tail":false,"value":{"cooked":"&auth_origin_url=","raw":"&auth_origin_url="}},{"type":"TemplateElement","start":14063,"end":14063,"tail":true,"value":{"cooked":"","raw":""}}]},{"type":"MemberExpression","start":14066,"end":14088,"computed":false,"object":{"type":"MemberExpression","start":14066,"end":14078,"computed":false,"object":{"type":"ThisExpression","start":14066,"end":14070},"optional":false,"property":{"type":"Identifier","start":14071,"end":14078,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":14079,"end":14088,"name":"oAuthBase"}}],"callee":{"type":"Identifier","start":13960,"end":13963,"name":"URL"}},"optional":false,"property":{"type":"Identifier","start":14090,"end":14094,"name":"href"}}}],"kind":"let"},{"type":"IfStatement","start":14104,"end":14214,"alternate":null,"consequent":{"type":"BlockStatement","start":14137,"body":[{"type":"ExpressionStatement","start":14151,"end":14204,"expression":{"type":"AssignmentExpression","start":14151,"end":14203,"left":{"type":"Identifier","start":14151,"end":14154,"name":"url"},"operator":"+=","right":{"type":"TemplateLiteral","start":14158,"end":14203,"expressions":[{"type":"MemberExpression","start":14177,"end":14201,"computed":false,"object":{"type":"MemberExpression","start":14177,"end":14196,"computed":false,"object":{"type":"MemberExpression","start":14177,"end":14190,"computed":false,"object":{"type":"ThisExpression","start":14177,"end":14181},"optional":false,"property":{"type":"Identifier","start":14182,"end":14190,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":14191,"end":14196,"name":"value"}},"optional":false,"property":{"type":"Identifier","start":14197,"end":14201,"name":"name"}}],"quasis":[{"type":"TemplateElement","start":14159,"end":14175,"tail":false,"value":{"cooked":"&resource_class=","raw":"&resource_class="}},{"type":"TemplateElement","start":14202,"end":14202,"tail":true,"value":{"cooked":"","raw":""}}]}}}],"end":14214},"test":{"type":"BinaryExpression","start":14108,"end":14135,"left":{"type":"MemberExpression","start":14108,"end":14127,"computed":false,"object":{"type":"MemberExpression","start":14108,"end":14121,"computed":false,"object":{"type":"ThisExpression","start":14108,"end":14112},"optional":false,"property":{"type":"Identifier","start":14113,"end":14121,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":14122,"end":14127,"name":"value"}},"operator":"!=","right":{"type":"Literal","start":14131,"end":14135,"raw":"null","value":null}}},{"type":"ReturnStatement","start":14223,"end":14234,"argument":{"type":"Identifier","start":14230,"end":14233,"name":"url"}}],"end":14240},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":13900,"end":13909,"name":"oAuthPath"},{"type":"Identifier","start":13911,"end":13922,"name":"callbackUrl"},{"type":"Identifier","start":13924,"end":13934,"name":"windowType"}]}},{"type":"MethodDefinition","start":14325,"end":14722,"computed":false,"key":{"type":"Identifier","start":14325,"end":14340,"name":"tryLoadAuthData"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":14340,"end":14722,"async":false,"body":{"type":"BlockStatement","start":14343,"body":[{"type":"VariableDeclaration","start":14353,"end":14432,"declarations":[{"type":"VariableDeclarator","start":14359,"end":14431,"id":{"type":"Identifier","start":14359,"end":14367,"name":"userType"},"init":{"type":"CallExpression","start":14370,"end":14431,"arguments":[{"type":"CallExpression","start":14393,"end":14430,"arguments":[{"type":"Literal","start":14419,"end":14429,"raw":"'userType'","value":"userType"}],"callee":{"type":"MemberExpression","start":14393,"end":14418,"computed":false,"object":{"type":"MemberExpression","start":14393,"end":14410,"computed":false,"object":{"type":"ThisExpression","start":14393,"end":14397},"optional":false,"property":{"type":"Identifier","start":14398,"end":14410,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":14411,"end":14418,"name":"getItem"}},"optional":false}],"callee":{"type":"MemberExpression","start":14370,"end":14392,"computed":false,"object":{"type":"ThisExpression","start":14370,"end":14374},"optional":false,"property":{"type":"Identifier","start":14375,"end":14392,"name":"getUserTypeByName"}},"optional":false}}],"kind":"const"},{"type":"IfStatement","start":14441,"end":14508,"alternate":null,"consequent":{"type":"BlockStatement","start":14455,"body":[{"type":"ExpressionStatement","start":14469,"end":14498,"expression":{"type":"CallExpression","start":14469,"end":14497,"arguments":[{"type":"Identifier","start":14488,"end":14496,"name":"userType"}],"callee":{"type":"MemberExpression","start":14469,"end":14487,"computed":false,"object":{"type":"MemberExpression","start":14469,"end":14482,"computed":false,"object":{"type":"ThisExpression","start":14469,"end":14473},"optional":false,"property":{"type":"Identifier","start":14474,"end":14482,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":14483,"end":14487,"name":"next"}},"optional":false}}],"end":14508},"test":{"type":"Identifier","start":14445,"end":14453,"name":"userType"}},{"type":"ExpressionStatement","start":14517,"end":14547,"expression":{"type":"CallExpression","start":14517,"end":14546,"arguments":[],"callee":{"type":"MemberExpression","start":14517,"end":14544,"computed":false,"object":{"type":"ThisExpression","start":14517,"end":14521},"optional":false,"property":{"type":"Identifier","start":14522,"end":14544,"name":"getAuthDataFromStorage"}},"optional":false}},{"type":"IfStatement","start":14556,"end":14634,"alternate":null,"consequent":{"type":"BlockStatement","start":14581,"body":[{"type":"ExpressionStatement","start":14595,"end":14624,"expression":{"type":"CallExpression","start":14595,"end":14623,"arguments":[],"callee":{"type":"MemberExpression","start":14595,"end":14621,"computed":false,"object":{"type":"ThisExpression","start":14595,"end":14599},"optional":false,"property":{"type":"Identifier","start":14600,"end":14621,"name":"getAuthDataFromParams"}},"optional":false}}],"end":14634},"test":{"type":"MemberExpression","start":14560,"end":14579,"computed":false,"object":{"type":"ThisExpression","start":14560,"end":14564},"optional":false,"property":{"type":"Identifier","start":14565,"end":14579,"name":"activatedRoute"}}}],"end":14722},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":14764,"end":15142,"computed":false,"key":{"type":"Identifier","start":14764,"end":14790,"name":"getAuthHeadersFromResponse"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":14790,"end":15142,"async":false,"body":{"type":"BlockStatement","start":14797,"body":[{"type":"VariableDeclaration","start":14807,"end":14836,"declarations":[{"type":"VariableDeclarator","start":14813,"end":14835,"id":{"type":"Identifier","start":14813,"end":14820,"name":"headers"},"init":{"type":"MemberExpression","start":14823,"end":14835,"computed":false,"object":{"type":"Identifier","start":14823,"end":14827,"name":"data"},"optional":false,"property":{"type":"Identifier","start":14828,"end":14835,"name":"headers"}}}],"kind":"const"},{"type":"VariableDeclaration","start":14845,"end":15100,"declarations":[{"type":"VariableDeclarator","start":14851,"end":15099,"id":{"type":"Identifier","start":14851,"end":14859,"name":"authData"},"init":{"type":"ObjectExpression","start":14862,"end":15099,"properties":[{"type":"Property","start":14876,"end":14916,"computed":false,"key":{"type":"Identifier","start":14876,"end":14887,"name":"accessToken"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":14889,"end":14916,"arguments":[{"type":"Literal","start":14901,"end":14915,"raw":"'access-token'","value":"access-token"}],"callee":{"type":"MemberExpression","start":14889,"end":14900,"computed":false,"object":{"type":"Identifier","start":14889,"end":14896,"name":"headers"},"optional":false,"property":{"type":"Identifier","start":14897,"end":14900,"name":"get"}},"optional":false}},{"type":"Property","start":14930,"end":14959,"computed":false,"key":{"type":"Identifier","start":14930,"end":14936,"name":"client"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":14938,"end":14959,"arguments":[{"type":"Literal","start":14950,"end":14958,"raw":"'client'","value":"client"}],"callee":{"type":"MemberExpression","start":14938,"end":14949,"computed":false,"object":{"type":"Identifier","start":14938,"end":14945,"name":"headers"},"optional":false,"property":{"type":"Identifier","start":14946,"end":14949,"name":"get"}},"optional":false}},{"type":"Property","start":14973,"end":15002,"computed":false,"key":{"type":"Identifier","start":14973,"end":14979,"name":"expiry"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":14981,"end":15002,"arguments":[{"type":"Literal","start":14993,"end":15001,"raw":"'expiry'","value":"expiry"}],"callee":{"type":"MemberExpression","start":14981,"end":14992,"computed":false,"object":{"type":"Identifier","start":14981,"end":14988,"name":"headers"},"optional":false,"property":{"type":"Identifier","start":14989,"end":14992,"name":"get"}},"optional":false}},{"type":"Property","start":15016,"end":15052,"computed":false,"key":{"type":"Identifier","start":15016,"end":15025,"name":"tokenType"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15027,"end":15052,"arguments":[{"type":"Literal","start":15039,"end":15051,"raw":"'token-type'","value":"token-type"}],"callee":{"type":"MemberExpression","start":15027,"end":15038,"computed":false,"object":{"type":"Identifier","start":15027,"end":15034,"name":"headers"},"optional":false,"property":{"type":"Identifier","start":15035,"end":15038,"name":"get"}},"optional":false}},{"type":"Property","start":15066,"end":15089,"computed":false,"key":{"type":"Identifier","start":15066,"end":15069,"name":"uid"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15071,"end":15089,"arguments":[{"type":"Literal","start":15083,"end":15088,"raw":"'uid'","value":"uid"}],"callee":{"type":"MemberExpression","start":15071,"end":15082,"computed":false,"object":{"type":"Identifier","start":15071,"end":15078,"name":"headers"},"optional":false,"property":{"type":"Identifier","start":15079,"end":15082,"name":"get"}},"optional":false}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":15109,"end":15136,"expression":{"type":"CallExpression","start":15109,"end":15135,"arguments":[{"type":"Identifier","start":15126,"end":15134,"name":"authData"}],"callee":{"type":"MemberExpression","start":15109,"end":15125,"computed":false,"object":{"type":"ThisExpression","start":15109,"end":15113},"optional":false,"property":{"type":"Identifier","start":15114,"end":15125,"name":"setAuthData"}},"optional":false}}],"end":15142},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":14791,"end":14795,"name":"data"}]}},{"type":"MethodDefinition","start":15188,"end":15484,"computed":false,"key":{"type":"Identifier","start":15188,"end":15214,"name":"getAuthDataFromPostMessage"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":15214,"end":15484,"async":false,"body":{"type":"BlockStatement","start":15221,"body":[{"type":"VariableDeclaration","start":15231,"end":15442,"declarations":[{"type":"VariableDeclarator","start":15237,"end":15441,"id":{"type":"Identifier","start":15237,"end":15245,"name":"authData"},"init":{"type":"ObjectExpression","start":15248,"end":15441,"properties":[{"type":"Property","start":15262,"end":15293,"computed":false,"key":{"type":"Identifier","start":15262,"end":15273,"name":"accessToken"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":15275,"end":15293,"computed":true,"object":{"type":"Identifier","start":15275,"end":15279,"name":"data"},"optional":false,"property":{"type":"Literal","start":15280,"end":15292,"raw":"'auth_token'","value":"auth_token"}}},{"type":"Property","start":15307,"end":15332,"computed":false,"key":{"type":"Identifier","start":15307,"end":15313,"name":"client"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":15315,"end":15332,"computed":true,"object":{"type":"Identifier","start":15315,"end":15319,"name":"data"},"optional":false,"property":{"type":"Literal","start":15320,"end":15331,"raw":"'client_id'","value":"client_id"}}},{"type":"Property","start":15346,"end":15368,"computed":false,"key":{"type":"Identifier","start":15346,"end":15352,"name":"expiry"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":15354,"end":15368,"computed":true,"object":{"type":"Identifier","start":15354,"end":15358,"name":"data"},"optional":false,"property":{"type":"Literal","start":15359,"end":15367,"raw":"'expiry'","value":"expiry"}}},{"type":"Property","start":15382,"end":15401,"computed":false,"key":{"type":"Identifier","start":15382,"end":15391,"name":"tokenType"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":15393,"end":15401,"raw":"'Bearer'","value":"Bearer"}},{"type":"Property","start":15415,"end":15431,"computed":false,"key":{"type":"Identifier","start":15415,"end":15418,"name":"uid"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":15420,"end":15431,"computed":true,"object":{"type":"Identifier","start":15420,"end":15424,"name":"data"},"optional":false,"property":{"type":"Literal","start":15425,"end":15430,"raw":"'uid'","value":"uid"}}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":15451,"end":15478,"expression":{"type":"CallExpression","start":15451,"end":15477,"arguments":[{"type":"Identifier","start":15468,"end":15476,"name":"authData"}],"callee":{"type":"MemberExpression","start":15451,"end":15467,"computed":false,"object":{"type":"ThisExpression","start":15451,"end":15455},"optional":false,"property":{"type":"Identifier","start":15456,"end":15467,"name":"setAuthData"}},"optional":false}}],"end":15484},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":15215,"end":15219,"name":"data"}]}},{"type":"MethodDefinition","start":15531,"end":15991,"computed":false,"key":{"type":"Identifier","start":15531,"end":15553,"name":"getAuthDataFromStorage"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":15553,"end":15991,"async":false,"body":{"type":"BlockStatement","start":15556,"body":[{"type":"VariableDeclaration","start":15566,"end":15889,"declarations":[{"type":"VariableDeclarator","start":15572,"end":15888,"id":{"type":"Identifier","start":15572,"end":15580,"name":"authData"},"init":{"type":"ObjectExpression","start":15583,"end":15888,"properties":[{"type":"Property","start":15597,"end":15650,"computed":false,"key":{"type":"Identifier","start":15597,"end":15608,"name":"accessToken"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15610,"end":15650,"arguments":[{"type":"Literal","start":15636,"end":15649,"raw":"'accessToken'","value":"accessToken"}],"callee":{"type":"MemberExpression","start":15610,"end":15635,"computed":false,"object":{"type":"MemberExpression","start":15610,"end":15627,"computed":false,"object":{"type":"ThisExpression","start":15610,"end":15614},"optional":false,"property":{"type":"Identifier","start":15615,"end":15627,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":15628,"end":15635,"name":"getItem"}},"optional":false}},{"type":"Property","start":15664,"end":15707,"computed":false,"key":{"type":"Identifier","start":15664,"end":15670,"name":"client"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15672,"end":15707,"arguments":[{"type":"Literal","start":15698,"end":15706,"raw":"'client'","value":"client"}],"callee":{"type":"MemberExpression","start":15672,"end":15697,"computed":false,"object":{"type":"MemberExpression","start":15672,"end":15689,"computed":false,"object":{"type":"ThisExpression","start":15672,"end":15676},"optional":false,"property":{"type":"Identifier","start":15677,"end":15689,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":15690,"end":15697,"name":"getItem"}},"optional":false}},{"type":"Property","start":15721,"end":15764,"computed":false,"key":{"type":"Identifier","start":15721,"end":15727,"name":"expiry"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15729,"end":15764,"arguments":[{"type":"Literal","start":15755,"end":15763,"raw":"'expiry'","value":"expiry"}],"callee":{"type":"MemberExpression","start":15729,"end":15754,"computed":false,"object":{"type":"MemberExpression","start":15729,"end":15746,"computed":false,"object":{"type":"ThisExpression","start":15729,"end":15733},"optional":false,"property":{"type":"Identifier","start":15734,"end":15746,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":15747,"end":15754,"name":"getItem"}},"optional":false}},{"type":"Property","start":15778,"end":15827,"computed":false,"key":{"type":"Identifier","start":15778,"end":15787,"name":"tokenType"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15789,"end":15827,"arguments":[{"type":"Literal","start":15815,"end":15826,"raw":"'tokenType'","value":"tokenType"}],"callee":{"type":"MemberExpression","start":15789,"end":15814,"computed":false,"object":{"type":"MemberExpression","start":15789,"end":15806,"computed":false,"object":{"type":"ThisExpression","start":15789,"end":15793},"optional":false,"property":{"type":"Identifier","start":15794,"end":15806,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":15807,"end":15814,"name":"getItem"}},"optional":false}},{"type":"Property","start":15841,"end":15878,"computed":false,"key":{"type":"Identifier","start":15841,"end":15844,"name":"uid"},"kind":"init","method":false,"shorthand":false,"value":{"type":"CallExpression","start":15846,"end":15878,"arguments":[{"type":"Literal","start":15872,"end":15877,"raw":"'uid'","value":"uid"}],"callee":{"type":"MemberExpression","start":15846,"end":15871,"computed":false,"object":{"type":"MemberExpression","start":15846,"end":15863,"computed":false,"object":{"type":"ThisExpression","start":15846,"end":15850},"optional":false,"property":{"type":"Identifier","start":15851,"end":15863,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":15864,"end":15871,"name":"getItem"}},"optional":false}}]}}],"kind":"const"},{"type":"IfStatement","start":15898,"end":15985,"alternate":null,"consequent":{"type":"BlockStatement","start":15932,"body":[{"type":"ExpressionStatement","start":15946,"end":15975,"expression":{"type":"CallExpression","start":15946,"end":15974,"arguments":[{"type":"Identifier","start":15965,"end":15973,"name":"authData"}],"callee":{"type":"MemberExpression","start":15946,"end":15964,"computed":false,"object":{"type":"MemberExpression","start":15946,"end":15959,"computed":false,"object":{"type":"ThisExpression","start":15946,"end":15950},"optional":false,"property":{"type":"Identifier","start":15951,"end":15959,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":15960,"end":15964,"name":"next"}},"optional":false}}],"end":15985},"test":{"type":"CallExpression","start":15902,"end":15930,"arguments":[{"type":"Identifier","start":15921,"end":15929,"name":"authData"}],"callee":{"type":"MemberExpression","start":15902,"end":15920,"computed":false,"object":{"type":"ThisExpression","start":15902,"end":15906},"optional":false,"property":{"type":"Identifier","start":15907,"end":15920,"name":"checkAuthData"}},"optional":false}}],"end":15991},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":16045,"end":16563,"computed":false,"key":{"type":"Identifier","start":16045,"end":16066,"name":"getAuthDataFromParams"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":16066,"end":16563,"async":false,"body":{"type":"BlockStatement","start":16069,"body":[{"type":"ExpressionStatement","start":16079,"end":16557,"expression":{"type":"CallExpression","start":16079,"end":16556,"arguments":[{"type":"ArrowFunctionExpression","start":16121,"end":16555,"async":false,"body":{"type":"BlockStatement","start":16136,"body":[{"type":"VariableDeclaration","start":16150,"end":16437,"declarations":[{"type":"VariableDeclarator","start":16156,"end":16436,"id":{"type":"Identifier","start":16156,"end":16164,"name":"authData"},"init":{"type":"ObjectExpression","start":16167,"end":16436,"properties":[{"type":"Property","start":16185,"end":16247,"computed":false,"key":{"type":"Identifier","start":16185,"end":16196,"name":"accessToken"},"kind":"init","method":false,"shorthand":false,"value":{"type":"LogicalExpression","start":16198,"end":16247,"left":{"type":"MemberExpression","start":16198,"end":16218,"computed":true,"object":{"type":"Identifier","start":16198,"end":16209,"name":"queryParams"},"optional":false,"property":{"type":"Literal","start":16210,"end":16217,"raw":"'token'","value":"token"}},"operator":"||","right":{"type":"MemberExpression","start":16222,"end":16247,"computed":true,"object":{"type":"Identifier","start":16222,"end":16233,"name":"queryParams"},"optional":false,"property":{"type":"Literal","start":16234,"end":16246,"raw":"'auth_token'","value":"auth_token"}}}},{"type":"Property","start":16265,"end":16297,"computed":false,"key":{"type":"Identifier","start":16265,"end":16271,"name":"client"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":16273,"end":16297,"computed":true,"object":{"type":"Identifier","start":16273,"end":16284,"name":"queryParams"},"optional":false,"property":{"type":"Literal","start":16285,"end":16296,"raw":"'client_id'","value":"client_id"}}},{"type":"Property","start":16315,"end":16344,"computed":false,"key":{"type":"Identifier","start":16315,"end":16321,"name":"expiry"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":16323,"end":16344,"computed":true,"object":{"type":"Identifier","start":16323,"end":16334,"name":"queryParams"},"optional":false,"property":{"type":"Literal","start":16335,"end":16343,"raw":"'expiry'","value":"expiry"}}},{"type":"Property","start":16362,"end":16381,"computed":false,"key":{"type":"Identifier","start":16362,"end":16371,"name":"tokenType"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":16373,"end":16381,"raw":"'Bearer'","value":"Bearer"}},{"type":"Property","start":16399,"end":16422,"computed":false,"key":{"type":"Identifier","start":16399,"end":16402,"name":"uid"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":16404,"end":16422,"computed":true,"object":{"type":"Identifier","start":16404,"end":16415,"name":"queryParams"},"optional":false,"property":{"type":"Literal","start":16416,"end":16421,"raw":"'uid'","value":"uid"}}}]}}],"kind":"const"},{"type":"IfStatement","start":16450,"end":16545,"alternate":null,"consequent":{"type":"BlockStatement","start":16484,"body":[{"type":"ExpressionStatement","start":16502,"end":16531,"expression":{"type":"CallExpression","start":16502,"end":16530,"arguments":[{"type":"Identifier","start":16521,"end":16529,"name":"authData"}],"callee":{"type":"MemberExpression","start":16502,"end":16520,"computed":false,"object":{"type":"MemberExpression","start":16502,"end":16515,"computed":false,"object":{"type":"ThisExpression","start":16502,"end":16506},"optional":false,"property":{"type":"Identifier","start":16507,"end":16515,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":16516,"end":16520,"name":"next"}},"optional":false}}],"end":16545},"test":{"type":"CallExpression","start":16454,"end":16482,"arguments":[{"type":"Identifier","start":16473,"end":16481,"name":"authData"}],"callee":{"type":"MemberExpression","start":16454,"end":16472,"computed":false,"object":{"type":"ThisExpression","start":16454,"end":16458},"optional":false,"property":{"type":"Identifier","start":16459,"end":16472,"name":"checkAuthData"}},"optional":false}}],"end":16555},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":16121,"end":16132,"name":"queryParams"}]}],"callee":{"type":"MemberExpression","start":16079,"end":16120,"computed":false,"object":{"type":"MemberExpression","start":16079,"end":16110,"computed":false,"object":{"type":"MemberExpression","start":16079,"end":16098,"computed":false,"object":{"type":"ThisExpression","start":16079,"end":16083},"optional":false,"property":{"type":"Identifier","start":16084,"end":16098,"name":"activatedRoute"}},"optional":false,"property":{"type":"Identifier","start":16099,"end":16110,"name":"queryParams"}},"optional":false,"property":{"type":"Identifier","start":16111,"end":16120,"name":"subscribe"}},"optional":false}}],"end":16563},"expression":false,"generator":false,"id":null,"params":[]}},{"type":"MethodDefinition","start":16653,"end":17260,"computed":false,"key":{"type":"Identifier","start":16653,"end":16664,"name":"setAuthData"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":16664,"end":17260,"async":false,"body":{"type":"BlockStatement","start":16675,"body":[{"type":"IfStatement","start":16685,"end":17254,"alternate":null,"consequent":{"type":"BlockStatement","start":16719,"body":[{"type":"ExpressionStatement","start":16733,"end":16762,"expression":{"type":"CallExpression","start":16733,"end":16761,"arguments":[{"type":"Identifier","start":16752,"end":16760,"name":"authData"}],"callee":{"type":"MemberExpression","start":16733,"end":16751,"computed":false,"object":{"type":"MemberExpression","start":16733,"end":16746,"computed":false,"object":{"type":"ThisExpression","start":16733,"end":16737},"optional":false,"property":{"type":"Identifier","start":16738,"end":16746,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":16747,"end":16751,"name":"next"}},"optional":false}},{"type":"ExpressionStatement","start":16775,"end":16838,"expression":{"type":"CallExpression","start":16775,"end":16837,"arguments":[{"type":"Literal","start":16801,"end":16814,"raw":"'accessToken'","value":"accessToken"},{"type":"MemberExpression","start":16816,"end":16836,"computed":false,"object":{"type":"Identifier","start":16816,"end":16824,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":16825,"end":16836,"name":"accessToken"}}],"callee":{"type":"MemberExpression","start":16775,"end":16800,"computed":false,"object":{"type":"MemberExpression","start":16775,"end":16792,"computed":false,"object":{"type":"ThisExpression","start":16775,"end":16779},"optional":false,"property":{"type":"Identifier","start":16780,"end":16792,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":16793,"end":16800,"name":"setItem"}},"optional":false}},{"type":"ExpressionStatement","start":16851,"end":16904,"expression":{"type":"CallExpression","start":16851,"end":16903,"arguments":[{"type":"Literal","start":16877,"end":16885,"raw":"'client'","value":"client"},{"type":"MemberExpression","start":16887,"end":16902,"computed":false,"object":{"type":"Identifier","start":16887,"end":16895,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":16896,"end":16902,"name":"client"}}],"callee":{"type":"MemberExpression","start":16851,"end":16876,"computed":false,"object":{"type":"MemberExpression","start":16851,"end":16868,"computed":false,"object":{"type":"ThisExpression","start":16851,"end":16855},"optional":false,"property":{"type":"Identifier","start":16856,"end":16868,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":16869,"end":16876,"name":"setItem"}},"optional":false}},{"type":"ExpressionStatement","start":16917,"end":16970,"expression":{"type":"CallExpression","start":16917,"end":16969,"arguments":[{"type":"Literal","start":16943,"end":16951,"raw":"'expiry'","value":"expiry"},{"type":"MemberExpression","start":16953,"end":16968,"computed":false,"object":{"type":"Identifier","start":16953,"end":16961,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":16962,"end":16968,"name":"expiry"}}],"callee":{"type":"MemberExpression","start":16917,"end":16942,"computed":false,"object":{"type":"MemberExpression","start":16917,"end":16934,"computed":false,"object":{"type":"ThisExpression","start":16917,"end":16921},"optional":false,"property":{"type":"Identifier","start":16922,"end":16934,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":16935,"end":16942,"name":"setItem"}},"optional":false}},{"type":"ExpressionStatement","start":16983,"end":17042,"expression":{"type":"CallExpression","start":16983,"end":17041,"arguments":[{"type":"Literal","start":17009,"end":17020,"raw":"'tokenType'","value":"tokenType"},{"type":"MemberExpression","start":17022,"end":17040,"computed":false,"object":{"type":"Identifier","start":17022,"end":17030,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17031,"end":17040,"name":"tokenType"}}],"callee":{"type":"MemberExpression","start":16983,"end":17008,"computed":false,"object":{"type":"MemberExpression","start":16983,"end":17000,"computed":false,"object":{"type":"ThisExpression","start":16983,"end":16987},"optional":false,"property":{"type":"Identifier","start":16988,"end":17000,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":17001,"end":17008,"name":"setItem"}},"optional":false}},{"type":"ExpressionStatement","start":17055,"end":17102,"expression":{"type":"CallExpression","start":17055,"end":17101,"arguments":[{"type":"Literal","start":17081,"end":17086,"raw":"'uid'","value":"uid"},{"type":"MemberExpression","start":17088,"end":17100,"computed":false,"object":{"type":"Identifier","start":17088,"end":17096,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17097,"end":17100,"name":"uid"}}],"callee":{"type":"MemberExpression","start":17055,"end":17080,"computed":false,"object":{"type":"MemberExpression","start":17055,"end":17072,"computed":false,"object":{"type":"ThisExpression","start":17055,"end":17059},"optional":false,"property":{"type":"Identifier","start":17060,"end":17072,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":17073,"end":17080,"name":"setItem"}},"optional":false}},{"type":"IfStatement","start":17115,"end":17244,"alternate":null,"consequent":{"type":"BlockStatement","start":17148,"body":[{"type":"ExpressionStatement","start":17166,"end":17230,"expression":{"type":"CallExpression","start":17166,"end":17229,"arguments":[{"type":"Literal","start":17192,"end":17202,"raw":"'userType'","value":"userType"},{"type":"MemberExpression","start":17204,"end":17228,"computed":false,"object":{"type":"MemberExpression","start":17204,"end":17223,"computed":false,"object":{"type":"MemberExpression","start":17204,"end":17217,"computed":false,"object":{"type":"ThisExpression","start":17204,"end":17208},"optional":false,"property":{"type":"Identifier","start":17209,"end":17217,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":17218,"end":17223,"name":"value"}},"optional":false,"property":{"type":"Identifier","start":17224,"end":17228,"name":"name"}}],"callee":{"type":"MemberExpression","start":17166,"end":17191,"computed":false,"object":{"type":"MemberExpression","start":17166,"end":17183,"computed":false,"object":{"type":"ThisExpression","start":17166,"end":17170},"optional":false,"property":{"type":"Identifier","start":17171,"end":17183,"name":"localStorage"}},"optional":false,"property":{"type":"Identifier","start":17184,"end":17191,"name":"setItem"}},"optional":false}}],"end":17244},"test":{"type":"BinaryExpression","start":17119,"end":17146,"left":{"type":"MemberExpression","start":17119,"end":17138,"computed":false,"object":{"type":"MemberExpression","start":17119,"end":17132,"computed":false,"object":{"type":"ThisExpression","start":17119,"end":17123},"optional":false,"property":{"type":"Identifier","start":17124,"end":17132,"name":"userType"}},"optional":false,"property":{"type":"Identifier","start":17133,"end":17138,"name":"value"}},"operator":"!=","right":{"type":"Literal","start":17142,"end":17146,"raw":"null","value":null}}}],"end":17254},"test":{"type":"CallExpression","start":16689,"end":16717,"arguments":[{"type":"Identifier","start":16708,"end":16716,"name":"authData"}],"callee":{"type":"MemberExpression","start":16689,"end":16707,"computed":false,"object":{"type":"ThisExpression","start":16689,"end":16693},"optional":false,"property":{"type":"Identifier","start":16694,"end":16707,"name":"checkAuthData"}},"optional":false}}],"end":17260},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":16665,"end":16673,"name":"authData"}]}},{"type":"MethodDefinition","start":17387,"end":17806,"computed":false,"key":{"type":"Identifier","start":17387,"end":17400,"name":"checkAuthData"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":17400,"end":17806,"async":false,"body":{"type":"BlockStatement","start":17411,"body":[{"type":"IfStatement","start":17421,"end":17778,"alternate":null,"consequent":{"type":"BlockStatement","start":17611,"body":[{"type":"IfStatement","start":17625,"end":17743,"alternate":null,"consequent":{"type":"BlockStatement","start":17658,"body":[{"type":"ReturnStatement","start":17676,"end":17729,"argument":{"type":"BinaryExpression","start":17683,"end":17728,"left":{"type":"MemberExpression","start":17683,"end":17698,"computed":false,"object":{"type":"Identifier","start":17683,"end":17691,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17692,"end":17698,"name":"expiry"}},"operator":">=","right":{"type":"MemberExpression","start":17702,"end":17728,"computed":false,"object":{"type":"MemberExpression","start":17702,"end":17721,"computed":false,"object":{"type":"MemberExpression","start":17702,"end":17715,"computed":false,"object":{"type":"ThisExpression","start":17702,"end":17706},"optional":false,"property":{"type":"Identifier","start":17707,"end":17715,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":17716,"end":17721,"name":"value"}},"optional":false,"property":{"type":"Identifier","start":17722,"end":17728,"name":"expiry"}}}}],"end":17743},"test":{"type":"BinaryExpression","start":17629,"end":17656,"left":{"type":"MemberExpression","start":17629,"end":17648,"computed":false,"object":{"type":"MemberExpression","start":17629,"end":17642,"computed":false,"object":{"type":"ThisExpression","start":17629,"end":17633},"optional":false,"property":{"type":"Identifier","start":17634,"end":17642,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":17643,"end":17648,"name":"value"}},"operator":"!=","right":{"type":"Literal","start":17652,"end":17656,"raw":"null","value":null}}},{"type":"ReturnStatement","start":17756,"end":17768,"argument":{"type":"Literal","start":17763,"end":17767,"raw":"true","value":true}}],"end":17778},"test":{"type":"LogicalExpression","start":17425,"end":17609,"left":{"type":"LogicalExpression","start":17425,"end":17573,"left":{"type":"LogicalExpression","start":17425,"end":17531,"left":{"type":"LogicalExpression","start":17425,"end":17492,"left":{"type":"BinaryExpression","start":17425,"end":17453,"left":{"type":"MemberExpression","start":17425,"end":17445,"computed":false,"object":{"type":"Identifier","start":17425,"end":17433,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17434,"end":17445,"name":"accessToken"}},"operator":"!=","right":{"type":"Literal","start":17449,"end":17453,"raw":"null","value":null}},"operator":"&&","right":{"type":"BinaryExpression","start":17469,"end":17492,"left":{"type":"MemberExpression","start":17469,"end":17484,"computed":false,"object":{"type":"Identifier","start":17469,"end":17477,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17478,"end":17484,"name":"client"}},"operator":"!=","right":{"type":"Literal","start":17488,"end":17492,"raw":"null","value":null}}},"operator":"&&","right":{"type":"BinaryExpression","start":17508,"end":17531,"left":{"type":"MemberExpression","start":17508,"end":17523,"computed":false,"object":{"type":"Identifier","start":17508,"end":17516,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17517,"end":17523,"name":"expiry"}},"operator":"!=","right":{"type":"Literal","start":17527,"end":17531,"raw":"null","value":null}}},"operator":"&&","right":{"type":"BinaryExpression","start":17547,"end":17573,"left":{"type":"MemberExpression","start":17547,"end":17565,"computed":false,"object":{"type":"Identifier","start":17547,"end":17555,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17556,"end":17565,"name":"tokenType"}},"operator":"!=","right":{"type":"Literal","start":17569,"end":17573,"raw":"null","value":null}}},"operator":"&&","right":{"type":"BinaryExpression","start":17589,"end":17609,"left":{"type":"MemberExpression","start":17589,"end":17601,"computed":false,"object":{"type":"Identifier","start":17589,"end":17597,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":17598,"end":17601,"name":"uid"}},"operator":"!=","right":{"type":"Literal","start":17605,"end":17609,"raw":"null","value":null}}}},{"type":"ReturnStatement","start":17787,"end":17800,"argument":{"type":"Literal","start":17794,"end":17799,"raw":"false","value":false}}],"end":17806},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":17401,"end":17409,"name":"authData"}]}},{"type":"MethodDefinition","start":17854,"end":18464,"computed":false,"key":{"type":"Identifier","start":17854,"end":17886,"name":"requestCredentialsViaPostMessage"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":17886,"end":18464,"async":false,"body":{"type":"BlockStatement","start":17899,"body":[{"type":"VariableDeclaration","start":17909,"end":17944,"declarations":[{"type":"VariableDeclarator","start":17915,"end":17943,"id":{"type":"Identifier","start":17915,"end":17927,"name":"pollerObserv"},"init":{"type":"CallExpression","start":17930,"end":17943,"arguments":[{"type":"Literal","start":17939,"end":17942,"raw":"500","value":500}],"callee":{"type":"Identifier","start":17930,"end":17938,"name":"interval"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":17953,"end":18070,"declarations":[{"type":"VariableDeclarator","start":17959,"end":18069,"id":{"type":"Identifier","start":17959,"end":17973,"name":"responseObserv"},"init":{"type":"CallExpression","start":17976,"end":18069,"arguments":[{"type":"CallExpression","start":18015,"end":18028,"arguments":[{"type":"Literal","start":18021,"end":18027,"raw":"'data'","value":"data"}],"callee":{"type":"Identifier","start":18015,"end":18020,"name":"pluck"},"optional":false},{"type":"CallExpression","start":18030,"end":18068,"arguments":[{"type":"MemberExpression","start":18037,"end":18067,"computed":false,"object":{"type":"ThisExpression","start":18037,"end":18041},"optional":false,"property":{"type":"Identifier","start":18042,"end":18067,"name":"oAuthWindowResponseFilter"}}],"callee":{"type":"Identifier","start":18030,"end":18036,"name":"filter"},"optional":false}],"callee":{"type":"MemberExpression","start":17976,"end":18014,"computed":false,"object":{"type":"CallExpression","start":17976,"end":18009,"arguments":[{"type":"MemberExpression","start":17986,"end":17997,"computed":false,"object":{"type":"ThisExpression","start":17986,"end":17990},"optional":false,"property":{"type":"Identifier","start":17991,"end":17997,"name":"global"}},{"type":"Literal","start":17999,"end":18008,"raw":"'message'","value":"message"}],"callee":{"type":"Identifier","start":17976,"end":17985,"name":"fromEvent"},"optional":false},"optional":false,"property":{"type":"Identifier","start":18010,"end":18014,"name":"pipe"}},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":18079,"end":18148,"expression":{"type":"CallExpression","start":18079,"end":18147,"arguments":[{"type":"CallExpression","start":18104,"end":18146,"arguments":[{"type":"ThisExpression","start":18141,"end":18145}],"callee":{"type":"MemberExpression","start":18104,"end":18140,"computed":false,"object":{"type":"MemberExpression","start":18104,"end":18135,"computed":false,"object":{"type":"ThisExpression","start":18104,"end":18108},"optional":false,"property":{"type":"Identifier","start":18109,"end":18135,"name":"getAuthDataFromPostMessage"}},"optional":false,"property":{"type":"Identifier","start":18136,"end":18140,"name":"bind"}},"optional":false}],"callee":{"type":"MemberExpression","start":18079,"end":18103,"computed":false,"object":{"type":"Identifier","start":18079,"end":18093,"name":"responseObserv"},"optional":false,"property":{"type":"Identifier","start":18094,"end":18103,"name":"subscribe"}},"optional":false}},{"type":"VariableDeclaration","start":18157,"end":18427,"declarations":[{"type":"VariableDeclarator","start":18163,"end":18426,"id":{"type":"Identifier","start":18163,"end":18181,"name":"pollerSubscription"},"init":{"type":"CallExpression","start":18184,"end":18426,"arguments":[{"type":"ArrowFunctionExpression","start":18207,"end":18425,"async":false,"body":{"type":"BlockStatement","start":18213,"body":[{"type":"IfStatement","start":18227,"end":18415,"alternate":{"type":"BlockStatement","start":18333,"body":[{"type":"ExpressionStatement","start":18351,"end":18401,"expression":{"type":"CallExpression","start":18351,"end":18400,"arguments":[{"type":"Literal","start":18374,"end":18394,"raw":"'requestCredentials'","value":"requestCredentials"},{"type":"Literal","start":18396,"end":18399,"raw":"'*'","value":"*"}],"callee":{"type":"MemberExpression","start":18351,"end":18373,"computed":false,"object":{"type":"Identifier","start":18351,"end":18361,"name":"authWindow"},"optional":false,"property":{"type":"Identifier","start":18362,"end":18373,"name":"postMessage"}},"optional":false}}],"end":18415},"consequent":{"type":"BlockStatement","start":18250,"body":[{"type":"ExpressionStatement","start":18268,"end":18301,"expression":{"type":"CallExpression","start":18268,"end":18300,"arguments":[],"callee":{"type":"MemberExpression","start":18268,"end":18298,"computed":false,"object":{"type":"Identifier","start":18268,"end":18286,"name":"pollerSubscription"},"optional":false,"property":{"type":"Identifier","start":18287,"end":18298,"name":"unsubscribe"}},"optional":false}}],"end":18315},"test":{"type":"MemberExpression","start":18231,"end":18248,"computed":false,"object":{"type":"Identifier","start":18231,"end":18241,"name":"authWindow"},"optional":false,"property":{"type":"Identifier","start":18242,"end":18248,"name":"closed"}}}],"end":18425},"expression":false,"generator":false,"id":null,"params":[]}],"callee":{"type":"MemberExpression","start":18184,"end":18206,"computed":false,"object":{"type":"Identifier","start":18184,"end":18196,"name":"pollerObserv"},"optional":false,"property":{"type":"Identifier","start":18197,"end":18206,"name":"subscribe"}},"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":18436,"end":18458,"argument":{"type":"Identifier","start":18443,"end":18457,"name":"responseObserv"}}],"end":18464},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":17887,"end":17897,"name":"authWindow"}]}},{"type":"MethodDefinition","start":18469,"end":18630,"computed":false,"key":{"type":"Identifier","start":18469,"end":18494,"name":"oAuthWindowResponseFilter"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":18494,"end":18630,"async":false,"body":{"type":"BlockStatement","start":18501,"body":[{"type":"IfStatement","start":18511,"end":18624,"alternate":null,"consequent":{"type":"BlockStatement","start":18588,"body":[{"type":"ReturnStatement","start":18602,"end":18614,"argument":{"type":"Identifier","start":18609,"end":18613,"name":"data"}}],"end":18624},"test":{"type":"LogicalExpression","start":18515,"end":18586,"left":{"type":"BinaryExpression","start":18515,"end":18552,"left":{"type":"MemberExpression","start":18515,"end":18527,"computed":false,"object":{"type":"Identifier","start":18515,"end":18519,"name":"data"},"optional":false,"property":{"type":"Identifier","start":18520,"end":18527,"name":"message"}},"operator":"===","right":{"type":"Literal","start":18532,"end":18552,"raw":"'deliverCredentials'","value":"deliverCredentials"}},"operator":"||","right":{"type":"BinaryExpression","start":18556,"end":18586,"left":{"type":"MemberExpression","start":18556,"end":18568,"computed":false,"object":{"type":"Identifier","start":18556,"end":18560,"name":"data"},"optional":false,"property":{"type":"Identifier","start":18561,"end":18568,"name":"message"}},"operator":"===","right":{"type":"Literal","start":18573,"end":18586,"raw":"'authFailure'","value":"authFailure"}}}}],"end":18630},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":18495,"end":18499,"name":"data"}]}},{"type":"MethodDefinition","start":18727,"end":18935,"computed":false,"key":{"type":"Identifier","start":18727,"end":18744,"name":"getUserTypeByName"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":18744,"end":18935,"async":false,"body":{"type":"BlockStatement","start":18751,"body":[{"type":"IfStatement","start":18761,"end":18849,"alternate":null,"consequent":{"type":"BlockStatement","start":18813,"body":[{"type":"ReturnStatement","start":18827,"end":18839,"argument":{"type":"Literal","start":18834,"end":18838,"raw":"null","value":null}}],"end":18849},"test":{"type":"LogicalExpression","start":18765,"end":18811,"left":{"type":"BinaryExpression","start":18765,"end":18777,"left":{"type":"Identifier","start":18765,"end":18769,"name":"name"},"operator":"==","right":{"type":"Literal","start":18773,"end":18777,"raw":"null","value":null}},"operator":"||","right":{"type":"BinaryExpression","start":18781,"end":18811,"left":{"type":"MemberExpression","start":18781,"end":18803,"computed":false,"object":{"type":"MemberExpression","start":18781,"end":18793,"computed":false,"object":{"type":"ThisExpression","start":18781,"end":18785},"optional":false,"property":{"type":"Identifier","start":18786,"end":18793,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":18794,"end":18803,"name":"userTypes"}},"operator":"==","right":{"type":"Literal","start":18807,"end":18811,"raw":"null","value":null}}}},{"type":"ReturnStatement","start":18858,"end":18929,"argument":{"type":"CallExpression","start":18865,"end":18928,"arguments":[{"type":"ArrowFunctionExpression","start":18893,"end":18927,"async":false,"body":{"type":"BinaryExpression","start":18905,"end":18927,"left":{"type":"MemberExpression","start":18905,"end":18918,"computed":false,"object":{"type":"Identifier","start":18905,"end":18913,"name":"userType"},"optional":false,"property":{"type":"Identifier","start":18914,"end":18918,"name":"name"}},"operator":"===","right":{"type":"Identifier","start":18923,"end":18927,"name":"name"}},"expression":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":18893,"end":18901,"name":"userType"}]}],"callee":{"type":"MemberExpression","start":18865,"end":18892,"computed":false,"object":{"type":"MemberExpression","start":18865,"end":18887,"computed":false,"object":{"type":"MemberExpression","start":18865,"end":18877,"computed":false,"object":{"type":"ThisExpression","start":18865,"end":18869},"optional":false,"property":{"type":"Identifier","start":18870,"end":18877,"name":"options"}},"optional":false,"property":{"type":"Identifier","start":18878,"end":18887,"name":"userTypes"}},"optional":false,"property":{"type":"Identifier","start":18888,"end":18892,"name":"find"}},"optional":false}}],"end":18935},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":18745,"end":18749,"name":"name"}]}},{"type":"PropertyDefinition","start":18940,"end":19298,"computed":false,"key":{"type":"Identifier","start":18947,"end":18951,"name":"ɵfac"},"static":true,"value":{"type":"CallExpression","start":18954,"end":19297,"arguments":[{"type":"ObjectExpression","start":18976,"end":19296,"properties":[{"type":"Property","start":18978,"end":18998,"computed":false,"key":{"type":"Identifier","start":18978,"end":18988,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":18990,"end":18998,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":19000,"end":19017,"computed":false,"key":{"type":"Identifier","start":19000,"end":19007,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19009,"end":19017,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":19019,"end":19031,"computed":false,"key":{"type":"Identifier","start":19019,"end":19027,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19029,"end":19031,"name":"i0"}},{"type":"Property","start":19033,"end":19058,"computed":false,"key":{"type":"Identifier","start":19033,"end":19037,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19039,"end":19058,"name":"AngularTokenService"}},{"type":"Property","start":19060,"end":19255,"computed":false,"key":{"type":"Identifier","start":19060,"end":19064,"name":"deps"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19066,"end":19255,"elements":[{"type":"ObjectExpression","start":19067,"end":19091,"properties":[{"type":"Property","start":19069,"end":19089,"computed":false,"key":{"type":"Identifier","start":19069,"end":19074,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":19076,"end":19089,"computed":false,"object":{"type":"Identifier","start":19076,"end":19078,"name":"i1"},"optional":false,"property":{"type":"Identifier","start":19079,"end":19089,"name":"HttpClient"}}}]},{"type":"ObjectExpression","start":19093,"end":19112,"properties":[{"type":"Property","start":19095,"end":19110,"computed":false,"key":{"type":"Identifier","start":19095,"end":19100,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19102,"end":19110,"raw":"'Window'","value":"Window"}}]},{"type":"ObjectExpression","start":19114,"end":19146,"properties":[{"type":"Property","start":19116,"end":19144,"computed":false,"key":{"type":"Identifier","start":19116,"end":19121,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19123,"end":19144,"name":"ANGULAR_TOKEN_OPTIONS"}}]},{"type":"ObjectExpression","start":19148,"end":19170,"properties":[{"type":"Property","start":19150,"end":19168,"computed":false,"key":{"type":"Identifier","start":19150,"end":19155,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19157,"end":19168,"name":"PLATFORM_ID"}}]},{"type":"ObjectExpression","start":19172,"end":19216,"properties":[{"type":"Property","start":19174,"end":19198,"computed":false,"key":{"type":"Identifier","start":19174,"end":19179,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":19181,"end":19198,"computed":false,"object":{"type":"Identifier","start":19181,"end":19183,"name":"i2"},"optional":false,"property":{"type":"Identifier","start":19184,"end":19198,"name":"ActivatedRoute"}}},{"type":"Property","start":19200,"end":19214,"computed":false,"key":{"type":"Identifier","start":19200,"end":19208,"name":"optional"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19210,"end":19214,"raw":"true","value":true}}]},{"type":"ObjectExpression","start":19218,"end":19254,"properties":[{"type":"Property","start":19220,"end":19236,"computed":false,"key":{"type":"Identifier","start":19220,"end":19225,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":19227,"end":19236,"computed":false,"object":{"type":"Identifier","start":19227,"end":19229,"name":"i2"},"optional":false,"property":{"type":"Identifier","start":19230,"end":19236,"name":"Router"}}},{"type":"Property","start":19238,"end":19252,"computed":false,"key":{"type":"Identifier","start":19238,"end":19246,"name":"optional"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19248,"end":19252,"raw":"true","value":true}}]}]}},{"type":"Property","start":19257,"end":19294,"computed":false,"key":{"type":"Identifier","start":19257,"end":19263,"name":"target"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":19265,"end":19294,"computed":false,"object":{"type":"MemberExpression","start":19265,"end":19283,"computed":false,"object":{"type":"Identifier","start":19265,"end":19267,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":19268,"end":19283,"name":"ɵɵFactoryTarget"}},"optional":false,"property":{"type":"Identifier","start":19284,"end":19294,"name":"Injectable"}}}]}],"callee":{"type":"MemberExpression","start":18954,"end":18975,"computed":false,"object":{"type":"Identifier","start":18954,"end":18956,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":18957,"end":18975,"name":"ɵɵngDeclareFactory"}},"optional":false}},{"type":"PropertyDefinition","start":19303,"end":19449,"computed":false,"key":{"type":"Identifier","start":19310,"end":19315,"name":"ɵprov"},"static":true,"value":{"type":"CallExpression","start":19318,"end":19448,"arguments":[{"type":"ObjectExpression","start":19343,"end":19447,"properties":[{"type":"Property","start":19345,"end":19365,"computed":false,"key":{"type":"Identifier","start":19345,"end":19355,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19357,"end":19365,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":19367,"end":19384,"computed":false,"key":{"type":"Identifier","start":19367,"end":19374,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19376,"end":19384,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":19386,"end":19398,"computed":false,"key":{"type":"Identifier","start":19386,"end":19394,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19396,"end":19398,"name":"i0"}},{"type":"Property","start":19400,"end":19425,"computed":false,"key":{"type":"Identifier","start":19400,"end":19404,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19406,"end":19425,"name":"AngularTokenService"}},{"type":"Property","start":19427,"end":19445,"computed":false,"key":{"type":"Identifier","start":19427,"end":19437,"name":"providedIn"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19439,"end":19445,"raw":"'root'","value":"root"}}]}],"callee":{"type":"MemberExpression","start":19318,"end":19342,"computed":false,"object":{"type":"Identifier","start":19318,"end":19320,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":19321,"end":19342,"name":"ɵɵngDeclareInjectable"}},"optional":false}}]},"id":{"type":"Identifier","start":461,"end":480,"name":"AngularTokenService"},"superClass":null},"source":null,"specifiers":[],"attributes":[]},{"type":"ExpressionStatement","start":19452,"end":20336,"expression":{"type":"CallExpression","start":19452,"end":20335,"arguments":[{"type":"ObjectExpression","start":19480,"end":20334,"properties":[{"type":"Property","start":19482,"end":19502,"computed":false,"key":{"type":"Identifier","start":19482,"end":19492,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19494,"end":19502,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":19504,"end":19521,"computed":false,"key":{"type":"Identifier","start":19504,"end":19511,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19513,"end":19521,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":19523,"end":19535,"computed":false,"key":{"type":"Identifier","start":19523,"end":19531,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19533,"end":19535,"name":"i0"}},{"type":"Property","start":19537,"end":19562,"computed":false,"key":{"type":"Identifier","start":19537,"end":19541,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19543,"end":19562,"name":"AngularTokenService"}},{"type":"Property","start":19564,"end":19699,"computed":false,"key":{"type":"Identifier","start":19564,"end":19574,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19576,"end":19699,"elements":[{"type":"ObjectExpression","start":19577,"end":19698,"properties":[{"type":"Property","start":19591,"end":19607,"computed":false,"key":{"type":"Identifier","start":19591,"end":19595,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19597,"end":19607,"name":"Injectable"}},{"type":"Property","start":19621,"end":19688,"computed":false,"key":{"type":"Identifier","start":19621,"end":19625,"name":"args"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19627,"end":19688,"elements":[{"type":"ObjectExpression","start":19628,"end":19687,"properties":[{"type":"Property","start":19650,"end":19668,"computed":false,"key":{"type":"Identifier","start":19650,"end":19660,"name":"providedIn"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":19662,"end":19668,"raw":"'root'","value":"root"}}]}]}}]}]}},{"type":"Property","start":19701,"end":20332,"computed":false,"key":{"type":"Identifier","start":19701,"end":19715,"name":"ctorParameters"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","start":19717,"end":20332,"async":false,"body":{"type":"ArrayExpression","start":19723,"end":20332,"elements":[{"type":"ObjectExpression","start":19724,"end":19747,"properties":[{"type":"Property","start":19726,"end":19745,"computed":false,"key":{"type":"Identifier","start":19726,"end":19730,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":19732,"end":19745,"computed":false,"object":{"type":"Identifier","start":19732,"end":19734,"name":"i1"},"optional":false,"property":{"type":"Identifier","start":19735,"end":19745,"name":"HttpClient"}}}]},{"type":"ObjectExpression","start":19749,"end":19874,"properties":[{"type":"Property","start":19751,"end":19766,"computed":false,"key":{"type":"Identifier","start":19751,"end":19755,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19757,"end":19766,"name":"undefined"}},{"type":"Property","start":19768,"end":19872,"computed":false,"key":{"type":"Identifier","start":19768,"end":19778,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19780,"end":19872,"elements":[{"type":"ObjectExpression","start":19781,"end":19871,"properties":[{"type":"Property","start":19803,"end":19815,"computed":false,"key":{"type":"Identifier","start":19803,"end":19807,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19809,"end":19815,"name":"Inject"}},{"type":"Property","start":19837,"end":19853,"computed":false,"key":{"type":"Identifier","start":19837,"end":19841,"name":"args"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19843,"end":19853,"elements":[{"type":"Literal","start":19844,"end":19852,"raw":"'Window'","value":"Window"}]}}]}]}}]},{"type":"ObjectExpression","start":19876,"end":20014,"properties":[{"type":"Property","start":19878,"end":19893,"computed":false,"key":{"type":"Identifier","start":19878,"end":19882,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19884,"end":19893,"name":"undefined"}},{"type":"Property","start":19895,"end":20012,"computed":false,"key":{"type":"Identifier","start":19895,"end":19905,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19907,"end":20012,"elements":[{"type":"ObjectExpression","start":19908,"end":20011,"properties":[{"type":"Property","start":19930,"end":19942,"computed":false,"key":{"type":"Identifier","start":19930,"end":19934,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":19936,"end":19942,"name":"Inject"}},{"type":"Property","start":19964,"end":19993,"computed":false,"key":{"type":"Identifier","start":19964,"end":19968,"name":"args"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":19970,"end":19993,"elements":[{"type":"Identifier","start":19971,"end":19992,"name":"ANGULAR_TOKEN_OPTIONS"}]}}]}]}}]},{"type":"ObjectExpression","start":20016,"end":20141,"properties":[{"type":"Property","start":20018,"end":20030,"computed":false,"key":{"type":"Identifier","start":20018,"end":20022,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":20024,"end":20030,"name":"Object"}},{"type":"Property","start":20032,"end":20139,"computed":false,"key":{"type":"Identifier","start":20032,"end":20042,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":20044,"end":20139,"elements":[{"type":"ObjectExpression","start":20045,"end":20138,"properties":[{"type":"Property","start":20067,"end":20079,"computed":false,"key":{"type":"Identifier","start":20067,"end":20071,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":20073,"end":20079,"name":"Inject"}},{"type":"Property","start":20101,"end":20120,"computed":false,"key":{"type":"Identifier","start":20101,"end":20105,"name":"args"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":20107,"end":20120,"elements":[{"type":"Identifier","start":20108,"end":20119,"name":"PLATFORM_ID"}]}}]}]}}]},{"type":"ObjectExpression","start":20143,"end":20240,"properties":[{"type":"Property","start":20145,"end":20168,"computed":false,"key":{"type":"Identifier","start":20145,"end":20149,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":20151,"end":20168,"computed":false,"object":{"type":"Identifier","start":20151,"end":20153,"name":"i2"},"optional":false,"property":{"type":"Identifier","start":20154,"end":20168,"name":"ActivatedRoute"}}},{"type":"Property","start":20170,"end":20238,"computed":false,"key":{"type":"Identifier","start":20170,"end":20180,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":20182,"end":20238,"elements":[{"type":"ObjectExpression","start":20183,"end":20237,"properties":[{"type":"Property","start":20205,"end":20219,"computed":false,"key":{"type":"Identifier","start":20205,"end":20209,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":20211,"end":20219,"name":"Optional"}}]}]}}]},{"type":"ObjectExpression","start":20242,"end":20331,"properties":[{"type":"Property","start":20244,"end":20259,"computed":false,"key":{"type":"Identifier","start":20244,"end":20248,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":20250,"end":20259,"computed":false,"object":{"type":"Identifier","start":20250,"end":20252,"name":"i2"},"optional":false,"property":{"type":"Identifier","start":20253,"end":20259,"name":"Router"}}},{"type":"Property","start":20261,"end":20329,"computed":false,"key":{"type":"Identifier","start":20261,"end":20271,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":20273,"end":20329,"elements":[{"type":"ObjectExpression","start":20274,"end":20328,"properties":[{"type":"Property","start":20296,"end":20310,"computed":false,"key":{"type":"Identifier","start":20296,"end":20300,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":20302,"end":20310,"name":"Optional"}}]}]}}]}]},"expression":true,"generator":false,"id":null,"params":[]}}]}],"callee":{"type":"MemberExpression","start":19452,"end":19479,"computed":false,"object":{"type":"Identifier","start":19452,"end":19454,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":19455,"end":19479,"name":"ɵɵngDeclareClassMetadata"}},"optional":false}}],"sourceType":"module","_rollupRemoved":[{"end":67243,"start":20337}]},"attributes":{},"code":"import { Injectable, Optional, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport { Observable, fromEvent, interval, BehaviorSubject } from 'rxjs';\nimport { pluck, filter, share, finalize } from 'rxjs/operators';\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class AngularTokenService {\n    http;\n    window;\n    platformId;\n    activatedRoute;\n    router;\n    get currentUserType() {\n        if (this.userType.value != null) {\n            return this.userType.value.name;\n        }\n        else {\n            return undefined;\n        }\n    }\n    get currentUserData() {\n        return this.userData.value;\n    }\n    get currentAuthData() {\n        return this.authData.value;\n    }\n    get apiBase() {\n        console.warn('[angular-token] The attribute .apiBase will be removed in the next major release, please use' +\n            '.tokenOptions.apiBase instead');\n        return this.options.apiBase;\n    }\n    get tokenOptions() {\n        return this.options;\n    }\n    set tokenOptions(options) {\n        this.options = Object.assign(this.options, options);\n    }\n    options;\n    userType = new BehaviorSubject(null);\n    authData = new BehaviorSubject(null);\n    userData = new BehaviorSubject(null);\n    global;\n    localStorage = {};\n    constructor(http, \n    // \"any\" used here to assuage environments where type Window does not exist at build time.\n    // It's assigned to global in the constructor which has the proper typing.\n    window, config, platformId, activatedRoute, router) {\n        this.http = http;\n        this.window = window;\n        this.platformId = platformId;\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.global = (typeof this.window !== 'undefined') ? this.window : {};\n        if (isPlatformServer(this.platformId)) {\n            // Bad pratice, needs fixing\n            this.global = {\n                open: () => null,\n                location: {\n                    href: '/',\n                    origin: '/'\n                }\n            };\n            // Bad pratice, needs fixing\n            this.localStorage.setItem = () => null;\n            this.localStorage.getItem = () => null;\n            this.localStorage.removeItem = () => null;\n        }\n        else {\n            this.localStorage = localStorage;\n        }\n        const defaultOptions = {\n            apiPath: null,\n            apiBase: null,\n            signInPath: 'auth/sign_in',\n            signInRedirect: null,\n            signInStoredUrlStorageKey: null,\n            signOutPath: 'auth/sign_out',\n            validateTokenPath: 'auth/validate_token',\n            signOutFailedValidate: false,\n            registerAccountPath: 'auth',\n            deleteAccountPath: 'auth',\n            registerAccountCallback: this.global.location.href,\n            updatePasswordPath: 'auth',\n            resetPasswordPath: 'auth/password',\n            resetPasswordCallback: this.global.location.href,\n            userTypes: null,\n            loginField: 'email',\n            oAuthBase: this.global.location.origin,\n            oAuthPaths: {\n                github: 'auth/github'\n            },\n            oAuthCallbackPath: 'oauth_callback',\n            oAuthWindowType: 'newWindow',\n            oAuthWindowOptions: null,\n            oAuthBrowserCallbacks: {\n                github: 'auth/github/callback',\n            },\n        };\n        const mergedOptions = Object.assign(defaultOptions, config);\n        this.options = mergedOptions;\n        if (this.options.apiBase === null) {\n            console.warn(`[angular-token] You have not configured 'apiBase', which may result in security issues. ` +\n                `Please refer to the documentation at https://github.com/neroniaky/angular-token/wiki`);\n        }\n        this.tryLoadAuthData();\n    }\n    userSignedIn() {\n        if (this.authData.value == null) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    canActivate(route, state) {\n        if (this.userSignedIn()) {\n            return true;\n        }\n        else {\n            // Store current location in storage (usefull for redirection after signing in)\n            if (this.options.signInStoredUrlStorageKey) {\n                this.localStorage.setItem(this.options.signInStoredUrlStorageKey, state.url);\n            }\n            // Redirect user to sign in if signInRedirect is set\n            if (this.router && this.options.signInRedirect) {\n                this.router.navigate([this.options.signInRedirect]);\n            }\n            return false;\n        }\n    }\n    /**\n     *\n     * Actions\n     *\n     */\n    // Register request\n    registerAccount(registerData, additionalData) {\n        registerData = Object.assign({}, registerData);\n        if (registerData.userType == null) {\n            this.userType.next(null);\n        }\n        else {\n            this.userType.next(this.getUserTypeByName(registerData.userType));\n            delete registerData.userType;\n        }\n        if (registerData.password_confirmation == null &&\n            registerData.passwordConfirmation != null) {\n            registerData.password_confirmation = registerData.passwordConfirmation;\n            delete registerData.passwordConfirmation;\n        }\n        if (additionalData !== undefined) {\n            registerData.additionalData = additionalData;\n        }\n        const login = registerData.login;\n        delete registerData.login;\n        registerData[this.options.loginField] = login;\n        registerData.confirm_success_url = this.options.registerAccountCallback;\n        return this.http.post(this.getServerPath() + this.options.registerAccountPath, registerData);\n    }\n    // Delete Account\n    deleteAccount() {\n        return this.http.delete(this.getServerPath() + this.options.deleteAccountPath);\n    }\n    // Sign in request and set storage\n    signIn(signInData, additionalData) {\n        this.userType.next((signInData.userType == null) ? null : this.getUserTypeByName(signInData.userType));\n        const body = {\n            [this.options.loginField]: signInData.login,\n            password: signInData.password\n        };\n        if (additionalData !== undefined) {\n            body['additionalData'] = additionalData;\n        }\n        const observ = this.http.post(this.getServerPath() + this.options.signInPath, body).pipe(share());\n        observ.subscribe(res => this.userData.next(res.data));\n        return observ;\n    }\n    signInOAuth(oAuthType, inAppBrowser, platform) {\n        const oAuthPath = this.getOAuthPath(oAuthType);\n        const callbackUrl = new URL(this.options.oAuthCallbackPath, this.global.location.origin).href;\n        const oAuthWindowType = this.options.oAuthWindowType;\n        const authUrl = this.getOAuthUrl(oAuthPath, callbackUrl, oAuthWindowType);\n        if (oAuthWindowType === 'newWindow' ||\n            (oAuthWindowType == 'inAppBrowser' && (!platform || !platform.is('cordova') || !(platform.is('ios') || platform.is('android'))))) {\n            const oAuthWindowOptions = this.options.oAuthWindowOptions;\n            let windowOptions = '';\n            if (oAuthWindowOptions) {\n                for (const key in oAuthWindowOptions) {\n                    if (oAuthWindowOptions.hasOwnProperty(key)) {\n                        windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n                    }\n                }\n            }\n            const popup = this.window.open(authUrl, '_blank', `closebuttoncaption=Cancel${windowOptions}`);\n            return this.requestCredentialsViaPostMessage(popup);\n        }\n        else if (oAuthWindowType == 'inAppBrowser') {\n            let oAuthBrowserCallback = this.options.oAuthBrowserCallbacks[oAuthType];\n            if (!oAuthBrowserCallback) {\n                throw new Error(`To login with oAuth provider ${oAuthType} using inAppBrowser the callback (in oAuthBrowserCallbacks) is required.`);\n            }\n            // let oAuthWindowOptions = this.options.oAuthWindowOptions;\n            // let windowOptions = '';\n            //  if (oAuthWindowOptions) {\n            //     for (let key in oAuthWindowOptions) {\n            //         windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n            //     }\n            // }\n            let browser = inAppBrowser.create(authUrl, '_blank', 'location=no');\n            return new Observable((observer) => {\n                browser.on('loadstop').subscribe((ev) => {\n                    if (ev.url.indexOf(oAuthBrowserCallback) > -1) {\n                        browser.executeScript({ code: \"requestCredentials();\" }).then((credentials) => {\n                            this.getAuthDataFromPostMessage(credentials[0]);\n                            let pollerObserv = interval(400);\n                            let pollerSubscription = pollerObserv.subscribe(() => {\n                                if (this.userSignedIn()) {\n                                    observer.next(this.authData);\n                                    observer.complete();\n                                    pollerSubscription.unsubscribe();\n                                    browser.close();\n                                }\n                            }, (error) => {\n                                observer.error(error);\n                                observer.complete();\n                            });\n                        }, (error) => {\n                            observer.error(error);\n                            observer.complete();\n                        });\n                    }\n                }, (error) => {\n                    observer.error(error);\n                    observer.complete();\n                });\n            });\n        }\n        else if (oAuthWindowType === 'sameWindow') {\n            this.global.location.href = authUrl;\n            return undefined;\n        }\n        else {\n            throw new Error(`Unsupported oAuthWindowType \"${oAuthWindowType}\"`);\n        }\n    }\n    processOAuthCallback() {\n        this.getAuthDataFromParams();\n    }\n    // Sign out request and delete storage\n    signOut() {\n        return this.http.delete(this.getServerPath() + this.options.signOutPath)\n            // Only remove the localStorage and clear the data after the call\n            .pipe(finalize(() => {\n            this.localStorage.removeItem('accessToken');\n            this.localStorage.removeItem('client');\n            this.localStorage.removeItem('expiry');\n            this.localStorage.removeItem('tokenType');\n            this.localStorage.removeItem('uid');\n            this.authData.next(null);\n            this.userType.next(null);\n            this.userData.next(null);\n        }));\n    }\n    // Validate token request\n    validateToken() {\n        const observ = this.http.get(this.getServerPath() + this.options.validateTokenPath).pipe(share());\n        observ.subscribe((res) => this.userData.next(res.data), (error) => {\n            if (error.status === 401 && this.options.signOutFailedValidate) {\n                this.signOut();\n            }\n        });\n        return observ;\n    }\n    // Update password request\n    updatePassword(updatePasswordData) {\n        if (updatePasswordData.userType != null) {\n            this.userType.next(this.getUserTypeByName(updatePasswordData.userType));\n        }\n        let args;\n        if (updatePasswordData.passwordCurrent == null) {\n            args = {\n                password: updatePasswordData.password,\n                password_confirmation: updatePasswordData.passwordConfirmation\n            };\n        }\n        else {\n            args = {\n                current_password: updatePasswordData.passwordCurrent,\n                password: updatePasswordData.password,\n                password_confirmation: updatePasswordData.passwordConfirmation\n            };\n        }\n        if (updatePasswordData.resetPasswordToken) {\n            args.reset_password_token = updatePasswordData.resetPasswordToken;\n        }\n        const body = args;\n        return this.http.put(this.getServerPath() + this.options.updatePasswordPath, body);\n    }\n    // Reset password request\n    resetPassword(resetPasswordData, additionalData) {\n        if (additionalData !== undefined) {\n            resetPasswordData.additionalData = additionalData;\n        }\n        this.userType.next((resetPasswordData.userType == null) ? null : this.getUserTypeByName(resetPasswordData.userType));\n        const body = {\n            [this.options.loginField]: resetPasswordData.login,\n            redirect_url: this.options.resetPasswordCallback\n        };\n        return this.http.post(this.getServerPath() + this.options.resetPasswordPath, body);\n    }\n    /**\n     *\n     * Construct Paths / Urls\n     *\n     */\n    getUserPath() {\n        return (this.userType.value == null) ? '' : this.userType.value.path + '/';\n    }\n    addTrailingSlashIfNeeded(url) {\n        const lastChar = url[url.length - 1];\n        return lastChar === '/' ? url : url + '/';\n    }\n    getApiPath() {\n        let constructedPath = '';\n        if (this.options.apiBase != null) {\n            constructedPath += this.addTrailingSlashIfNeeded(this.options.apiBase);\n        }\n        if (this.options.apiPath != null) {\n            constructedPath += this.addTrailingSlashIfNeeded(this.options.apiPath);\n        }\n        return constructedPath;\n    }\n    getServerPath() {\n        return this.getApiPath() + this.getUserPath();\n    }\n    getOAuthPath(oAuthType) {\n        let oAuthPath;\n        oAuthPath = this.options.oAuthPaths[oAuthType];\n        if (oAuthPath == null) {\n            oAuthPath = `/auth/${oAuthType}`;\n        }\n        return oAuthPath;\n    }\n    getOAuthUrl(oAuthPath, callbackUrl, windowType) {\n        let url = new URL(`${oAuthPath}?omniauth_window_type=${windowType}&auth_origin_url=${encodeURIComponent(callbackUrl)}`, this.options.oAuthBase).href;\n        if (this.userType.value != null) {\n            url += `&resource_class=${this.userType.value.name}`;\n        }\n        return url;\n    }\n    /**\n     *\n     * Get Auth Data\n     *\n     */\n    // Try to load auth data\n    tryLoadAuthData() {\n        const userType = this.getUserTypeByName(this.localStorage.getItem('userType'));\n        if (userType) {\n            this.userType.next(userType);\n        }\n        this.getAuthDataFromStorage();\n        if (this.activatedRoute) {\n            this.getAuthDataFromParams();\n        }\n        // if (this.authData) {\n        //     this.validateToken();\n        // }\n    }\n    // Parse Auth data from response\n    getAuthHeadersFromResponse(data) {\n        const headers = data.headers;\n        const authData = {\n            accessToken: headers.get('access-token'),\n            client: headers.get('client'),\n            expiry: headers.get('expiry'),\n            tokenType: headers.get('token-type'),\n            uid: headers.get('uid')\n        };\n        this.setAuthData(authData);\n    }\n    // Parse Auth data from post message\n    getAuthDataFromPostMessage(data) {\n        const authData = {\n            accessToken: data['auth_token'],\n            client: data['client_id'],\n            expiry: data['expiry'],\n            tokenType: 'Bearer',\n            uid: data['uid']\n        };\n        this.setAuthData(authData);\n    }\n    // Try to get auth data from storage.\n    getAuthDataFromStorage() {\n        const authData = {\n            accessToken: this.localStorage.getItem('accessToken'),\n            client: this.localStorage.getItem('client'),\n            expiry: this.localStorage.getItem('expiry'),\n            tokenType: this.localStorage.getItem('tokenType'),\n            uid: this.localStorage.getItem('uid')\n        };\n        if (this.checkAuthData(authData)) {\n            this.authData.next(authData);\n        }\n    }\n    // Try to get auth data from url parameters.\n    getAuthDataFromParams() {\n        this.activatedRoute.queryParams.subscribe(queryParams => {\n            const authData = {\n                accessToken: queryParams['token'] || queryParams['auth_token'],\n                client: queryParams['client_id'],\n                expiry: queryParams['expiry'],\n                tokenType: 'Bearer',\n                uid: queryParams['uid']\n            };\n            if (this.checkAuthData(authData)) {\n                this.authData.next(authData);\n            }\n        });\n    }\n    /**\n     *\n     * Set Auth Data\n     *\n     */\n    // Write auth data to storage\n    setAuthData(authData) {\n        if (this.checkAuthData(authData)) {\n            this.authData.next(authData);\n            this.localStorage.setItem('accessToken', authData.accessToken);\n            this.localStorage.setItem('client', authData.client);\n            this.localStorage.setItem('expiry', authData.expiry);\n            this.localStorage.setItem('tokenType', authData.tokenType);\n            this.localStorage.setItem('uid', authData.uid);\n            if (this.userType.value != null) {\n                this.localStorage.setItem('userType', this.userType.value.name);\n            }\n        }\n    }\n    /**\n     *\n     * Validate Auth Data\n     *\n     */\n    // Check if auth data complete and if response token is newer\n    checkAuthData(authData) {\n        if (authData.accessToken != null &&\n            authData.client != null &&\n            authData.expiry != null &&\n            authData.tokenType != null &&\n            authData.uid != null) {\n            if (this.authData.value != null) {\n                return authData.expiry >= this.authData.value.expiry;\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     *\n     * OAuth\n     *\n     */\n    requestCredentialsViaPostMessage(authWindow) {\n        const pollerObserv = interval(500);\n        const responseObserv = fromEvent(this.global, 'message').pipe(pluck('data'), filter(this.oAuthWindowResponseFilter));\n        responseObserv.subscribe(this.getAuthDataFromPostMessage.bind(this));\n        const pollerSubscription = pollerObserv.subscribe(() => {\n            if (authWindow.closed) {\n                pollerSubscription.unsubscribe();\n            }\n            else {\n                authWindow.postMessage('requestCredentials', '*');\n            }\n        });\n        return responseObserv;\n    }\n    oAuthWindowResponseFilter(data) {\n        if (data.message === 'deliverCredentials' || data.message === 'authFailure') {\n            return data;\n        }\n    }\n    /**\n     *\n     * Utilities\n     *\n     */\n    // Match user config by user config name\n    getUserTypeByName(name) {\n        if (name == null || this.options.userTypes == null) {\n            return null;\n        }\n        return this.options.userTypes.find(userType => userType.name === name);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, deps: [{ token: i1.HttpClient }, { token: 'Window' }, { token: ANGULAR_TOKEN_OPTIONS }, { token: PLATFORM_ID }, { token: i2.ActivatedRoute, optional: true }, { token: i2.Router, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.HttpClient }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: ['Window']\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [ANGULAR_TOKEN_OPTIONS]\n                }] }, { type: Object, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i2.ActivatedRoute, decorators: [{\n                    type: Optional\n                }] }, { type: i2.Router, decorators: [{\n                    type: Optional\n                }] }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhci10b2tlbi9zcmMvbGliL2FuZ3VsYXItdG9rZW4uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRW5ELE9BQU8sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDeEUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRWhFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7O0FBc0I5RCxNQUFNLE9BQU8sbUJBQW1CO0lBeUNwQjtJQUdrQjtJQUVHO0lBQ1Q7SUFDQTtJQTlDdEIsSUFBSSxlQUFlO1FBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQy9CLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1NBQ2pDO2FBQU07WUFDTCxPQUFPLFNBQVMsQ0FBQztTQUNsQjtJQUNILENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsOEZBQThGO1lBQ3pHLCtCQUErQixDQUFDLENBQUM7UUFDbkMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxZQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLFlBQVksQ0FBQyxPQUE0QjtRQUMzQyxJQUFJLENBQUMsT0FBTyxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRU8sT0FBTyxDQUFzQjtJQUM5QixRQUFRLEdBQThCLElBQUksZUFBZSxDQUFXLElBQUksQ0FBQyxDQUFDO0lBQzFFLFFBQVEsR0FBOEIsSUFBSSxlQUFlLENBQVcsSUFBSSxDQUFDLENBQUM7SUFDMUUsUUFBUSxHQUE4QixJQUFJLGVBQWUsQ0FBVyxJQUFJLENBQUMsQ0FBQztJQUN6RSxNQUFNLENBQWtCO0lBRXhCLFlBQVksR0FBa0IsRUFBRSxDQUFDO0lBRXpDLFlBQ1UsSUFBZ0I7SUFDeEIsMEZBQTBGO0lBQzFGLDBFQUEwRTtJQUNoRCxNQUFXLEVBQ04sTUFBVyxFQUNiLFVBQWtCLEVBQzNCLGNBQThCLEVBQzlCLE1BQWM7UUFQMUIsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUdFLFdBQU0sR0FBTixNQUFNLENBQUs7UUFFUixlQUFVLEdBQVYsVUFBVSxDQUFRO1FBQzNCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUM5QixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBRWxDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUV0RSxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUVyQyw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRztnQkFDWixJQUFJLEVBQUUsR0FBVyxFQUFFLENBQUMsSUFBSTtnQkFDeEIsUUFBUSxFQUFFO29CQUNSLElBQUksRUFBRSxHQUFHO29CQUNULE1BQU0sRUFBRSxHQUFHO2lCQUNMO2FBQ1QsQ0FBQztZQUVGLDRCQUE0QjtZQUM1QixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sR0FBRyxHQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDN0MsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEdBQUcsR0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQzdDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxHQUFHLEdBQVMsRUFBRSxDQUFDLElBQUksQ0FBQztTQUNqRDthQUFNO1lBQ0wsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7U0FDbEM7UUFFRCxNQUFNLGNBQWMsR0FBd0I7WUFDMUMsT0FBTyxFQUFFLElBQUk7WUFDYixPQUFPLEVBQUUsSUFBSTtZQUViLFVBQVUsRUFBRSxjQUFjO1lBQzFCLGNBQWMsRUFBRSxJQUFJO1lBQ3BCLHlCQUF5QixFQUFFLElBQUk7WUFFL0IsV0FBVyxFQUFFLGVBQWU7WUFDNUIsaUJBQWlCLEVBQUUscUJBQXFCO1lBQ3hDLHFCQUFxQixFQUFFLEtBQUs7WUFFNUIsbUJBQW1CLEVBQUUsTUFBTTtZQUMzQixpQkFBaUIsRUFBRSxNQUFNO1lBQ3pCLHVCQUF1QixFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUk7WUFFbEQsa0JBQWtCLEVBQUUsTUFBTTtZQUUxQixpQkFBaUIsRUFBRSxlQUFlO1lBQ2xDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUk7WUFFaEQsU0FBUyxFQUFFLElBQUk7WUFDZixVQUFVLEVBQUUsT0FBTztZQUVuQixTQUFTLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUN0QyxVQUFVLEVBQUU7Z0JBQ1YsTUFBTSxFQUFFLGFBQWE7YUFDdEI7WUFDRCxpQkFBaUIsRUFBRSxnQkFBZ0I7WUFDbkMsZUFBZSxFQUFFLFdBQVc7WUFDNUIsa0JBQWtCLEVBQUUsSUFBSTtZQUV4QixxQkFBcUIsRUFBRTtnQkFDckIsTUFBTSxFQUFFLHNCQUFzQjthQUMvQjtTQUNGLENBQUM7UUFFRixNQUFNLGFBQWEsR0FBUyxNQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsT0FBTyxHQUFHLGFBQWEsQ0FBQztRQUU3QixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxLQUFLLElBQUksRUFBRTtZQUNqQyxPQUFPLENBQUMsSUFBSSxDQUFDLDBGQUEwRjtnQkFDckcsc0ZBQXNGLENBQUMsQ0FBQztTQUMzRjtRQUVELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsWUFBWTtRQUNWLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQy9CLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFDO1NBQ2I7SUFDSCxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQTZCLEVBQUUsS0FBMEI7UUFDbkUsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUM7U0FDYjthQUFNO1lBQ0wsK0VBQStFO1lBQy9FLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRTtnQkFDMUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUMseUJBQXlCLEVBQ3RDLEtBQUssQ0FBQyxHQUFHLENBQ1YsQ0FBQzthQUNIO1lBRUQsb0RBQW9EO1lBQ3BELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRTtnQkFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7YUFDckQ7WUFFRCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQztJQUdEOzs7O09BSUc7SUFFSCxtQkFBbUI7SUFDbkIsZUFBZSxDQUFDLFlBQTBCLEVBQUUsY0FBb0I7UUFFOUQsWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBRS9DLElBQUksWUFBWSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7WUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDMUI7YUFBTTtZQUNMLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNsRSxPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUM7U0FDOUI7UUFFRCxJQUNFLFlBQVksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJO1lBQzFDLFlBQVksQ0FBQyxvQkFBb0IsSUFBSSxJQUFJLEVBQ3pDO1lBQ0EsWUFBWSxDQUFDLHFCQUFxQixHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQztZQUN2RSxPQUFPLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQztTQUMxQztRQUVELElBQUksY0FBYyxLQUFLLFNBQVMsRUFBRTtZQUNoQyxZQUFZLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUM5QztRQUVELE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUM7UUFDakMsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDO1FBQzFCLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUU5QyxZQUFZLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztRQUV4RSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUNuQixJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRSxZQUFZLENBQ3RFLENBQUM7SUFDSixDQUFDO0lBRUQsaUJBQWlCO0lBQ2pCLGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFjLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDOUYsQ0FBQztJQUVELGtDQUFrQztJQUNsQyxNQUFNLENBQUMsVUFBc0IsRUFBRSxjQUFvQjtRQUNqRCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBRXZHLE1BQU0sSUFBSSxHQUFHO1lBQ1gsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxLQUFLO1lBQzNDLFFBQVEsRUFBRSxVQUFVLENBQUMsUUFBUTtTQUM5QixDQUFDO1FBRUYsSUFBSSxjQUFjLEtBQUssU0FBUyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLGNBQWMsQ0FBQztTQUN6QztRQUVELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUMzQixJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUNyRCxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRWhCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUV0RCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQsV0FBVyxDQUFDLFNBQWlCLEVBQUUsWUFBMEMsRUFBRSxRQUF3QjtRQUVqRyxNQUFNLFNBQVMsR0FBVyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZELE1BQU0sV0FBVyxHQUFXLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3RHLE1BQU0sZUFBZSxHQUFXLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDO1FBQzdELE1BQU0sT0FBTyxHQUFXLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUVsRixJQUFJLGVBQWUsS0FBSyxXQUFXO1lBQ2pDLENBQUMsZUFBZSxJQUFJLGNBQWMsSUFBSSxDQUFDLENBQUMsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2xJLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztZQUMzRCxJQUFJLGFBQWEsR0FBRyxFQUFFLENBQUM7WUFFdkIsSUFBSSxrQkFBa0IsRUFBRTtnQkFDdEIsS0FBSyxNQUFNLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtvQkFDcEMsSUFBSSxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7d0JBQzFDLGFBQWEsSUFBSSxJQUFJLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO3FCQUN2RDtpQkFDRjthQUNGO1lBRUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQzVCLE9BQU8sRUFDUCxRQUFRLEVBQ1IsNEJBQTRCLGFBQWEsRUFBRSxDQUM1QyxDQUFDO1lBQ0YsT0FBTyxJQUFJLENBQUMsZ0NBQWdDLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDckQ7YUFBTSxJQUFJLGVBQWUsSUFBSSxjQUFjLEVBQUU7WUFDNUMsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3pFLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsU0FBUywwRUFBMEUsQ0FBQyxDQUFDO2FBQ3RJO1lBQ0QsNERBQTREO1lBQzVELDBCQUEwQjtZQUUxQiw2QkFBNkI7WUFDN0IsNENBQTRDO1lBQzVDLGlFQUFpRTtZQUNqRSxRQUFRO1lBQ1IsSUFBSTtZQUVKLElBQUksT0FBTyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQy9CLE9BQU8sRUFDUCxRQUFRLEVBQ1IsYUFBYSxDQUNkLENBQUM7WUFFRixPQUFPLElBQUksVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7Z0JBQ2pDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBTyxFQUFFLEVBQUU7b0JBQzNDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTt3QkFDN0MsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBZ0IsRUFBRSxFQUFFOzRCQUNqRixJQUFJLENBQUMsMEJBQTBCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBRWhELElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQzs0QkFFakMsSUFBSSxrQkFBa0IsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQ0FDbkQsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUU7b0NBQ3ZCLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29DQUM3QixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7b0NBRXBCLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxDQUFDO29DQUNqQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7aUNBQ2pCOzRCQUNILENBQUMsRUFBRSxDQUFDLEtBQVUsRUFBRSxFQUFFO2dDQUNoQixRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUN0QixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7NEJBQ3RCLENBQUMsQ0FBQyxDQUFDO3dCQUNMLENBQUMsRUFBRSxDQUFDLEtBQVUsRUFBRSxFQUFFOzRCQUNoQixRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDOzRCQUN0QixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7d0JBQ3RCLENBQUMsQ0FBQyxDQUFDO3FCQUNKO2dCQUNILENBQUMsRUFBRSxDQUFDLEtBQVUsRUFBRSxFQUFFO29CQUNoQixRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN0QixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3RCLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUE7U0FDSDthQUFNLElBQUksZUFBZSxLQUFLLFlBQVksRUFBRTtZQUMzQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO1lBQ3BDLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO2FBQU07WUFDTCxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO1NBQ3JFO0lBQ0gsQ0FBQztJQUVELG9CQUFvQjtRQUNsQixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsc0NBQXNDO0lBQ3RDLE9BQU87UUFDTCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFjLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztZQUNuRixpRUFBaUU7YUFDaEUsSUFBSSxDQUNILFFBQVEsQ0FBQyxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUMxQyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVwQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQ0EsQ0FDRixDQUFDO0lBQ04sQ0FBQztJQUVELHlCQUF5QjtJQUN6QixhQUFhO1FBQ1gsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQzFCLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUN0RCxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRWhCLE1BQU0sQ0FBQyxTQUFTLENBQ2QsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFDckMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNSLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRTtnQkFDOUQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQ2hCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFTCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQsMEJBQTBCO0lBQzFCLGNBQWMsQ0FBQyxrQkFBc0M7UUFFbkQsSUFBSSxrQkFBa0IsQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1NBQ3pFO1FBRUQsSUFBSSxJQUFTLENBQUM7UUFFZCxJQUFJLGtCQUFrQixDQUFDLGVBQWUsSUFBSSxJQUFJLEVBQUU7WUFDOUMsSUFBSSxHQUFHO2dCQUNMLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxRQUFRO2dCQUNyQyxxQkFBcUIsRUFBRSxrQkFBa0IsQ0FBQyxvQkFBb0I7YUFDL0QsQ0FBQztTQUNIO2FBQU07WUFDTCxJQUFJLEdBQUc7Z0JBQ0wsZ0JBQWdCLEVBQUUsa0JBQWtCLENBQUMsZUFBZTtnQkFDcEQsUUFBUSxFQUFFLGtCQUFrQixDQUFDLFFBQVE7Z0JBQ3JDLHFCQUFxQixFQUFFLGtCQUFrQixDQUFDLG9CQUFvQjthQUMvRCxDQUFDO1NBQ0g7UUFFRCxJQUFJLGtCQUFrQixDQUFDLGtCQUFrQixFQUFFO1lBQ3pDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQztTQUNuRTtRQUVELE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQztRQUNsQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFjLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2xHLENBQUM7SUFFRCx5QkFBeUI7SUFDekIsYUFBYSxDQUFDLGlCQUFvQyxFQUFFLGNBQW9CO1FBR3RFLElBQUksY0FBYyxLQUFLLFNBQVMsRUFBRTtZQUNoQyxpQkFBaUIsQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1NBQ25EO1FBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQ2hCLENBQUMsaUJBQWlCLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FDakcsQ0FBQztRQUVGLE1BQU0sSUFBSSxHQUFHO1lBQ1gsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLEtBQUs7WUFDbEQsWUFBWSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCO1NBQ2pELENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFjLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2xHLENBQUM7SUFHRDs7OztPQUlHO0lBRUssV0FBVztRQUNqQixPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUM3RSxDQUFDO0lBRU8sd0JBQXdCLENBQUMsR0FBVztRQUMxQyxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVyQyxPQUFPLFFBQVEsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUM1QyxDQUFDO0lBRU8sVUFBVTtRQUNoQixJQUFJLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFFekIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUU7WUFDaEMsZUFBZSxJQUFJLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3hFO1FBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUU7WUFDaEMsZUFBZSxJQUFJLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3hFO1FBRUQsT0FBTyxlQUFlLENBQUM7SUFDekIsQ0FBQztJQUVPLGFBQWE7UUFDbkIsT0FBTyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hELENBQUM7SUFFTyxZQUFZLENBQUMsU0FBaUI7UUFDcEMsSUFBSSxTQUFpQixDQUFDO1FBRXRCLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUUvQyxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUU7WUFDckIsU0FBUyxHQUFHLFNBQVMsU0FBUyxFQUFFLENBQUM7U0FDbEM7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRU8sV0FBVyxDQUFDLFNBQWlCLEVBQUUsV0FBbUIsRUFBRSxVQUFrQjtRQUM1RSxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FDZixHQUFHLFNBQVMseUJBQXlCLFVBQVUsb0JBQW9CLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQ3BHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUN2QixDQUFDLElBQUksQ0FBQTtRQUVOLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQy9CLEdBQUcsSUFBSSxtQkFBbUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDdEQ7UUFFRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFHRDs7OztPQUlHO0lBRUgsd0JBQXdCO0lBQ2hCLGVBQWU7UUFFckIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFFL0UsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM5QjtRQUVELElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRTlCLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN2QixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztTQUM5QjtRQUVELHVCQUF1QjtRQUN2Qiw0QkFBNEI7UUFDNUIsSUFBSTtJQUNOLENBQUM7SUFFRCxnQ0FBZ0M7SUFDekIsMEJBQTBCLENBQUMsSUFBMkM7UUFDM0UsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUU3QixNQUFNLFFBQVEsR0FBYTtZQUN6QixXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7WUFDeEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1lBQzdCLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztZQUM3QixTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUM7WUFDcEMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQ3hCLENBQUM7UUFFRixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxvQ0FBb0M7SUFDNUIsMEJBQTBCLENBQUMsSUFBUztRQUMxQyxNQUFNLFFBQVEsR0FBYTtZQUN6QixXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUMvQixNQUFNLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUN0QixTQUFTLEVBQUUsUUFBUTtZQUNuQixHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNqQixDQUFDO1FBRUYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQscUNBQXFDO0lBQzlCLHNCQUFzQjtRQUUzQixNQUFNLFFBQVEsR0FBYTtZQUN6QixXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO1lBQ3JELE1BQU0sRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDM0MsTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztZQUMzQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1lBQ2pELEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7U0FDdEMsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNoQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCw0Q0FBNEM7SUFDcEMscUJBQXFCO1FBQzNCLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN0RCxNQUFNLFFBQVEsR0FBYTtnQkFDekIsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxXQUFXLENBQUMsWUFBWSxDQUFDO2dCQUM5RCxNQUFNLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQztnQkFDaEMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxRQUFRLENBQUM7Z0JBQzdCLFNBQVMsRUFBRSxRQUFRO2dCQUNuQixHQUFHLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQzthQUN4QixDQUFDO1lBRUYsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUM5QjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFFSCw2QkFBNkI7SUFDckIsV0FBVyxDQUFDLFFBQWtCO1FBQ3BDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUVoQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUU3QixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckQsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRCxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNELElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFL0MsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUU7Z0JBQy9CLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNqRTtTQUVGO0lBQ0gsQ0FBQztJQUdEOzs7O09BSUc7SUFFSCw2REFBNkQ7SUFDckQsYUFBYSxDQUFDLFFBQWtCO1FBRXRDLElBQ0UsUUFBUSxDQUFDLFdBQVcsSUFBSSxJQUFJO1lBQzVCLFFBQVEsQ0FBQyxNQUFNLElBQUksSUFBSTtZQUN2QixRQUFRLENBQUMsTUFBTSxJQUFJLElBQUk7WUFDdkIsUUFBUSxDQUFDLFNBQVMsSUFBSSxJQUFJO1lBQzFCLFFBQVEsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUNwQjtZQUNBLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO2dCQUMvQixPQUFPLFFBQVEsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2FBQ3REO1lBQ0QsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUdEOzs7O09BSUc7SUFFSyxnQ0FBZ0MsQ0FBQyxVQUFlO1FBQ3RELE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVuQyxNQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQWEsRUFBRSxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQ2xFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFDYixNQUFNLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQ3ZDLENBQUM7UUFFRixjQUFjLENBQUMsU0FBUyxDQUN0QixJQUFJLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUMzQyxDQUFDO1FBRUYsTUFBTSxrQkFBa0IsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtZQUNyRCxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxDQUFDO2FBQ2xDO2lCQUFNO2dCQUNMLFVBQVUsQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDbkQ7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUM7SUFFTyx5QkFBeUIsQ0FBQyxJQUFTO1FBQ3pDLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxvQkFBb0IsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLGFBQWEsRUFBRTtZQUMzRSxPQUFPLElBQUksQ0FBQztTQUNiO0lBQ0gsQ0FBQztJQUdEOzs7O09BSUc7SUFFSCx3Q0FBd0M7SUFDaEMsaUJBQWlCLENBQUMsSUFBWTtRQUNwQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSxFQUFFO1lBQ2xELE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FDaEMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLElBQUksQ0FDbkMsQ0FBQztJQUNKLENBQUM7dUdBbG9CVSxtQkFBbUIsNENBNENwQixRQUFRLGFBQ1IscUJBQXFCLGFBQ3JCLFdBQVc7MkdBOUNWLG1CQUFtQixjQUZsQixNQUFNOzsyRkFFUCxtQkFBbUI7a0JBSC9CLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzswQkE2Q0ksTUFBTTsyQkFBQyxRQUFROzswQkFDZixNQUFNOzJCQUFDLHFCQUFxQjs7MEJBQzVCLE1BQU07MkJBQUMsV0FBVzs7MEJBQ2xCLFFBQVE7OzBCQUNSLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPcHRpb25hbCwgSW5qZWN0LCBQTEFURk9STV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciwgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUmVzcG9uc2UsIEh0dHBFcnJvclJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybVNlcnZlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb21FdmVudCwgaW50ZXJ2YWwsIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgcGx1Y2ssIGZpbHRlciwgc2hhcmUsIGZpbmFsaXplIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBBTkdVTEFSX1RPS0VOX09QVElPTlMgfSBmcm9tICcuL2FuZ3VsYXItdG9rZW4udG9rZW4nO1xuXG5pbXBvcnQge1xuICBTaWduSW5EYXRhLFxuICBSZWdpc3RlckRhdGEsXG4gIFVwZGF0ZVBhc3N3b3JkRGF0YSxcbiAgUmVzZXRQYXNzd29yZERhdGEsXG5cbiAgVXNlclR5cGUsXG4gIFVzZXJEYXRhLFxuICBBdXRoRGF0YSxcbiAgQXBpUmVzcG9uc2UsXG5cbiAgQW5ndWxhclRva2VuT3B0aW9ucyxcblxuICBUb2tlblBsYXRmb3JtLFxuICBUb2tlbkluQXBwQnJvd3Nlcixcbn0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLm1vZGVsJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCcsXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJUb2tlblNlcnZpY2UgIHtcblxuICBnZXQgY3VycmVudFVzZXJUeXBlKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXNlclR5cGUudmFsdWUgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMudXNlclR5cGUudmFsdWUubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBnZXQgY3VycmVudFVzZXJEYXRhKCk6IFVzZXJEYXRhIHtcbiAgICByZXR1cm4gdGhpcy51c2VyRGF0YS52YWx1ZTtcbiAgfVxuXG4gIGdldCBjdXJyZW50QXV0aERhdGEoKTogQXV0aERhdGEge1xuICAgIHJldHVybiB0aGlzLmF1dGhEYXRhLnZhbHVlO1xuICB9XG5cbiAgZ2V0IGFwaUJhc2UoKTogc3RyaW5nIHtcbiAgICBjb25zb2xlLndhcm4oJ1thbmd1bGFyLXRva2VuXSBUaGUgYXR0cmlidXRlIC5hcGlCYXNlIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLCBwbGVhc2UgdXNlJyArXG4gICAgICAnLnRva2VuT3B0aW9ucy5hcGlCYXNlIGluc3RlYWQnKTtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFwaUJhc2U7XG4gIH1cblxuICBnZXQgdG9rZW5PcHRpb25zKCk6IEFuZ3VsYXJUb2tlbk9wdGlvbnMge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH1cblxuICBzZXQgdG9rZW5PcHRpb25zKG9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBvcHRpb25zOiBBbmd1bGFyVG9rZW5PcHRpb25zO1xuICBwdWJsaWMgdXNlclR5cGU6IEJlaGF2aW9yU3ViamVjdDxVc2VyVHlwZT4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJUeXBlPihudWxsKTtcbiAgcHVibGljIGF1dGhEYXRhOiBCZWhhdmlvclN1YmplY3Q8QXV0aERhdGE+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxBdXRoRGF0YT4obnVsbCk7XG4gIHB1YmxpYyB1c2VyRGF0YTogQmVoYXZpb3JTdWJqZWN0PFVzZXJEYXRhPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VXNlckRhdGE+KG51bGwpO1xuICBwcml2YXRlIGdsb2JhbDogUGFydGlhbDxXaW5kb3c+O1xuXG4gIHByaXZhdGUgbG9jYWxTdG9yYWdlOiBTdG9yYWdlIHwgYW55ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxuICAgIC8vIFwiYW55XCIgdXNlZCBoZXJlIHRvIGFzc3VhZ2UgZW52aXJvbm1lbnRzIHdoZXJlIHR5cGUgV2luZG93IGRvZXMgbm90IGV4aXN0IGF0IGJ1aWxkIHRpbWUuXG4gICAgLy8gSXQncyBhc3NpZ25lZCB0byBnbG9iYWwgaW4gdGhlIGNvbnN0cnVjdG9yIHdoaWNoIGhhcyB0aGUgcHJvcGVyIHR5cGluZy5cbiAgICBASW5qZWN0KCdXaW5kb3cnKSBwcml2YXRlIHdpbmRvdzogYW55LFxuICAgIEBJbmplY3QoQU5HVUxBUl9UT0tFTl9PUFRJT05TKSBjb25maWc6IGFueSxcbiAgICBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtSWQ6IE9iamVjdCxcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJvdXRlcjogUm91dGVyXG4gICkge1xuICAgIHRoaXMuZ2xvYmFsID0gKHR5cGVvZiB0aGlzLndpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy53aW5kb3cgOiB7fTtcblxuICAgIGlmIChpc1BsYXRmb3JtU2VydmVyKHRoaXMucGxhdGZvcm1JZCkpIHtcblxuICAgICAgLy8gQmFkIHByYXRpY2UsIG5lZWRzIGZpeGluZ1xuICAgICAgdGhpcy5nbG9iYWwgPSB7XG4gICAgICAgIG9wZW46ICgpOiBXaW5kb3cgPT4gbnVsbCxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICBocmVmOiAnLycsXG4gICAgICAgICAgb3JpZ2luOiAnLydcbiAgICAgICAgfSBhcyBhbnlcbiAgICAgIH07XG5cbiAgICAgIC8vIEJhZCBwcmF0aWNlLCBuZWVkcyBmaXhpbmdcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0gPSAoKTogdm9pZCA9PiBudWxsO1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSA9ICgpOiB2b2lkID0+IG51bGw7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtID0gKCk6IHZvaWQgPT4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMgPSB7XG4gICAgICBhcGlQYXRoOiBudWxsLFxuICAgICAgYXBpQmFzZTogbnVsbCxcblxuICAgICAgc2lnbkluUGF0aDogJ2F1dGgvc2lnbl9pbicsXG4gICAgICBzaWduSW5SZWRpcmVjdDogbnVsbCxcbiAgICAgIHNpZ25JblN0b3JlZFVybFN0b3JhZ2VLZXk6IG51bGwsXG5cbiAgICAgIHNpZ25PdXRQYXRoOiAnYXV0aC9zaWduX291dCcsXG4gICAgICB2YWxpZGF0ZVRva2VuUGF0aDogJ2F1dGgvdmFsaWRhdGVfdG9rZW4nLFxuICAgICAgc2lnbk91dEZhaWxlZFZhbGlkYXRlOiBmYWxzZSxcblxuICAgICAgcmVnaXN0ZXJBY2NvdW50UGF0aDogJ2F1dGgnLFxuICAgICAgZGVsZXRlQWNjb3VudFBhdGg6ICdhdXRoJyxcbiAgICAgIHJlZ2lzdGVyQWNjb3VudENhbGxiYWNrOiB0aGlzLmdsb2JhbC5sb2NhdGlvbi5ocmVmLFxuXG4gICAgICB1cGRhdGVQYXNzd29yZFBhdGg6ICdhdXRoJyxcblxuICAgICAgcmVzZXRQYXNzd29yZFBhdGg6ICdhdXRoL3Bhc3N3b3JkJyxcbiAgICAgIHJlc2V0UGFzc3dvcmRDYWxsYmFjazogdGhpcy5nbG9iYWwubG9jYXRpb24uaHJlZixcblxuICAgICAgdXNlclR5cGVzOiBudWxsLFxuICAgICAgbG9naW5GaWVsZDogJ2VtYWlsJyxcblxuICAgICAgb0F1dGhCYXNlOiB0aGlzLmdsb2JhbC5sb2NhdGlvbi5vcmlnaW4sXG4gICAgICBvQXV0aFBhdGhzOiB7XG4gICAgICAgIGdpdGh1YjogJ2F1dGgvZ2l0aHViJ1xuICAgICAgfSxcbiAgICAgIG9BdXRoQ2FsbGJhY2tQYXRoOiAnb2F1dGhfY2FsbGJhY2snLFxuICAgICAgb0F1dGhXaW5kb3dUeXBlOiAnbmV3V2luZG93JyxcbiAgICAgIG9BdXRoV2luZG93T3B0aW9uczogbnVsbCxcblxuICAgICAgb0F1dGhCcm93c2VyQ2FsbGJhY2tzOiB7XG4gICAgICAgIGdpdGh1YjogJ2F1dGgvZ2l0aHViL2NhbGxiYWNrJyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihkZWZhdWx0T3B0aW9ucywgY29uZmlnKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZWRPcHRpb25zO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hcGlCYXNlID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFthbmd1bGFyLXRva2VuXSBZb3UgaGF2ZSBub3QgY29uZmlndXJlZCAnYXBpQmFzZScsIHdoaWNoIG1heSByZXN1bHQgaW4gc2VjdXJpdHkgaXNzdWVzLiBgICtcbiAgICAgICAgYFBsZWFzZSByZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2dpdGh1Yi5jb20vbmVyb25pYWt5L2FuZ3VsYXItdG9rZW4vd2lraWApO1xuICAgIH1cblxuICAgIHRoaXMudHJ5TG9hZEF1dGhEYXRhKCk7XG4gIH1cblxuICB1c2VyU2lnbmVkSW4oKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuYXV0aERhdGEudmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy51c2VyU2lnbmVkSW4oKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0b3JlIGN1cnJlbnQgbG9jYXRpb24gaW4gc3RvcmFnZSAodXNlZnVsbCBmb3IgcmVkaXJlY3Rpb24gYWZ0ZXIgc2lnbmluZyBpbilcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lnbkluU3RvcmVkVXJsU3RvcmFnZUtleSkge1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgIHRoaXMub3B0aW9ucy5zaWduSW5TdG9yZWRVcmxTdG9yYWdlS2V5LFxuICAgICAgICAgIHN0YXRlLnVybFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWRpcmVjdCB1c2VyIHRvIHNpZ24gaW4gaWYgc2lnbkluUmVkaXJlY3QgaXMgc2V0XG4gICAgICBpZiAodGhpcy5yb3V0ZXIgJiYgdGhpcy5vcHRpb25zLnNpZ25JblJlZGlyZWN0KSB7XG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt0aGlzLm9wdGlvbnMuc2lnbkluUmVkaXJlY3RdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEFjdGlvbnNcbiAgICpcbiAgICovXG5cbiAgLy8gUmVnaXN0ZXIgcmVxdWVzdFxuICByZWdpc3RlckFjY291bnQocmVnaXN0ZXJEYXRhOiBSZWdpc3RlckRhdGEsIGFkZGl0aW9uYWxEYXRhPzogYW55KTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG4gICAgcmVnaXN0ZXJEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgcmVnaXN0ZXJEYXRhKTtcblxuICAgIGlmIChyZWdpc3RlckRhdGEudXNlclR5cGUgPT0gbnVsbCkge1xuICAgICAgdGhpcy51c2VyVHlwZS5uZXh0KG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShyZWdpc3RlckRhdGEudXNlclR5cGUpKTtcbiAgICAgIGRlbGV0ZSByZWdpc3RlckRhdGEudXNlclR5cGU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgcmVnaXN0ZXJEYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiA9PSBudWxsICYmXG4gICAgICByZWdpc3RlckRhdGEucGFzc3dvcmRDb25maXJtYXRpb24gIT0gbnVsbFxuICAgICkge1xuICAgICAgcmVnaXN0ZXJEYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiA9IHJlZ2lzdGVyRGF0YS5wYXNzd29yZENvbmZpcm1hdGlvbjtcbiAgICAgIGRlbGV0ZSByZWdpc3RlckRhdGEucGFzc3dvcmRDb25maXJtYXRpb247XG4gICAgfVxuXG4gICAgaWYgKGFkZGl0aW9uYWxEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlZ2lzdGVyRGF0YS5hZGRpdGlvbmFsRGF0YSA9IGFkZGl0aW9uYWxEYXRhO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ2luID0gcmVnaXN0ZXJEYXRhLmxvZ2luO1xuICAgIGRlbGV0ZSByZWdpc3RlckRhdGEubG9naW47XG4gICAgcmVnaXN0ZXJEYXRhW3RoaXMub3B0aW9ucy5sb2dpbkZpZWxkXSA9IGxvZ2luO1xuXG4gICAgcmVnaXN0ZXJEYXRhLmNvbmZpcm1fc3VjY2Vzc191cmwgPSB0aGlzLm9wdGlvbnMucmVnaXN0ZXJBY2NvdW50Q2FsbGJhY2s7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3Q8QXBpUmVzcG9uc2U+KFxuICAgICAgdGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMucmVnaXN0ZXJBY2NvdW50UGF0aCwgcmVnaXN0ZXJEYXRhXG4gICAgKTtcbiAgfVxuXG4gIC8vIERlbGV0ZSBBY2NvdW50XG4gIGRlbGV0ZUFjY291bnQoKTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlPEFwaVJlc3BvbnNlPih0aGlzLmdldFNlcnZlclBhdGgoKSArIHRoaXMub3B0aW9ucy5kZWxldGVBY2NvdW50UGF0aCk7XG4gIH1cblxuICAvLyBTaWduIGluIHJlcXVlc3QgYW5kIHNldCBzdG9yYWdlXG4gIHNpZ25JbihzaWduSW5EYXRhOiBTaWduSW5EYXRhLCBhZGRpdGlvbmFsRGF0YT86IGFueSk6IE9ic2VydmFibGU8QXBpUmVzcG9uc2U+IHtcbiAgICB0aGlzLnVzZXJUeXBlLm5leHQoKHNpZ25JbkRhdGEudXNlclR5cGUgPT0gbnVsbCkgPyBudWxsIDogdGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShzaWduSW5EYXRhLnVzZXJUeXBlKSk7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgW3RoaXMub3B0aW9ucy5sb2dpbkZpZWxkXTogc2lnbkluRGF0YS5sb2dpbixcbiAgICAgIHBhc3N3b3JkOiBzaWduSW5EYXRhLnBhc3N3b3JkXG4gICAgfTtcblxuICAgIGlmIChhZGRpdGlvbmFsRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBib2R5WydhZGRpdGlvbmFsRGF0YSddID0gYWRkaXRpb25hbERhdGE7XG4gICAgfVxuXG4gICAgY29uc3Qgb2JzZXJ2ID0gdGhpcy5odHRwLnBvc3Q8QXBpUmVzcG9uc2U+KFxuICAgICAgdGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMuc2lnbkluUGF0aCwgYm9keVxuICAgICkucGlwZShzaGFyZSgpKTtcblxuICAgIG9ic2Vydi5zdWJzY3JpYmUocmVzID0+IHRoaXMudXNlckRhdGEubmV4dChyZXMuZGF0YSkpO1xuXG4gICAgcmV0dXJuIG9ic2VydjtcbiAgfVxuXG4gIHNpZ25Jbk9BdXRoKG9BdXRoVHlwZTogc3RyaW5nLCBpbkFwcEJyb3dzZXI/OiBUb2tlbkluQXBwQnJvd3NlcjxhbnksIGFueT4sIHBsYXRmb3JtPzogVG9rZW5QbGF0Zm9ybSkge1xuXG4gICAgY29uc3Qgb0F1dGhQYXRoOiBzdHJpbmcgPSB0aGlzLmdldE9BdXRoUGF0aChvQXV0aFR5cGUpO1xuICAgIGNvbnN0IGNhbGxiYWNrVXJsOiBzdHJpbmcgPSBuZXcgVVJMKHRoaXMub3B0aW9ucy5vQXV0aENhbGxiYWNrUGF0aCwgdGhpcy5nbG9iYWwubG9jYXRpb24ub3JpZ2luKS5ocmVmO1xuICAgIGNvbnN0IG9BdXRoV2luZG93VHlwZTogc3RyaW5nID0gdGhpcy5vcHRpb25zLm9BdXRoV2luZG93VHlwZTtcbiAgICBjb25zdCBhdXRoVXJsOiBzdHJpbmcgPSB0aGlzLmdldE9BdXRoVXJsKG9BdXRoUGF0aCwgY2FsbGJhY2tVcmwsIG9BdXRoV2luZG93VHlwZSk7XG5cbiAgICBpZiAob0F1dGhXaW5kb3dUeXBlID09PSAnbmV3V2luZG93JyB8fFxuICAgICAgKG9BdXRoV2luZG93VHlwZSA9PSAnaW5BcHBCcm93c2VyJyAmJiAoIXBsYXRmb3JtIHx8ICFwbGF0Zm9ybS5pcygnY29yZG92YScpIHx8ICEocGxhdGZvcm0uaXMoJ2lvcycpIHx8IHBsYXRmb3JtLmlzKCdhbmRyb2lkJykpKSkpIHtcbiAgICAgIGNvbnN0IG9BdXRoV2luZG93T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vQXV0aFdpbmRvd09wdGlvbnM7XG4gICAgICBsZXQgd2luZG93T3B0aW9ucyA9ICcnO1xuXG4gICAgICBpZiAob0F1dGhXaW5kb3dPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9BdXRoV2luZG93T3B0aW9ucykge1xuICAgICAgICAgIGlmIChvQXV0aFdpbmRvd09wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgd2luZG93T3B0aW9ucyArPSBgLCR7a2V5fT0ke29BdXRoV2luZG93T3B0aW9uc1trZXldfWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvcHVwID0gdGhpcy53aW5kb3cub3BlbihcbiAgICAgICAgYXV0aFVybCxcbiAgICAgICAgJ19ibGFuaycsXG4gICAgICAgIGBjbG9zZWJ1dHRvbmNhcHRpb249Q2FuY2VsJHt3aW5kb3dPcHRpb25zfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q3JlZGVudGlhbHNWaWFQb3N0TWVzc2FnZShwb3B1cCk7XG4gICAgfSBlbHNlIGlmIChvQXV0aFdpbmRvd1R5cGUgPT0gJ2luQXBwQnJvd3NlcicpIHtcbiAgICAgIGxldCBvQXV0aEJyb3dzZXJDYWxsYmFjayA9IHRoaXMub3B0aW9ucy5vQXV0aEJyb3dzZXJDYWxsYmFja3Nbb0F1dGhUeXBlXTtcbiAgICAgIGlmICghb0F1dGhCcm93c2VyQ2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUbyBsb2dpbiB3aXRoIG9BdXRoIHByb3ZpZGVyICR7b0F1dGhUeXBlfSB1c2luZyBpbkFwcEJyb3dzZXIgdGhlIGNhbGxiYWNrIChpbiBvQXV0aEJyb3dzZXJDYWxsYmFja3MpIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfVxuICAgICAgLy8gbGV0IG9BdXRoV2luZG93T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vQXV0aFdpbmRvd09wdGlvbnM7XG4gICAgICAvLyBsZXQgd2luZG93T3B0aW9ucyA9ICcnO1xuXG4gICAgICAvLyAgaWYgKG9BdXRoV2luZG93T3B0aW9ucykge1xuICAgICAgLy8gICAgIGZvciAobGV0IGtleSBpbiBvQXV0aFdpbmRvd09wdGlvbnMpIHtcbiAgICAgIC8vICAgICAgICAgd2luZG93T3B0aW9ucyArPSBgLCR7a2V5fT0ke29BdXRoV2luZG93T3B0aW9uc1trZXldfWA7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gfVxuXG4gICAgICBsZXQgYnJvd3NlciA9IGluQXBwQnJvd3Nlci5jcmVhdGUoXG4gICAgICAgIGF1dGhVcmwsXG4gICAgICAgICdfYmxhbmsnLFxuICAgICAgICAnbG9jYXRpb249bm8nXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGJyb3dzZXIub24oJ2xvYWRzdG9wJykuc3Vic2NyaWJlKChldjogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKGV2LnVybC5pbmRleE9mKG9BdXRoQnJvd3NlckNhbGxiYWNrKSA+IC0xKSB7XG4gICAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoeyBjb2RlOiBcInJlcXVlc3RDcmVkZW50aWFscygpO1wiIH0pLnRoZW4oKGNyZWRlbnRpYWxzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5nZXRBdXRoRGF0YUZyb21Qb3N0TWVzc2FnZShjcmVkZW50aWFsc1swXSk7XG5cbiAgICAgICAgICAgICAgbGV0IHBvbGxlck9ic2VydiA9IGludGVydmFsKDQwMCk7XG5cbiAgICAgICAgICAgICAgbGV0IHBvbGxlclN1YnNjcmlwdGlvbiA9IHBvbGxlck9ic2Vydi5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXJTaWduZWRJbigpKSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRoaXMuYXV0aERhdGEpO1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcblxuICAgICAgICAgICAgICAgICAgcG9sbGVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICBicm93c2VyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAob0F1dGhXaW5kb3dUeXBlID09PSAnc2FtZVdpbmRvdycpIHtcbiAgICAgIHRoaXMuZ2xvYmFsLmxvY2F0aW9uLmhyZWYgPSBhdXRoVXJsO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvQXV0aFdpbmRvd1R5cGUgXCIke29BdXRoV2luZG93VHlwZX1cImApO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NPQXV0aENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUGFyYW1zKCk7XG4gIH1cblxuICAvLyBTaWduIG91dCByZXF1ZXN0IGFuZCBkZWxldGUgc3RvcmFnZVxuICBzaWduT3V0KCk6IE9ic2VydmFibGU8QXBpUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZTxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMuc2lnbk91dFBhdGgpXG4gICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgbG9jYWxTdG9yYWdlIGFuZCBjbGVhciB0aGUgZGF0YSBhZnRlciB0aGUgY2FsbFxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NUb2tlbicpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NsaWVudCcpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2V4cGlyeScpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuVHlwZScpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VpZCcpO1xuXG4gICAgICAgICAgdGhpcy5hdXRoRGF0YS5uZXh0KG51bGwpO1xuICAgICAgICAgIHRoaXMudXNlclR5cGUubmV4dChudWxsKTtcbiAgICAgICAgICB0aGlzLnVzZXJEYXRhLm5leHQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIHRva2VuIHJlcXVlc3RcbiAgdmFsaWRhdGVUb2tlbigpOiBPYnNlcnZhYmxlPEFwaVJlc3BvbnNlPiB7XG4gICAgY29uc3Qgb2JzZXJ2ID0gdGhpcy5odHRwLmdldDxBcGlSZXNwb25zZT4oXG4gICAgICB0aGlzLmdldFNlcnZlclBhdGgoKSArIHRoaXMub3B0aW9ucy52YWxpZGF0ZVRva2VuUGF0aFxuICAgICkucGlwZShzaGFyZSgpKTtcblxuICAgIG9ic2Vydi5zdWJzY3JpYmUoXG4gICAgICAocmVzKSA9PiB0aGlzLnVzZXJEYXRhLm5leHQocmVzLmRhdGEpLFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiB0aGlzLm9wdGlvbnMuc2lnbk91dEZhaWxlZFZhbGlkYXRlKSB7XG4gICAgICAgICAgdGhpcy5zaWduT3V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIG9ic2VydjtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBwYXNzd29yZCByZXF1ZXN0XG4gIHVwZGF0ZVBhc3N3b3JkKHVwZGF0ZVBhc3N3b3JkRGF0YTogVXBkYXRlUGFzc3dvcmREYXRhKTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG4gICAgaWYgKHVwZGF0ZVBhc3N3b3JkRGF0YS51c2VyVHlwZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodGhpcy5nZXRVc2VyVHlwZUJ5TmFtZSh1cGRhdGVQYXNzd29yZERhdGEudXNlclR5cGUpKTtcbiAgICB9XG5cbiAgICBsZXQgYXJnczogYW55O1xuXG4gICAgaWYgKHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZEN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgYXJncyA9IHtcbiAgICAgICAgcGFzc3dvcmQ6IHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZCxcbiAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB1cGRhdGVQYXNzd29yZERhdGEucGFzc3dvcmRDb25maXJtYXRpb25cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MgPSB7XG4gICAgICAgIGN1cnJlbnRfcGFzc3dvcmQ6IHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZEN1cnJlbnQsXG4gICAgICAgIHBhc3N3b3JkOiB1cGRhdGVQYXNzd29yZERhdGEucGFzc3dvcmQsXG4gICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogdXBkYXRlUGFzc3dvcmREYXRhLnBhc3N3b3JkQ29uZmlybWF0aW9uXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVQYXNzd29yZERhdGEucmVzZXRQYXNzd29yZFRva2VuKSB7XG4gICAgICBhcmdzLnJlc2V0X3Bhc3N3b3JkX3Rva2VuID0gdXBkYXRlUGFzc3dvcmREYXRhLnJlc2V0UGFzc3dvcmRUb2tlbjtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXJncztcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dDxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMudXBkYXRlUGFzc3dvcmRQYXRoLCBib2R5KTtcbiAgfVxuXG4gIC8vIFJlc2V0IHBhc3N3b3JkIHJlcXVlc3RcbiAgcmVzZXRQYXNzd29yZChyZXNldFBhc3N3b3JkRGF0YTogUmVzZXRQYXNzd29yZERhdGEsIGFkZGl0aW9uYWxEYXRhPzogYW55KTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG5cbiAgICBpZiAoYWRkaXRpb25hbERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzZXRQYXNzd29yZERhdGEuYWRkaXRpb25hbERhdGEgPSBhZGRpdGlvbmFsRGF0YTtcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJUeXBlLm5leHQoXG4gICAgICAocmVzZXRQYXNzd29yZERhdGEudXNlclR5cGUgPT0gbnVsbCkgPyBudWxsIDogdGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShyZXNldFBhc3N3b3JkRGF0YS51c2VyVHlwZSlcbiAgICApO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIFt0aGlzLm9wdGlvbnMubG9naW5GaWVsZF06IHJlc2V0UGFzc3dvcmREYXRhLmxvZ2luLFxuICAgICAgcmVkaXJlY3RfdXJsOiB0aGlzLm9wdGlvbnMucmVzZXRQYXNzd29yZENhbGxiYWNrXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMucmVzZXRQYXNzd29yZFBhdGgsIGJvZHkpO1xuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogQ29uc3RydWN0IFBhdGhzIC8gVXJsc1xuICAgKlxuICAgKi9cblxuICBwcml2YXRlIGdldFVzZXJQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLnVzZXJUeXBlLnZhbHVlID09IG51bGwpID8gJycgOiB0aGlzLnVzZXJUeXBlLnZhbHVlLnBhdGggKyAnLyc7XG4gIH1cblxuICBwcml2YXRlIGFkZFRyYWlsaW5nU2xhc2hJZk5lZWRlZCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbGFzdENoYXIgPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuXG4gICAgcmV0dXJuIGxhc3RDaGFyID09PSAnLycgPyB1cmwgOiB1cmwgKyAnLyc7XG4gIH1cblxuICBwcml2YXRlIGdldEFwaVBhdGgoKTogc3RyaW5nIHtcbiAgICBsZXQgY29uc3RydWN0ZWRQYXRoID0gJyc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFwaUJhc2UgIT0gbnVsbCkge1xuICAgICAgY29uc3RydWN0ZWRQYXRoICs9IHRoaXMuYWRkVHJhaWxpbmdTbGFzaElmTmVlZGVkKHRoaXMub3B0aW9ucy5hcGlCYXNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFwaVBhdGggIT0gbnVsbCkge1xuICAgICAgY29uc3RydWN0ZWRQYXRoICs9IHRoaXMuYWRkVHJhaWxpbmdTbGFzaElmTmVlZGVkKHRoaXMub3B0aW9ucy5hcGlQYXRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uc3RydWN0ZWRQYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZXJ2ZXJQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXBpUGF0aCgpICsgdGhpcy5nZXRVc2VyUGF0aCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPQXV0aFBhdGgob0F1dGhUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBvQXV0aFBhdGg6IHN0cmluZztcblxuICAgIG9BdXRoUGF0aCA9IHRoaXMub3B0aW9ucy5vQXV0aFBhdGhzW29BdXRoVHlwZV07XG5cbiAgICBpZiAob0F1dGhQYXRoID09IG51bGwpIHtcbiAgICAgIG9BdXRoUGF0aCA9IGAvYXV0aC8ke29BdXRoVHlwZX1gO1xuICAgIH1cblxuICAgIHJldHVybiBvQXV0aFBhdGg7XG4gIH1cblxuICBwcml2YXRlIGdldE9BdXRoVXJsKG9BdXRoUGF0aDogc3RyaW5nLCBjYWxsYmFja1VybDogc3RyaW5nLCB3aW5kb3dUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKFxuICAgICAgYCR7b0F1dGhQYXRofT9vbW5pYXV0aF93aW5kb3dfdHlwZT0ke3dpbmRvd1R5cGV9JmF1dGhfb3JpZ2luX3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChjYWxsYmFja1VybCl9YCxcbiAgICAgIHRoaXMub3B0aW9ucy5vQXV0aEJhc2VcbiAgICApLmhyZWZcblxuICAgIGlmICh0aGlzLnVzZXJUeXBlLnZhbHVlICE9IG51bGwpIHtcbiAgICAgIHVybCArPSBgJnJlc291cmNlX2NsYXNzPSR7dGhpcy51c2VyVHlwZS52YWx1ZS5uYW1lfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEdldCBBdXRoIERhdGFcbiAgICpcbiAgICovXG5cbiAgLy8gVHJ5IHRvIGxvYWQgYXV0aCBkYXRhXG4gIHByaXZhdGUgdHJ5TG9hZEF1dGhEYXRhKCk6IHZvaWQge1xuXG4gICAgY29uc3QgdXNlclR5cGUgPSB0aGlzLmdldFVzZXJUeXBlQnlOYW1lKHRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJUeXBlJykpO1xuXG4gICAgaWYgKHVzZXJUeXBlKSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodXNlclR5cGUpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tU3RvcmFnZSgpO1xuXG4gICAgaWYgKHRoaXMuYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUGFyYW1zKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgKHRoaXMuYXV0aERhdGEpIHtcbiAgICAvLyAgICAgdGhpcy52YWxpZGF0ZVRva2VuKCk7XG4gICAgLy8gfVxuICB9XG5cbiAgLy8gUGFyc2UgQXV0aCBkYXRhIGZyb20gcmVzcG9uc2VcbiAgcHVibGljIGdldEF1dGhIZWFkZXJzRnJvbVJlc3BvbnNlKGRhdGE6IEh0dHBSZXNwb25zZTxhbnk+IHwgSHR0cEVycm9yUmVzcG9uc2UpOiB2b2lkIHtcbiAgICBjb25zdCBoZWFkZXJzID0gZGF0YS5oZWFkZXJzO1xuXG4gICAgY29uc3QgYXV0aERhdGE6IEF1dGhEYXRhID0ge1xuICAgICAgYWNjZXNzVG9rZW46IGhlYWRlcnMuZ2V0KCdhY2Nlc3MtdG9rZW4nKSxcbiAgICAgIGNsaWVudDogaGVhZGVycy5nZXQoJ2NsaWVudCcpLFxuICAgICAgZXhwaXJ5OiBoZWFkZXJzLmdldCgnZXhwaXJ5JyksXG4gICAgICB0b2tlblR5cGU6IGhlYWRlcnMuZ2V0KCd0b2tlbi10eXBlJyksXG4gICAgICB1aWQ6IGhlYWRlcnMuZ2V0KCd1aWQnKVxuICAgIH07XG5cbiAgICB0aGlzLnNldEF1dGhEYXRhKGF1dGhEYXRhKTtcbiAgfVxuXG4gIC8vIFBhcnNlIEF1dGggZGF0YSBmcm9tIHBvc3QgbWVzc2FnZVxuICBwcml2YXRlIGdldEF1dGhEYXRhRnJvbVBvc3RNZXNzYWdlKGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGF1dGhEYXRhOiBBdXRoRGF0YSA9IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiBkYXRhWydhdXRoX3Rva2VuJ10sXG4gICAgICBjbGllbnQ6IGRhdGFbJ2NsaWVudF9pZCddLFxuICAgICAgZXhwaXJ5OiBkYXRhWydleHBpcnknXSxcbiAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICB1aWQ6IGRhdGFbJ3VpZCddXG4gICAgfTtcblxuICAgIHRoaXMuc2V0QXV0aERhdGEoYXV0aERhdGEpO1xuICB9XG5cbiAgLy8gVHJ5IHRvIGdldCBhdXRoIGRhdGEgZnJvbSBzdG9yYWdlLlxuICBwdWJsaWMgZ2V0QXV0aERhdGFGcm9tU3RvcmFnZSgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGF1dGhEYXRhOiBBdXRoRGF0YSA9IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpLFxuICAgICAgY2xpZW50OiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnQnKSxcbiAgICAgIGV4cGlyeTogdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXhwaXJ5JyksXG4gICAgICB0b2tlblR5cGU6IHRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuVHlwZScpLFxuICAgICAgdWlkOiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1aWQnKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuICAgICAgdGhpcy5hdXRoRGF0YS5uZXh0KGF1dGhEYXRhKTtcbiAgICB9XG4gIH1cblxuICAvLyBUcnkgdG8gZ2V0IGF1dGggZGF0YSBmcm9tIHVybCBwYXJhbWV0ZXJzLlxuICBwcml2YXRlIGdldEF1dGhEYXRhRnJvbVBhcmFtcygpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2YXRlZFJvdXRlLnF1ZXJ5UGFyYW1zLnN1YnNjcmliZShxdWVyeVBhcmFtcyA9PiB7XG4gICAgICBjb25zdCBhdXRoRGF0YTogQXV0aERhdGEgPSB7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiBxdWVyeVBhcmFtc1sndG9rZW4nXSB8fCBxdWVyeVBhcmFtc1snYXV0aF90b2tlbiddLFxuICAgICAgICBjbGllbnQ6IHF1ZXJ5UGFyYW1zWydjbGllbnRfaWQnXSxcbiAgICAgICAgZXhwaXJ5OiBxdWVyeVBhcmFtc1snZXhwaXJ5J10sXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICAgIHVpZDogcXVlcnlQYXJhbXNbJ3VpZCddXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuICAgICAgICB0aGlzLmF1dGhEYXRhLm5leHQoYXV0aERhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIFNldCBBdXRoIERhdGFcbiAgICpcbiAgICovXG5cbiAgLy8gV3JpdGUgYXV0aCBkYXRhIHRvIHN0b3JhZ2VcbiAgcHJpdmF0ZSBzZXRBdXRoRGF0YShhdXRoRGF0YTogQXV0aERhdGEpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuXG4gICAgICB0aGlzLmF1dGhEYXRhLm5leHQoYXV0aERhdGEpO1xuXG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NUb2tlbicsIGF1dGhEYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsaWVudCcsIGF1dGhEYXRhLmNsaWVudCk7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdleHBpcnknLCBhdXRoRGF0YS5leHBpcnkpO1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW5UeXBlJywgYXV0aERhdGEudG9rZW5UeXBlKTtcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VpZCcsIGF1dGhEYXRhLnVpZCk7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJUeXBlLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclR5cGUnLCB0aGlzLnVzZXJUeXBlLnZhbHVlLm5hbWUpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogVmFsaWRhdGUgQXV0aCBEYXRhXG4gICAqXG4gICAqL1xuXG4gIC8vIENoZWNrIGlmIGF1dGggZGF0YSBjb21wbGV0ZSBhbmQgaWYgcmVzcG9uc2UgdG9rZW4gaXMgbmV3ZXJcbiAgcHJpdmF0ZSBjaGVja0F1dGhEYXRhKGF1dGhEYXRhOiBBdXRoRGF0YSk6IGJvb2xlYW4ge1xuXG4gICAgaWYgKFxuICAgICAgYXV0aERhdGEuYWNjZXNzVG9rZW4gIT0gbnVsbCAmJlxuICAgICAgYXV0aERhdGEuY2xpZW50ICE9IG51bGwgJiZcbiAgICAgIGF1dGhEYXRhLmV4cGlyeSAhPSBudWxsICYmXG4gICAgICBhdXRoRGF0YS50b2tlblR5cGUgIT0gbnVsbCAmJlxuICAgICAgYXV0aERhdGEudWlkICE9IG51bGxcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmF1dGhEYXRhLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGF1dGhEYXRhLmV4cGlyeSA+PSB0aGlzLmF1dGhEYXRhLnZhbHVlLmV4cGlyeTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKiBPQXV0aFxuICAgKlxuICAgKi9cblxuICBwcml2YXRlIHJlcXVlc3RDcmVkZW50aWFsc1ZpYVBvc3RNZXNzYWdlKGF1dGhXaW5kb3c6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcG9sbGVyT2JzZXJ2ID0gaW50ZXJ2YWwoNTAwKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlT2JzZXJ2ID0gZnJvbUV2ZW50KHRoaXMuZ2xvYmFsIGFzIGFueSwgJ21lc3NhZ2UnKS5waXBlKFxuICAgICAgcGx1Y2soJ2RhdGEnKSxcbiAgICAgIGZpbHRlcih0aGlzLm9BdXRoV2luZG93UmVzcG9uc2VGaWx0ZXIpXG4gICAgKTtcblxuICAgIHJlc3BvbnNlT2JzZXJ2LnN1YnNjcmliZShcbiAgICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUG9zdE1lc3NhZ2UuYmluZCh0aGlzKVxuICAgICk7XG5cbiAgICBjb25zdCBwb2xsZXJTdWJzY3JpcHRpb24gPSBwb2xsZXJPYnNlcnYuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChhdXRoV2luZG93LmNsb3NlZCkge1xuICAgICAgICBwb2xsZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhXaW5kb3cucG9zdE1lc3NhZ2UoJ3JlcXVlc3RDcmVkZW50aWFscycsICcqJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2VPYnNlcnY7XG4gIH1cblxuICBwcml2YXRlIG9BdXRoV2luZG93UmVzcG9uc2VGaWx0ZXIoZGF0YTogYW55KTogYW55IHtcbiAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAnZGVsaXZlckNyZWRlbnRpYWxzJyB8fCBkYXRhLm1lc3NhZ2UgPT09ICdhdXRoRmFpbHVyZScpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIFV0aWxpdGllc1xuICAgKlxuICAgKi9cblxuICAvLyBNYXRjaCB1c2VyIGNvbmZpZyBieSB1c2VyIGNvbmZpZyBuYW1lXG4gIHByaXZhdGUgZ2V0VXNlclR5cGVCeU5hbWUobmFtZTogc3RyaW5nKTogVXNlclR5cGUge1xuICAgIGlmIChuYW1lID09IG51bGwgfHwgdGhpcy5vcHRpb25zLnVzZXJUeXBlcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnVzZXJUeXBlcy5maW5kKFxuICAgICAgdXNlclR5cGUgPT4gdXNlclR5cGUubmFtZSA9PT0gbmFtZVxuICAgICk7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","@angular/common","rxjs","rxjs/operators","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","@angular/common/http","@angular/router"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable, Optional, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport { Observable, fromEvent, interval, BehaviorSubject } from 'rxjs';\nimport { pluck, filter, share, finalize } from 'rxjs/operators';\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class AngularTokenService {\n    http;\n    window;\n    platformId;\n    activatedRoute;\n    router;\n    get currentUserType() {\n        if (this.userType.value != null) {\n            return this.userType.value.name;\n        }\n        else {\n            return undefined;\n        }\n    }\n    get currentUserData() {\n        return this.userData.value;\n    }\n    get currentAuthData() {\n        return this.authData.value;\n    }\n    get apiBase() {\n        console.warn('[angular-token] The attribute .apiBase will be removed in the next major release, please use' +\n            '.tokenOptions.apiBase instead');\n        return this.options.apiBase;\n    }\n    get tokenOptions() {\n        return this.options;\n    }\n    set tokenOptions(options) {\n        this.options = Object.assign(this.options, options);\n    }\n    options;\n    userType = new BehaviorSubject(null);\n    authData = new BehaviorSubject(null);\n    userData = new BehaviorSubject(null);\n    global;\n    localStorage = {};\n    constructor(http, \n    // \"any\" used here to assuage environments where type Window does not exist at build time.\n    // It's assigned to global in the constructor which has the proper typing.\n    window, config, platformId, activatedRoute, router) {\n        this.http = http;\n        this.window = window;\n        this.platformId = platformId;\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.global = (typeof this.window !== 'undefined') ? this.window : {};\n        if (isPlatformServer(this.platformId)) {\n            // Bad pratice, needs fixing\n            this.global = {\n                open: () => null,\n                location: {\n                    href: '/',\n                    origin: '/'\n                }\n            };\n            // Bad pratice, needs fixing\n            this.localStorage.setItem = () => null;\n            this.localStorage.getItem = () => null;\n            this.localStorage.removeItem = () => null;\n        }\n        else {\n            this.localStorage = localStorage;\n        }\n        const defaultOptions = {\n            apiPath: null,\n            apiBase: null,\n            signInPath: 'auth/sign_in',\n            signInRedirect: null,\n            signInStoredUrlStorageKey: null,\n            signOutPath: 'auth/sign_out',\n            validateTokenPath: 'auth/validate_token',\n            signOutFailedValidate: false,\n            registerAccountPath: 'auth',\n            deleteAccountPath: 'auth',\n            registerAccountCallback: this.global.location.href,\n            updatePasswordPath: 'auth',\n            resetPasswordPath: 'auth/password',\n            resetPasswordCallback: this.global.location.href,\n            userTypes: null,\n            loginField: 'email',\n            oAuthBase: this.global.location.origin,\n            oAuthPaths: {\n                github: 'auth/github'\n            },\n            oAuthCallbackPath: 'oauth_callback',\n            oAuthWindowType: 'newWindow',\n            oAuthWindowOptions: null,\n            oAuthBrowserCallbacks: {\n                github: 'auth/github/callback',\n            },\n        };\n        const mergedOptions = Object.assign(defaultOptions, config);\n        this.options = mergedOptions;\n        if (this.options.apiBase === null) {\n            console.warn(`[angular-token] You have not configured 'apiBase', which may result in security issues. ` +\n                `Please refer to the documentation at https://github.com/neroniaky/angular-token/wiki`);\n        }\n        this.tryLoadAuthData();\n    }\n    userSignedIn() {\n        if (this.authData.value == null) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    canActivate(route, state) {\n        if (this.userSignedIn()) {\n            return true;\n        }\n        else {\n            // Store current location in storage (usefull for redirection after signing in)\n            if (this.options.signInStoredUrlStorageKey) {\n                this.localStorage.setItem(this.options.signInStoredUrlStorageKey, state.url);\n            }\n            // Redirect user to sign in if signInRedirect is set\n            if (this.router && this.options.signInRedirect) {\n                this.router.navigate([this.options.signInRedirect]);\n            }\n            return false;\n        }\n    }\n    /**\n     *\n     * Actions\n     *\n     */\n    // Register request\n    registerAccount(registerData, additionalData) {\n        registerData = Object.assign({}, registerData);\n        if (registerData.userType == null) {\n            this.userType.next(null);\n        }\n        else {\n            this.userType.next(this.getUserTypeByName(registerData.userType));\n            delete registerData.userType;\n        }\n        if (registerData.password_confirmation == null &&\n            registerData.passwordConfirmation != null) {\n            registerData.password_confirmation = registerData.passwordConfirmation;\n            delete registerData.passwordConfirmation;\n        }\n        if (additionalData !== undefined) {\n            registerData.additionalData = additionalData;\n        }\n        const login = registerData.login;\n        delete registerData.login;\n        registerData[this.options.loginField] = login;\n        registerData.confirm_success_url = this.options.registerAccountCallback;\n        return this.http.post(this.getServerPath() + this.options.registerAccountPath, registerData);\n    }\n    // Delete Account\n    deleteAccount() {\n        return this.http.delete(this.getServerPath() + this.options.deleteAccountPath);\n    }\n    // Sign in request and set storage\n    signIn(signInData, additionalData) {\n        this.userType.next((signInData.userType == null) ? null : this.getUserTypeByName(signInData.userType));\n        const body = {\n            [this.options.loginField]: signInData.login,\n            password: signInData.password\n        };\n        if (additionalData !== undefined) {\n            body['additionalData'] = additionalData;\n        }\n        const observ = this.http.post(this.getServerPath() + this.options.signInPath, body).pipe(share());\n        observ.subscribe(res => this.userData.next(res.data));\n        return observ;\n    }\n    signInOAuth(oAuthType, inAppBrowser, platform) {\n        const oAuthPath = this.getOAuthPath(oAuthType);\n        const callbackUrl = new URL(this.options.oAuthCallbackPath, this.global.location.origin).href;\n        const oAuthWindowType = this.options.oAuthWindowType;\n        const authUrl = this.getOAuthUrl(oAuthPath, callbackUrl, oAuthWindowType);\n        if (oAuthWindowType === 'newWindow' ||\n            (oAuthWindowType == 'inAppBrowser' && (!platform || !platform.is('cordova') || !(platform.is('ios') || platform.is('android'))))) {\n            const oAuthWindowOptions = this.options.oAuthWindowOptions;\n            let windowOptions = '';\n            if (oAuthWindowOptions) {\n                for (const key in oAuthWindowOptions) {\n                    if (oAuthWindowOptions.hasOwnProperty(key)) {\n                        windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n                    }\n                }\n            }\n            const popup = this.window.open(authUrl, '_blank', `closebuttoncaption=Cancel${windowOptions}`);\n            return this.requestCredentialsViaPostMessage(popup);\n        }\n        else if (oAuthWindowType == 'inAppBrowser') {\n            let oAuthBrowserCallback = this.options.oAuthBrowserCallbacks[oAuthType];\n            if (!oAuthBrowserCallback) {\n                throw new Error(`To login with oAuth provider ${oAuthType} using inAppBrowser the callback (in oAuthBrowserCallbacks) is required.`);\n            }\n            // let oAuthWindowOptions = this.options.oAuthWindowOptions;\n            // let windowOptions = '';\n            //  if (oAuthWindowOptions) {\n            //     for (let key in oAuthWindowOptions) {\n            //         windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n            //     }\n            // }\n            let browser = inAppBrowser.create(authUrl, '_blank', 'location=no');\n            return new Observable((observer) => {\n                browser.on('loadstop').subscribe((ev) => {\n                    if (ev.url.indexOf(oAuthBrowserCallback) > -1) {\n                        browser.executeScript({ code: \"requestCredentials();\" }).then((credentials) => {\n                            this.getAuthDataFromPostMessage(credentials[0]);\n                            let pollerObserv = interval(400);\n                            let pollerSubscription = pollerObserv.subscribe(() => {\n                                if (this.userSignedIn()) {\n                                    observer.next(this.authData);\n                                    observer.complete();\n                                    pollerSubscription.unsubscribe();\n                                    browser.close();\n                                }\n                            }, (error) => {\n                                observer.error(error);\n                                observer.complete();\n                            });\n                        }, (error) => {\n                            observer.error(error);\n                            observer.complete();\n                        });\n                    }\n                }, (error) => {\n                    observer.error(error);\n                    observer.complete();\n                });\n            });\n        }\n        else if (oAuthWindowType === 'sameWindow') {\n            this.global.location.href = authUrl;\n            return undefined;\n        }\n        else {\n            throw new Error(`Unsupported oAuthWindowType \"${oAuthWindowType}\"`);\n        }\n    }\n    processOAuthCallback() {\n        this.getAuthDataFromParams();\n    }\n    // Sign out request and delete storage\n    signOut() {\n        return this.http.delete(this.getServerPath() + this.options.signOutPath)\n            // Only remove the localStorage and clear the data after the call\n            .pipe(finalize(() => {\n            this.localStorage.removeItem('accessToken');\n            this.localStorage.removeItem('client');\n            this.localStorage.removeItem('expiry');\n            this.localStorage.removeItem('tokenType');\n            this.localStorage.removeItem('uid');\n            this.authData.next(null);\n            this.userType.next(null);\n            this.userData.next(null);\n        }));\n    }\n    // Validate token request\n    validateToken() {\n        const observ = this.http.get(this.getServerPath() + this.options.validateTokenPath).pipe(share());\n        observ.subscribe((res) => this.userData.next(res.data), (error) => {\n            if (error.status === 401 && this.options.signOutFailedValidate) {\n                this.signOut();\n            }\n        });\n        return observ;\n    }\n    // Update password request\n    updatePassword(updatePasswordData) {\n        if (updatePasswordData.userType != null) {\n            this.userType.next(this.getUserTypeByName(updatePasswordData.userType));\n        }\n        let args;\n        if (updatePasswordData.passwordCurrent == null) {\n            args = {\n                password: updatePasswordData.password,\n                password_confirmation: updatePasswordData.passwordConfirmation\n            };\n        }\n        else {\n            args = {\n                current_password: updatePasswordData.passwordCurrent,\n                password: updatePasswordData.password,\n                password_confirmation: updatePasswordData.passwordConfirmation\n            };\n        }\n        if (updatePasswordData.resetPasswordToken) {\n            args.reset_password_token = updatePasswordData.resetPasswordToken;\n        }\n        const body = args;\n        return this.http.put(this.getServerPath() + this.options.updatePasswordPath, body);\n    }\n    // Reset password request\n    resetPassword(resetPasswordData, additionalData) {\n        if (additionalData !== undefined) {\n            resetPasswordData.additionalData = additionalData;\n        }\n        this.userType.next((resetPasswordData.userType == null) ? null : this.getUserTypeByName(resetPasswordData.userType));\n        const body = {\n            [this.options.loginField]: resetPasswordData.login,\n            redirect_url: this.options.resetPasswordCallback\n        };\n        return this.http.post(this.getServerPath() + this.options.resetPasswordPath, body);\n    }\n    /**\n     *\n     * Construct Paths / Urls\n     *\n     */\n    getUserPath() {\n        return (this.userType.value == null) ? '' : this.userType.value.path + '/';\n    }\n    addTrailingSlashIfNeeded(url) {\n        const lastChar = url[url.length - 1];\n        return lastChar === '/' ? url : url + '/';\n    }\n    getApiPath() {\n        let constructedPath = '';\n        if (this.options.apiBase != null) {\n            constructedPath += this.addTrailingSlashIfNeeded(this.options.apiBase);\n        }\n        if (this.options.apiPath != null) {\n            constructedPath += this.addTrailingSlashIfNeeded(this.options.apiPath);\n        }\n        return constructedPath;\n    }\n    getServerPath() {\n        return this.getApiPath() + this.getUserPath();\n    }\n    getOAuthPath(oAuthType) {\n        let oAuthPath;\n        oAuthPath = this.options.oAuthPaths[oAuthType];\n        if (oAuthPath == null) {\n            oAuthPath = `/auth/${oAuthType}`;\n        }\n        return oAuthPath;\n    }\n    getOAuthUrl(oAuthPath, callbackUrl, windowType) {\n        let url = new URL(`${oAuthPath}?omniauth_window_type=${windowType}&auth_origin_url=${encodeURIComponent(callbackUrl)}`, this.options.oAuthBase).href;\n        if (this.userType.value != null) {\n            url += `&resource_class=${this.userType.value.name}`;\n        }\n        return url;\n    }\n    /**\n     *\n     * Get Auth Data\n     *\n     */\n    // Try to load auth data\n    tryLoadAuthData() {\n        const userType = this.getUserTypeByName(this.localStorage.getItem('userType'));\n        if (userType) {\n            this.userType.next(userType);\n        }\n        this.getAuthDataFromStorage();\n        if (this.activatedRoute) {\n            this.getAuthDataFromParams();\n        }\n        // if (this.authData) {\n        //     this.validateToken();\n        // }\n    }\n    // Parse Auth data from response\n    getAuthHeadersFromResponse(data) {\n        const headers = data.headers;\n        const authData = {\n            accessToken: headers.get('access-token'),\n            client: headers.get('client'),\n            expiry: headers.get('expiry'),\n            tokenType: headers.get('token-type'),\n            uid: headers.get('uid')\n        };\n        this.setAuthData(authData);\n    }\n    // Parse Auth data from post message\n    getAuthDataFromPostMessage(data) {\n        const authData = {\n            accessToken: data['auth_token'],\n            client: data['client_id'],\n            expiry: data['expiry'],\n            tokenType: 'Bearer',\n            uid: data['uid']\n        };\n        this.setAuthData(authData);\n    }\n    // Try to get auth data from storage.\n    getAuthDataFromStorage() {\n        const authData = {\n            accessToken: this.localStorage.getItem('accessToken'),\n            client: this.localStorage.getItem('client'),\n            expiry: this.localStorage.getItem('expiry'),\n            tokenType: this.localStorage.getItem('tokenType'),\n            uid: this.localStorage.getItem('uid')\n        };\n        if (this.checkAuthData(authData)) {\n            this.authData.next(authData);\n        }\n    }\n    // Try to get auth data from url parameters.\n    getAuthDataFromParams() {\n        this.activatedRoute.queryParams.subscribe(queryParams => {\n            const authData = {\n                accessToken: queryParams['token'] || queryParams['auth_token'],\n                client: queryParams['client_id'],\n                expiry: queryParams['expiry'],\n                tokenType: 'Bearer',\n                uid: queryParams['uid']\n            };\n            if (this.checkAuthData(authData)) {\n                this.authData.next(authData);\n            }\n        });\n    }\n    /**\n     *\n     * Set Auth Data\n     *\n     */\n    // Write auth data to storage\n    setAuthData(authData) {\n        if (this.checkAuthData(authData)) {\n            this.authData.next(authData);\n            this.localStorage.setItem('accessToken', authData.accessToken);\n            this.localStorage.setItem('client', authData.client);\n            this.localStorage.setItem('expiry', authData.expiry);\n            this.localStorage.setItem('tokenType', authData.tokenType);\n            this.localStorage.setItem('uid', authData.uid);\n            if (this.userType.value != null) {\n                this.localStorage.setItem('userType', this.userType.value.name);\n            }\n        }\n    }\n    /**\n     *\n     * Validate Auth Data\n     *\n     */\n    // Check if auth data complete and if response token is newer\n    checkAuthData(authData) {\n        if (authData.accessToken != null &&\n            authData.client != null &&\n            authData.expiry != null &&\n            authData.tokenType != null &&\n            authData.uid != null) {\n            if (this.authData.value != null) {\n                return authData.expiry >= this.authData.value.expiry;\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     *\n     * OAuth\n     *\n     */\n    requestCredentialsViaPostMessage(authWindow) {\n        const pollerObserv = interval(500);\n        const responseObserv = fromEvent(this.global, 'message').pipe(pluck('data'), filter(this.oAuthWindowResponseFilter));\n        responseObserv.subscribe(this.getAuthDataFromPostMessage.bind(this));\n        const pollerSubscription = pollerObserv.subscribe(() => {\n            if (authWindow.closed) {\n                pollerSubscription.unsubscribe();\n            }\n            else {\n                authWindow.postMessage('requestCredentials', '*');\n            }\n        });\n        return responseObserv;\n    }\n    oAuthWindowResponseFilter(data) {\n        if (data.message === 'deliverCredentials' || data.message === 'authFailure') {\n            return data;\n        }\n    }\n    /**\n     *\n     * Utilities\n     *\n     */\n    // Match user config by user config name\n    getUserTypeByName(name) {\n        if (name == null || this.options.userTypes == null) {\n            return null;\n        }\n        return this.options.userTypes.find(userType => userType.name === name);\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, deps: [{ token: i1.HttpClient }, { token: 'Window' }, { token: ANGULAR_TOKEN_OPTIONS }, { token: PLATFORM_ID }, { token: i2.ActivatedRoute, optional: true }, { token: i2.Router, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.HttpClient }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: ['Window']\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [ANGULAR_TOKEN_OPTIONS]\n                }] }, { type: Object, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i2.ActivatedRoute, decorators: [{\n                    type: Optional\n                }] }, { type: i2.Router, decorators: [{\n                    type: Optional\n                }] }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhci10b2tlbi9zcmMvbGliL2FuZ3VsYXItdG9rZW4uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRW5ELE9BQU8sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDeEUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRWhFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7O0FBc0I5RCxNQUFNLE9BQU8sbUJBQW1CO0lBeUNwQjtJQUdrQjtJQUVHO0lBQ1Q7SUFDQTtJQTlDdEIsSUFBSSxlQUFlO1FBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQy9CLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1NBQ2pDO2FBQU07WUFDTCxPQUFPLFNBQVMsQ0FBQztTQUNsQjtJQUNILENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsOEZBQThGO1lBQ3pHLCtCQUErQixDQUFDLENBQUM7UUFD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Ozs7O09BSUc7SUFFSCx3Q0FBd0M7SUFDaEMsaUJBQWlCLENBQUMsSUFBWTtRQUNwQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSxFQUFFO1lBQ2xELE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FDaEMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLElBQUksQ0FDbkMsQ0FBQztJQUNKLENBQUM7dUdBbG9CVSxtQkFBbUIsNENBNENwQixRQUFRLGFBQ1IscUJBQXFCLGFBQ3JCLFdBQVc7MkdBOUNWLG1CQUFtQixjQUZsQixNQUFNOzsyRkFFUCxtQkFBbUI7a0JBSC9CLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzswQkE2Q0ksTUFBTTsyQkFBQyxRQUFROzswQkFDZixNQUFNOzJCQUFDLHFCQUFxQjs7MEJBQzVCLE1BQU07MkJBQUMsV0FBVzs7MEJBQ2xCLFFBQVE7OzBCQUNSLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPcHRpb25hbCwgSW5qZWN0LCBQTEFURk9STV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciwgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgUm91dGVyU3RhdGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUmVzcG9uc2UsIEh0dHBFcnJvclJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybVNlcnZlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb21FdmVudCwgaW50ZXJ2YWwsIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgcGx1Y2ssIGZpbHRlciwgc2hhcmUsIGZpbmFsaXplIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBBTkdVTEFSX1RPS0VOX09QVElPTlMgfSBmcm9tICcuL2FuZ3VsYXItdG9rZW4udG9rZW4nO1xuXG5pbXBvcnQge1xuICBTaWduSW5EYXRhLFxuICBSZWdpc3RlckRhdGEsXG4gIFVwZGF0ZVBhc3N3b3JkRGF0YSxcbiAgUmVzZXRQYXNzd29yZERhdGEsXG5cbiAgVXNlclR5cGUsXG4gIFVzZXJEYXRhLFxuICBBdXRoRGF0YSxcbiAgQXBpUmVzcG9uc2UsXG5cbiAgQW5ndWxhclRva2VuT3B0aW9ucyxcblxuICBUb2tlblBsYXRmb3JtLFxuICBUb2tlbkluQXBwQnJvd3Nlcixcbn0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLm1vZGVsJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCcsXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJUb2tlblNlcnZpY2UgIHtcblxuICBnZXQgY3VycmVudFVzZXJUeXBlKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXNlclR5cGUudmFsdWUgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMudXNlclR5cGUudmFsdWUubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBnZXQgY3VycmVudFVzZXJEYXRhKCk6IFVzZXJEYXRhIHtcbiAgICByZXR1cm4gdGhpcy51c2VyRGF0YS52YWx1ZTtcbiAgfVxuXG4gIGdldCBjdXJyZW50QXV0aERhdGEoKTogQXV0aERhdGEge1xuICAgIHJldHVybiB0aGlzLmF1dGhEYXRhLnZhbHVlO1xuICB9XG5cbiAgZ2V0IGFwaUJhc2UoKTogc3RyaW5nIHtcbiAgICBjb25zb2xlLndhcm4oJ1thbmd1bGFyLXRva2VuXSBUaGUgYXR0cmlidXRlIC5hcGlCYXNlIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLCBwbGVhc2UgdXNlJyArXG4gICAgICAnLnRva2VuT3B0aW9ucy5hcGlCYXNlIGluc3RlYWQnKTtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFwaUJhc2U7XG4gIH1cblxuICBnZXQgdG9rZW5PcHRpb25zKCk6IEFuZ3VsYXJUb2tlbk9wdGlvbnMge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH1cblxuICBzZXQgdG9rZW5PcHRpb25zKG9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBvcHRpb25zOiBBbmd1bGFyVG9rZW5PcHRpb25zO1xuICBwdWJsaWMgdXNlclR5cGU6IEJlaGF2aW9yU3ViamVjdDxVc2VyVHlwZT4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJUeXBlPihudWxsKTtcbiAgcHVibGljIGF1dGhEYXRhOiBCZWhhdmlvclN1YmplY3Q8QXV0aERhdGE+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxBdXRoRGF0YT4obnVsbCk7XG4gIHB1YmxpYyB1c2VyRGF0YTogQmVoYXZpb3JTdWJqZWN0PFVzZXJEYXRhPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VXNlckRhdGE+KG51bGwpO1xuICBwcml2YXRlIGdsb2JhbDogUGFydGlhbDxXaW5kb3c+O1xuXG4gIHByaXZhdGUgbG9jYWxTdG9yYWdlOiBTdG9yYWdlIHwgYW55ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxuICAgIC8vIFwiYW55XCIgdXNlZCBoZXJlIHRvIGFzc3VhZ2UgZW52aXJvbm1lbnRzIHdoZXJlIHR5cGUgV2luZG93IGRvZXMgbm90IGV4aXN0IGF0IGJ1aWxkIHRpbWUuXG4gICAgLy8gSXQncyBhc3NpZ25lZCB0byBnbG9iYWwgaW4gdGhlIGNvbnN0cnVjdG9yIHdoaWNoIGhhcyB0aGUgcHJvcGVyIHR5cGluZy5cbiAgICBASW5qZWN0KCdXaW5kb3cnKSBwcml2YXRlIHdpbmRvdzogYW55LFxuICAgIEBJbmplY3QoQU5HVUxBUl9UT0tFTl9PUFRJT05TKSBjb25maWc6IGFueSxcbiAgICBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtSWQ6IE9iamVjdCxcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHJvdXRlcjogUm91dGVyXG4gICkge1xuICAgIHRoaXMuZ2xvYmFsID0gKHR5cGVvZiB0aGlzLndpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gdGhpcy53aW5kb3cgOiB7fTtcblxuICAgIGlmIChpc1BsYXRmb3JtU2VydmVyKHRoaXMucGxhdGZvcm1JZCkpIHtcblxuICAgICAgLy8gQmFkIHByYXRpY2UsIG5lZWRzIGZpeGluZ1xuICAgICAgdGhpcy5nbG9iYWwgPSB7XG4gICAgICAgIG9wZW46ICgpOiBXaW5kb3cgPT4gbnVsbCxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICBocmVmOiAnLycsXG4gICAgICAgICAgb3JpZ2luOiAnLydcbiAgICAgICAgfSBhcyBhbnlcbiAgICAgIH07XG5cbiAgICAgIC8vIEJhZCBwcmF0aWNlLCBuZWVkcyBmaXhpbmdcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0gPSAoKTogdm9pZCA9PiBudWxsO1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSA9ICgpOiB2b2lkID0+IG51bGw7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtID0gKCk6IHZvaWQgPT4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMgPSB7XG4gICAgICBhcGlQYXRoOiBudWxsLFxuICAgICAgYXBpQmFzZTogbnVsbCxcblxuICAgICAgc2lnbkluUGF0aDogJ2F1dGgvc2lnbl9pbicsXG4gICAgICBzaWduSW5SZWRpcmVjdDogbnVsbCxcbiAgICAgIHNpZ25JblN0b3JlZFVybFN0b3JhZ2VLZXk6IG51bGwsXG5cbiAgICAgIHNpZ25PdXRQYXRoOiAnYXV0aC9zaWduX291dCcsXG4gICAgICB2YWxpZGF0ZVRva2VuUGF0aDogJ2F1dGgvdmFsaWRhdGVfdG9rZW4nLFxuICAgICAgc2lnbk91dEZhaWxlZFZhbGlkYXRlOiBmYWxzZSxcblxuICAgICAgcmVnaXN0ZXJBY2NvdW50UGF0aDogJ2F1dGgnLFxuICAgICAgZGVsZXRlQWNjb3VudFBhdGg6ICdhdXRoJyxcbiAgICAgIHJlZ2lzdGVyQWNjb3VudENhbGxiYWNrOiB0aGlzLmdsb2JhbC5sb2NhdGlvbi5ocmVmLFxuXG4gICAgICB1cGRhdGVQYXNzd29yZFBhdGg6ICdhdXRoJyxcblxuICAgICAgcmVzZXRQYXNzd29yZFBhdGg6ICdhdXRoL3Bhc3N3b3JkJyxcbiAgICAgIHJlc2V0UGFzc3dvcmRDYWxsYmFjazogdGhpcy5nbG9iYWwubG9jYXRpb24uaHJlZixcblxuICAgICAgdXNlclR5cGVzOiBudWxsLFxuICAgICAgbG9naW5GaWVsZDogJ2VtYWlsJyxcblxuICAgICAgb0F1dGhCYXNlOiB0aGlzLmdsb2JhbC5sb2NhdGlvbi5vcmlnaW4sXG4gICAgICBvQXV0aFBhdGhzOiB7XG4gICAgICAgIGdpdGh1YjogJ2F1dGgvZ2l0aHViJ1xuICAgICAgfSxcbiAgICAgIG9BdXRoQ2FsbGJhY2tQYXRoOiAnb2F1dGhfY2FsbGJhY2snLFxuICAgICAgb0F1dGhXaW5kb3dUeXBlOiAnbmV3V2luZG93JyxcbiAgICAgIG9BdXRoV2luZG93T3B0aW9uczogbnVsbCxcblxuICAgICAgb0F1dGhCcm93c2VyQ2FsbGJhY2tzOiB7XG4gICAgICAgIGdpdGh1YjogJ2F1dGgvZ2l0aHViL2NhbGxiYWNrJyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihkZWZhdWx0T3B0aW9ucywgY29uZmlnKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZWRPcHRpb25zO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hcGlCYXNlID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFthbmd1bGFyLXRva2VuXSBZb3UgaGF2ZSBub3QgY29uZmlndXJlZCAnYXBpQmFzZScsIHdoaWNoIG1heSByZXN1bHQgaW4gc2VjdXJpdHkgaXNzdWVzLiBgICtcbiAgICAgICAgYFBsZWFzZSByZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2dpdGh1Yi5jb20vbmVyb25pYWt5L2FuZ3VsYXItdG9rZW4vd2lraWApO1xuICAgIH1cblxuICAgIHRoaXMudHJ5TG9hZEF1dGhEYXRhKCk7XG4gIH1cblxuICB1c2VyU2lnbmVkSW4oKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuYXV0aERhdGEudmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy51c2VyU2lnbmVkSW4oKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0b3JlIGN1cnJlbnQgbG9jYXRpb24gaW4gc3RvcmFnZSAodXNlZnVsbCBmb3IgcmVkaXJlY3Rpb24gYWZ0ZXIgc2lnbmluZyBpbilcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lnbkluU3RvcmVkVXJsU3RvcmFnZUtleSkge1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgIHRoaXMub3B0aW9ucy5zaWduSW5TdG9yZWRVcmxTdG9yYWdlS2V5LFxuICAgICAgICAgIHN0YXRlLnVybFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWRpcmVjdCB1c2VyIHRvIHNpZ24gaW4gaWYgc2lnbkluUmVkaXJlY3QgaXMgc2V0XG4gICAgICBpZiAodGhpcy5yb3V0ZXIgJiYgdGhpcy5vcHRpb25zLnNpZ25JblJlZGlyZWN0KSB7XG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt0aGlzLm9wdGlvbnMuc2lnbkluUmVkaXJlY3RdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEFjdGlvbnNcbiAgICpcbiAgICovXG5cbiAgLy8gUmVnaXN0ZXIgcmVxdWVzdFxuICByZWdpc3RlckFjY291bnQocmVnaXN0ZXJEYXRhOiBSZWdpc3RlckRhdGEsIGFkZGl0aW9uYWxEYXRhPzogYW55KTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG4gICAgcmVnaXN0ZXJEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgcmVnaXN0ZXJEYXRhKTtcblxuICAgIGlmIChyZWdpc3RlckRhdGEudXNlclR5cGUgPT0gbnVsbCkge1xuICAgICAgdGhpcy51c2VyVHlwZS5uZXh0KG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShyZWdpc3RlckRhdGEudXNlclR5cGUpKTtcbiAgICAgIGRlbGV0ZSByZWdpc3RlckRhdGEudXNlclR5cGU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgcmVnaXN0ZXJEYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiA9PSBudWxsICYmXG4gICAgICByZWdpc3RlckRhdGEucGFzc3dvcmRDb25maXJtYXRpb24gIT0gbnVsbFxuICAgICkge1xuICAgICAgcmVnaXN0ZXJEYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiA9IHJlZ2lzdGVyRGF0YS5wYXNzd29yZENvbmZpcm1hdGlvbjtcbiAgICAgIGRlbGV0ZSByZWdpc3RlckRhdGEucGFzc3dvcmRDb25maXJtYXRpb247XG4gICAgfVxuXG4gICAgaWYgKGFkZGl0aW9uYWxEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlZ2lzdGVyRGF0YS5hZGRpdGlvbmFsRGF0YSA9IGFkZGl0aW9uYWxEYXRhO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ2luID0gcmVnaXN0ZXJEYXRhLmxvZ2luO1xuICAgIGRlbGV0ZSByZWdpc3RlckRhdGEubG9naW47XG4gICAgcmVnaXN0ZXJEYXRhW3RoaXMub3B0aW9ucy5sb2dpbkZpZWxkXSA9IGxvZ2luO1xuXG4gICAgcmVnaXN0ZXJEYXRhLmNvbmZpcm1fc3VjY2Vzc191cmwgPSB0aGlzLm9wdGlvbnMucmVnaXN0ZXJBY2NvdW50Q2FsbGJhY2s7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3Q8QXBpUmVzcG9uc2U+KFxuICAgICAgdGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMucmVnaXN0ZXJBY2NvdW50UGF0aCwgcmVnaXN0ZXJEYXRhXG4gICAgKTtcbiAgfVxuXG4gIC8vIERlbGV0ZSBBY2NvdW50XG4gIGRlbGV0ZUFjY291bnQoKTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlPEFwaVJlc3BvbnNlPih0aGlzLmdldFNlcnZlclBhdGgoKSArIHRoaXMub3B0aW9ucy5kZWxldGVBY2NvdW50UGF0aCk7XG4gIH1cblxuICAvLyBTaWduIGluIHJlcXVlc3QgYW5kIHNldCBzdG9yYWdlXG4gIHNpZ25JbihzaWduSW5EYXRhOiBTaWduSW5EYXRhLCBhZGRpdGlvbmFsRGF0YT86IGFueSk6IE9ic2VydmFibGU8QXBpUmVzcG9uc2U+IHtcbiAgICB0aGlzLnVzZXJUeXBlLm5leHQoKHNpZ25JbkRhdGEudXNlclR5cGUgPT0gbnVsbCkgPyBudWxsIDogdGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShzaWduSW5EYXRhLnVzZXJUeXBlKSk7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgW3RoaXMub3B0aW9ucy5sb2dpbkZpZWxkXTogc2lnbkluRGF0YS5sb2dpbixcbiAgICAgIHBhc3N3b3JkOiBzaWduSW5EYXRhLnBhc3N3b3JkXG4gICAgfTtcblxuICAgIGlmIChhZGRpdGlvbmFsRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBib2R5WydhZGRpdGlvbmFsRGF0YSddID0gYWRkaXRpb25hbERhdGE7XG4gICAgfVxuXG4gICAgY29uc3Qgb2JzZXJ2ID0gdGhpcy5odHRwLnBvc3Q8QXBpUmVzcG9uc2U+KFxuICAgICAgdGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMuc2lnbkluUGF0aCwgYm9keVxuICAgICkucGlwZShzaGFyZSgpKTtcblxuICAgIG9ic2Vydi5zdWJzY3JpYmUocmVzID0+IHRoaXMudXNlckRhdGEubmV4dChyZXMuZGF0YSkpO1xuXG4gICAgcmV0dXJuIG9ic2VydjtcbiAgfVxuXG4gIHNpZ25Jbk9BdXRoKG9BdXRoVHlwZTogc3RyaW5nLCBpbkFwcEJyb3dzZXI/OiBUb2tlbkluQXBwQnJvd3NlcjxhbnksIGFueT4sIHBsYXRmb3JtPzogVG9rZW5QbGF0Zm9ybSkge1xuXG4gICAgY29uc3Qgb0F1dGhQYXRoOiBzdHJpbmcgPSB0aGlzLmdldE9BdXRoUGF0aChvQXV0aFR5cGUpO1xuICAgIGNvbnN0IGNhbGxiYWNrVXJsOiBzdHJpbmcgPSBuZXcgVVJMKHRoaXMub3B0aW9ucy5vQXV0aENhbGxiYWNrUGF0aCwgdGhpcy5nbG9iYWwubG9jYXRpb24ub3JpZ2luKS5ocmVmO1xuICAgIGNvbnN0IG9BdXRoV2luZG93VHlwZTogc3RyaW5nID0gdGhpcy5vcHRpb25zLm9BdXRoV2luZG93VHlwZTtcbiAgICBjb25zdCBhdXRoVXJsOiBzdHJpbmcgPSB0aGlzLmdldE9BdXRoVXJsKG9BdXRoUGF0aCwgY2FsbGJhY2tVcmwsIG9BdXRoV2luZG93VHlwZSk7XG5cbiAgICBpZiAob0F1dGhXaW5kb3dUeXBlID09PSAnbmV3V2luZG93JyB8fFxuICAgICAgKG9BdXRoV2luZG93VHlwZSA9PSAnaW5BcHBCcm93c2VyJyAmJiAoIXBsYXRmb3JtIHx8ICFwbGF0Zm9ybS5pcygnY29yZG92YScpIHx8ICEocGxhdGZvcm0uaXMoJ2lvcycpIHx8IHBsYXRmb3JtLmlzKCdhbmRyb2lkJykpKSkpIHtcbiAgICAgIGNvbnN0IG9BdXRoV2luZG93T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vQXV0aFdpbmRvd09wdGlvbnM7XG4gICAgICBsZXQgd2luZG93T3B0aW9ucyA9ICcnO1xuXG4gICAgICBpZiAob0F1dGhXaW5kb3dPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9BdXRoV2luZG93T3B0aW9ucykge1xuICAgICAgICAgIGlmIChvQXV0aFdpbmRvd09wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgd2luZG93T3B0aW9ucyArPSBgLCR7a2V5fT0ke29BdXRoV2luZG93T3B0aW9uc1trZXldfWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvcHVwID0gdGhpcy53aW5kb3cub3BlbihcbiAgICAgICAgYXV0aFVybCxcbiAgICAgICAgJ19ibGFuaycsXG4gICAgICAgIGBjbG9zZWJ1dHRvbmNhcHRpb249Q2FuY2VsJHt3aW5kb3dPcHRpb25zfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q3JlZGVudGlhbHNWaWFQb3N0TWVzc2FnZShwb3B1cCk7XG4gICAgfSBlbHNlIGlmIChvQXV0aFdpbmRvd1R5cGUgPT0gJ2luQXBwQnJvd3NlcicpIHtcbiAgICAgIGxldCBvQXV0aEJyb3dzZXJDYWxsYmFjayA9IHRoaXMub3B0aW9ucy5vQXV0aEJyb3dzZXJDYWxsYmFja3Nbb0F1dGhUeXBlXTtcbiAgICAgIGlmICghb0F1dGhCcm93c2VyQ2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUbyBsb2dpbiB3aXRoIG9BdXRoIHByb3ZpZGVyICR7b0F1dGhUeXBlfSB1c2luZyBpbkFwcEJyb3dzZXIgdGhlIGNhbGxiYWNrIChpbiBvQXV0aEJyb3dzZXJDYWxsYmFja3MpIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfVxuICAgICAgLy8gbGV0IG9BdXRoV2luZG93T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vQXV0aFdpbmRvd09wdGlvbnM7XG4gICAgICAvLyBsZXQgd2luZG93T3B0aW9ucyA9ICcnO1xuXG4gICAgICAvLyAgaWYgKG9BdXRoV2luZG93T3B0aW9ucykge1xuICAgICAgLy8gICAgIGZvciAobGV0IGtleSBpbiBvQXV0aFdpbmRvd09wdGlvbnMpIHtcbiAgICAgIC8vICAgICAgICAgd2luZG93T3B0aW9ucyArPSBgLCR7a2V5fT0ke29BdXRoV2luZG93T3B0aW9uc1trZXldfWA7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gfVxuXG4gICAgICBsZXQgYnJvd3NlciA9IGluQXBwQnJvd3Nlci5jcmVhdGUoXG4gICAgICAgIGF1dGhVcmwsXG4gICAgICAgICdfYmxhbmsnLFxuICAgICAgICAnbG9jYXRpb249bm8nXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGJyb3dzZXIub24oJ2xvYWRzdG9wJykuc3Vic2NyaWJlKChldjogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKGV2LnVybC5pbmRleE9mKG9BdXRoQnJvd3NlckNhbGxiYWNrKSA+IC0xKSB7XG4gICAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoeyBjb2RlOiBcInJlcXVlc3RDcmVkZW50aWFscygpO1wiIH0pLnRoZW4oKGNyZWRlbnRpYWxzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5nZXRBdXRoRGF0YUZyb21Qb3N0TWVzc2FnZShjcmVkZW50aWFsc1swXSk7XG5cbiAgICAgICAgICAgICAgbGV0IHBvbGxlck9ic2VydiA9IGludGVydmFsKDQwMCk7XG5cbiAgICAgICAgICAgICAgbGV0IHBvbGxlclN1YnNjcmlwdGlvbiA9IHBvbGxlck9ic2Vydi5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXJTaWduZWRJbigpKSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRoaXMuYXV0aERhdGEpO1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcblxuICAgICAgICAgICAgICAgICAgcG9sbGVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICBicm93c2VyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAob0F1dGhXaW5kb3dUeXBlID09PSAnc2FtZVdpbmRvdycpIHtcbiAgICAgIHRoaXMuZ2xvYmFsLmxvY2F0aW9uLmhyZWYgPSBhdXRoVXJsO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvQXV0aFdpbmRvd1R5cGUgXCIke29BdXRoV2luZG93VHlwZX1cImApO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NPQXV0aENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUGFyYW1zKCk7XG4gIH1cblxuICAvLyBTaWduIG91dCByZXF1ZXN0IGFuZCBkZWxldGUgc3RvcmFnZVxuICBzaWduT3V0KCk6IE9ic2VydmFibGU8QXBpUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZTxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMuc2lnbk91dFBhdGgpXG4gICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgbG9jYWxTdG9yYWdlIGFuZCBjbGVhciB0aGUgZGF0YSBhZnRlciB0aGUgY2FsbFxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NUb2tlbicpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NsaWVudCcpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2V4cGlyeScpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuVHlwZScpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VpZCcpO1xuXG4gICAgICAgICAgdGhpcy5hdXRoRGF0YS5uZXh0KG51bGwpO1xuICAgICAgICAgIHRoaXMudXNlclR5cGUubmV4dChudWxsKTtcbiAgICAgICAgICB0aGlzLnVzZXJEYXRhLm5leHQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIHRva2VuIHJlcXVlc3RcbiAgdmFsaWRhdGVUb2tlbigpOiBPYnNlcnZhYmxlPEFwaVJlc3BvbnNlPiB7XG4gICAgY29uc3Qgb2JzZXJ2ID0gdGhpcy5odHRwLmdldDxBcGlSZXNwb25zZT4oXG4gICAgICB0aGlzLmdldFNlcnZlclBhdGgoKSArIHRoaXMub3B0aW9ucy52YWxpZGF0ZVRva2VuUGF0aFxuICAgICkucGlwZShzaGFyZSgpKTtcblxuICAgIG9ic2Vydi5zdWJzY3JpYmUoXG4gICAgICAocmVzKSA9PiB0aGlzLnVzZXJEYXRhLm5leHQocmVzLmRhdGEpLFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiB0aGlzLm9wdGlvbnMuc2lnbk91dEZhaWxlZFZhbGlkYXRlKSB7XG4gICAgICAgICAgdGhpcy5zaWduT3V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIG9ic2VydjtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBwYXNzd29yZCByZXF1ZXN0XG4gIHVwZGF0ZVBhc3N3b3JkKHVwZGF0ZVBhc3N3b3JkRGF0YTogVXBkYXRlUGFzc3dvcmREYXRhKTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG4gICAgaWYgKHVwZGF0ZVBhc3N3b3JkRGF0YS51c2VyVHlwZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodGhpcy5nZXRVc2VyVHlwZUJ5TmFtZSh1cGRhdGVQYXNzd29yZERhdGEudXNlclR5cGUpKTtcbiAgICB9XG5cbiAgICBsZXQgYXJnczogYW55O1xuXG4gICAgaWYgKHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZEN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgYXJncyA9IHtcbiAgICAgICAgcGFzc3dvcmQ6IHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZCxcbiAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB1cGRhdGVQYXNzd29yZERhdGEucGFzc3dvcmRDb25maXJtYXRpb25cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MgPSB7XG4gICAgICAgIGN1cnJlbnRfcGFzc3dvcmQ6IHVwZGF0ZVBhc3N3b3JkRGF0YS5wYXNzd29yZEN1cnJlbnQsXG4gICAgICAgIHBhc3N3b3JkOiB1cGRhdGVQYXNzd29yZERhdGEucGFzc3dvcmQsXG4gICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogdXBkYXRlUGFzc3dvcmREYXRhLnBhc3N3b3JkQ29uZmlybWF0aW9uXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVQYXNzd29yZERhdGEucmVzZXRQYXNzd29yZFRva2VuKSB7XG4gICAgICBhcmdzLnJlc2V0X3Bhc3N3b3JkX3Rva2VuID0gdXBkYXRlUGFzc3dvcmREYXRhLnJlc2V0UGFzc3dvcmRUb2tlbjtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXJncztcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dDxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMudXBkYXRlUGFzc3dvcmRQYXRoLCBib2R5KTtcbiAgfVxuXG4gIC8vIFJlc2V0IHBhc3N3b3JkIHJlcXVlc3RcbiAgcmVzZXRQYXNzd29yZChyZXNldFBhc3N3b3JkRGF0YTogUmVzZXRQYXNzd29yZERhdGEsIGFkZGl0aW9uYWxEYXRhPzogYW55KTogT2JzZXJ2YWJsZTxBcGlSZXNwb25zZT4ge1xuXG5cbiAgICBpZiAoYWRkaXRpb25hbERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzZXRQYXNzd29yZERhdGEuYWRkaXRpb25hbERhdGEgPSBhZGRpdGlvbmFsRGF0YTtcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJUeXBlLm5leHQoXG4gICAgICAocmVzZXRQYXNzd29yZERhdGEudXNlclR5cGUgPT0gbnVsbCkgPyBudWxsIDogdGhpcy5nZXRVc2VyVHlwZUJ5TmFtZShyZXNldFBhc3N3b3JkRGF0YS51c2VyVHlwZSlcbiAgICApO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIFt0aGlzLm9wdGlvbnMubG9naW5GaWVsZF06IHJlc2V0UGFzc3dvcmREYXRhLmxvZ2luLFxuICAgICAgcmVkaXJlY3RfdXJsOiB0aGlzLm9wdGlvbnMucmVzZXRQYXNzd29yZENhbGxiYWNrXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxBcGlSZXNwb25zZT4odGhpcy5nZXRTZXJ2ZXJQYXRoKCkgKyB0aGlzLm9wdGlvbnMucmVzZXRQYXNzd29yZFBhdGgsIGJvZHkpO1xuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogQ29uc3RydWN0IFBhdGhzIC8gVXJsc1xuICAgKlxuICAgKi9cblxuICBwcml2YXRlIGdldFVzZXJQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLnVzZXJUeXBlLnZhbHVlID09IG51bGwpID8gJycgOiB0aGlzLnVzZXJUeXBlLnZhbHVlLnBhdGggKyAnLyc7XG4gIH1cblxuICBwcml2YXRlIGFkZFRyYWlsaW5nU2xhc2hJZk5lZWRlZCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbGFzdENoYXIgPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuXG4gICAgcmV0dXJuIGxhc3RDaGFyID09PSAnLycgPyB1cmwgOiB1cmwgKyAnLyc7XG4gIH1cblxuICBwcml2YXRlIGdldEFwaVBhdGgoKTogc3RyaW5nIHtcbiAgICBsZXQgY29uc3RydWN0ZWRQYXRoID0gJyc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFwaUJhc2UgIT0gbnVsbCkge1xuICAgICAgY29uc3RydWN0ZWRQYXRoICs9IHRoaXMuYWRkVHJhaWxpbmdTbGFzaElmTmVlZGVkKHRoaXMub3B0aW9ucy5hcGlCYXNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFwaVBhdGggIT0gbnVsbCkge1xuICAgICAgY29uc3RydWN0ZWRQYXRoICs9IHRoaXMuYWRkVHJhaWxpbmdTbGFzaElmTmVlZGVkKHRoaXMub3B0aW9ucy5hcGlQYXRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uc3RydWN0ZWRQYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZXJ2ZXJQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXBpUGF0aCgpICsgdGhpcy5nZXRVc2VyUGF0aCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPQXV0aFBhdGgob0F1dGhUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCBvQXV0aFBhdGg6IHN0cmluZztcblxuICAgIG9BdXRoUGF0aCA9IHRoaXMub3B0aW9ucy5vQXV0aFBhdGhzW29BdXRoVHlwZV07XG5cbiAgICBpZiAob0F1dGhQYXRoID09IG51bGwpIHtcbiAgICAgIG9BdXRoUGF0aCA9IGAvYXV0aC8ke29BdXRoVHlwZX1gO1xuICAgIH1cblxuICAgIHJldHVybiBvQXV0aFBhdGg7XG4gIH1cblxuICBwcml2YXRlIGdldE9BdXRoVXJsKG9BdXRoUGF0aDogc3RyaW5nLCBjYWxsYmFja1VybDogc3RyaW5nLCB3aW5kb3dUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKFxuICAgICAgYCR7b0F1dGhQYXRofT9vbW5pYXV0aF93aW5kb3dfdHlwZT0ke3dpbmRvd1R5cGV9JmF1dGhfb3JpZ2luX3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChjYWxsYmFja1VybCl9YCxcbiAgICAgIHRoaXMub3B0aW9ucy5vQXV0aEJhc2VcbiAgICApLmhyZWZcblxuICAgIGlmICh0aGlzLnVzZXJUeXBlLnZhbHVlICE9IG51bGwpIHtcbiAgICAgIHVybCArPSBgJnJlc291cmNlX2NsYXNzPSR7dGhpcy51c2VyVHlwZS52YWx1ZS5uYW1lfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIEdldCBBdXRoIERhdGFcbiAgICpcbiAgICovXG5cbiAgLy8gVHJ5IHRvIGxvYWQgYXV0aCBkYXRhXG4gIHByaXZhdGUgdHJ5TG9hZEF1dGhEYXRhKCk6IHZvaWQge1xuXG4gICAgY29uc3QgdXNlclR5cGUgPSB0aGlzLmdldFVzZXJUeXBlQnlOYW1lKHRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJUeXBlJykpO1xuXG4gICAgaWYgKHVzZXJUeXBlKSB7XG4gICAgICB0aGlzLnVzZXJUeXBlLm5leHQodXNlclR5cGUpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tU3RvcmFnZSgpO1xuXG4gICAgaWYgKHRoaXMuYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUGFyYW1zKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgKHRoaXMuYXV0aERhdGEpIHtcbiAgICAvLyAgICAgdGhpcy52YWxpZGF0ZVRva2VuKCk7XG4gICAgLy8gfVxuICB9XG5cbiAgLy8gUGFyc2UgQXV0aCBkYXRhIGZyb20gcmVzcG9uc2VcbiAgcHVibGljIGdldEF1dGhIZWFkZXJzRnJvbVJlc3BvbnNlKGRhdGE6IEh0dHBSZXNwb25zZTxhbnk+IHwgSHR0cEVycm9yUmVzcG9uc2UpOiB2b2lkIHtcbiAgICBjb25zdCBoZWFkZXJzID0gZGF0YS5oZWFkZXJzO1xuXG4gICAgY29uc3QgYXV0aERhdGE6IEF1dGhEYXRhID0ge1xuICAgICAgYWNjZXNzVG9rZW46IGhlYWRlcnMuZ2V0KCdhY2Nlc3MtdG9rZW4nKSxcbiAgICAgIGNsaWVudDogaGVhZGVycy5nZXQoJ2NsaWVudCcpLFxuICAgICAgZXhwaXJ5OiBoZWFkZXJzLmdldCgnZXhwaXJ5JyksXG4gICAgICB0b2tlblR5cGU6IGhlYWRlcnMuZ2V0KCd0b2tlbi10eXBlJyksXG4gICAgICB1aWQ6IGhlYWRlcnMuZ2V0KCd1aWQnKVxuICAgIH07XG5cbiAgICB0aGlzLnNldEF1dGhEYXRhKGF1dGhEYXRhKTtcbiAgfVxuXG4gIC8vIFBhcnNlIEF1dGggZGF0YSBmcm9tIHBvc3QgbWVzc2FnZVxuICBwcml2YXRlIGdldEF1dGhEYXRhRnJvbVBvc3RNZXNzYWdlKGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGF1dGhEYXRhOiBBdXRoRGF0YSA9IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiBkYXRhWydhdXRoX3Rva2VuJ10sXG4gICAgICBjbGllbnQ6IGRhdGFbJ2NsaWVudF9pZCddLFxuICAgICAgZXhwaXJ5OiBkYXRhWydleHBpcnknXSxcbiAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICB1aWQ6IGRhdGFbJ3VpZCddXG4gICAgfTtcblxuICAgIHRoaXMuc2V0QXV0aERhdGEoYXV0aERhdGEpO1xuICB9XG5cbiAgLy8gVHJ5IHRvIGdldCBhdXRoIGRhdGEgZnJvbSBzdG9yYWdlLlxuICBwdWJsaWMgZ2V0QXV0aERhdGFGcm9tU3RvcmFnZSgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGF1dGhEYXRhOiBBdXRoRGF0YSA9IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpLFxuICAgICAgY2xpZW50OiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnQnKSxcbiAgICAgIGV4cGlyeTogdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXhwaXJ5JyksXG4gICAgICB0b2tlblR5cGU6IHRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuVHlwZScpLFxuICAgICAgdWlkOiB0aGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1aWQnKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuICAgICAgdGhpcy5hdXRoRGF0YS5uZXh0KGF1dGhEYXRhKTtcbiAgICB9XG4gIH1cblxuICAvLyBUcnkgdG8gZ2V0IGF1dGggZGF0YSBmcm9tIHVybCBwYXJhbWV0ZXJzLlxuICBwcml2YXRlIGdldEF1dGhEYXRhRnJvbVBhcmFtcygpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2YXRlZFJvdXRlLnF1ZXJ5UGFyYW1zLnN1YnNjcmliZShxdWVyeVBhcmFtcyA9PiB7XG4gICAgICBjb25zdCBhdXRoRGF0YTogQXV0aERhdGEgPSB7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiBxdWVyeVBhcmFtc1sndG9rZW4nXSB8fCBxdWVyeVBhcmFtc1snYXV0aF90b2tlbiddLFxuICAgICAgICBjbGllbnQ6IHF1ZXJ5UGFyYW1zWydjbGllbnRfaWQnXSxcbiAgICAgICAgZXhwaXJ5OiBxdWVyeVBhcmFtc1snZXhwaXJ5J10sXG4gICAgICAgIHRva2VuVHlwZTogJ0JlYXJlcicsXG4gICAgICAgIHVpZDogcXVlcnlQYXJhbXNbJ3VpZCddXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuICAgICAgICB0aGlzLmF1dGhEYXRhLm5leHQoYXV0aERhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIFNldCBBdXRoIERhdGFcbiAgICpcbiAgICovXG5cbiAgLy8gV3JpdGUgYXV0aCBkYXRhIHRvIHN0b3JhZ2VcbiAgcHJpdmF0ZSBzZXRBdXRoRGF0YShhdXRoRGF0YTogQXV0aERhdGEpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jaGVja0F1dGhEYXRhKGF1dGhEYXRhKSkge1xuXG4gICAgICB0aGlzLmF1dGhEYXRhLm5leHQoYXV0aERhdGEpO1xuXG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NUb2tlbicsIGF1dGhEYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsaWVudCcsIGF1dGhEYXRhLmNsaWVudCk7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdleHBpcnknLCBhdXRoRGF0YS5leHBpcnkpO1xuICAgICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW5UeXBlJywgYXV0aERhdGEudG9rZW5UeXBlKTtcbiAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VpZCcsIGF1dGhEYXRhLnVpZCk7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJUeXBlLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclR5cGUnLCB0aGlzLnVzZXJUeXBlLnZhbHVlLm5hbWUpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICpcbiAgICogVmFsaWRhdGUgQXV0aCBEYXRhXG4gICAqXG4gICAqL1xuXG4gIC8vIENoZWNrIGlmIGF1dGggZGF0YSBjb21wbGV0ZSBhbmQgaWYgcmVzcG9uc2UgdG9rZW4gaXMgbmV3ZXJcbiAgcHJpdmF0ZSBjaGVja0F1dGhEYXRhKGF1dGhEYXRhOiBBdXRoRGF0YSk6IGJvb2xlYW4ge1xuXG4gICAgaWYgKFxuICAgICAgYXV0aERhdGEuYWNjZXNzVG9rZW4gIT0gbnVsbCAmJlxuICAgICAgYXV0aERhdGEuY2xpZW50ICE9IG51bGwgJiZcbiAgICAgIGF1dGhEYXRhLmV4cGlyeSAhPSBudWxsICYmXG4gICAgICBhdXRoRGF0YS50b2tlblR5cGUgIT0gbnVsbCAmJlxuICAgICAgYXV0aERhdGEudWlkICE9IG51bGxcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmF1dGhEYXRhLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGF1dGhEYXRhLmV4cGlyeSA+PSB0aGlzLmF1dGhEYXRhLnZhbHVlLmV4cGlyeTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKiBPQXV0aFxuICAgKlxuICAgKi9cblxuICBwcml2YXRlIHJlcXVlc3RDcmVkZW50aWFsc1ZpYVBvc3RNZXNzYWdlKGF1dGhXaW5kb3c6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcG9sbGVyT2JzZXJ2ID0gaW50ZXJ2YWwoNTAwKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlT2JzZXJ2ID0gZnJvbUV2ZW50KHRoaXMuZ2xvYmFsIGFzIGFueSwgJ21lc3NhZ2UnKS5waXBlKFxuICAgICAgcGx1Y2soJ2RhdGEnKSxcbiAgICAgIGZpbHRlcih0aGlzLm9BdXRoV2luZG93UmVzcG9uc2VGaWx0ZXIpXG4gICAgKTtcblxuICAgIHJlc3BvbnNlT2JzZXJ2LnN1YnNjcmliZShcbiAgICAgIHRoaXMuZ2V0QXV0aERhdGFGcm9tUG9zdE1lc3NhZ2UuYmluZCh0aGlzKVxuICAgICk7XG5cbiAgICBjb25zdCBwb2xsZXJTdWJzY3JpcHRpb24gPSBwb2xsZXJPYnNlcnYuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmIChhdXRoV2luZG93LmNsb3NlZCkge1xuICAgICAgICBwb2xsZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhXaW5kb3cucG9zdE1lc3NhZ2UoJ3JlcXVlc3RDcmVkZW50aWFscycsICcqJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2VPYnNlcnY7XG4gIH1cblxuICBwcml2YXRlIG9BdXRoV2luZG93UmVzcG9uc2VGaWx0ZXIoZGF0YTogYW55KTogYW55IHtcbiAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAnZGVsaXZlckNyZWRlbnRpYWxzJyB8fCBkYXRhLm1lc3NhZ2UgPT09ICdhdXRoRmFpbHVyZScpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqXG4gICAqIFV0aWxpdGllc1xuICAgKlxuICAgKi9cblxuICAvLyBNYXRjaCB1c2VyIGNvbmZpZyBieSB1c2VyIGNvbmZpZyBuYW1lXG4gIHByaXZhdGUgZ2V0VXNlclR5cGVCeU5hbWUobmFtZTogc3RyaW5nKTogVXNlclR5cGUge1xuICAgIGlmIChuYW1lID09IG51bGwgfHwgdGhpcy5vcHRpb25zLnVzZXJUeXBlcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnVzZXJUeXBlcy5maW5kKFxuICAgICAgdXNlclR5cGUgPT4gdXNlclR5cGUubmFtZSA9PT0gbmFtZVxuICAgICk7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"angular-token.service.js","sourceRoot":"","sources":["../../../../projects/angular-token/src/lib/angular-token.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[29,0,0,29],[31,0,0,31],[37,0,0,37],[39,0,0,39],[50,0,0,50],[52,0,0,52],[58,0,0,58],[73,0,0,73],[74,0,0,74]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[25,0,3,25],[27,0,3,27],[33,0,3,33],[50,0,3,50],[51,0,3,51]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[19,0,5,19],[21,0,5,21],[30,0,5,30],[32,0,5,32],[40,0,5,40],[42,0,5,42],[57,0,5,57],[59,0,5,59],[65,0,5,65],[71,0,5,71],[72,0,5,72]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[14,0,6,14],[16,0,6,16],[22,0,6,22],[24,0,6,24],[29,0,6,29],[31,0,6,31],[39,0,6,39],[41,0,6,41],[47,0,6,47],[63,0,6,63],[64,0,6,64]],[[0,0,8,0],[7,0,8,7],[9,0,8,9],[30,0,8,30],[32,0,8,32],[38,0,8,38],[61,0,8,61],[62,0,8,62]],[],[],[],[[0,0,30,0],[6,0,30,6],[13,0,30,13],[32,0,30,32]],[[4,0,71,12]],[[4,0,74,30]],[[4,0,76,33]],[[4,0,77,24]],[[4,0,78,24]],[[4,0,32,2],[8,0,32,6],[23,0,32,21]],[[8,0,33,4],[12,0,33,8],[16,0,33,12],[17,0,33,13],[25,0,33,21],[26,0,33,22],[31,0,33,27],[35,0,33,31],[39,0,33,35],[41,0,33,37]],[[12,0,34,6],[19,0,34,13],[23,0,34,17],[24,0,34,18],[32,0,34,26],[33,0,34,27],[38,0,34,32],[39,0,34,33],[43,0,34,37],[44,0,34,38]],[[9,0,35,5]],[[13,0,35,11]],[[12,0,36,6],[19,0,36,13],[28,0,36,22],[29,0,36,23]],[[9,0,37,5]],[[4,0,38,2],[5,0,38,3]],[[4,0,40,2],[8,0,40,6],[23,0,40,21]],[[8,0,41,4],[15,0,41,11],[19,0,41,15],[20,0,41,16],[28,0,41,24],[29,0,41,25],[34,0,41,30],[35,0,41,31]],[[4,0,42,2],[5,0,42,3]],[[4,0,44,2],[8,0,44,6],[23,0,44,21]],[[8,0,45,4],[15,0,45,11],[19,0,45,15],[20,0,45,16],[28,0,45,24],[29,0,45,25],[34,0,45,30],[35,0,45,31]],[[4,0,46,2],[5,0,46,3]],[[4,0,48,2],[8,0,48,6],[15,0,48,13]],[[8,0,49,4],[15,0,49,11],[16,0,49,12],[20,0,49,16],[21,0,49,17],[115,0,49,111]],[[12,0,50,6],[43,0,50,37],[44,0,50,38],[45,0,50,39]],[[8,0,51,4],[15,0,51,11],[19,0,51,15],[20,0,51,16],[27,0,51,23],[28,0,51,24],[35,0,51,31],[36,0,51,32]],[[4,0,52,2],[5,0,52,3]],[[4,0,54,2],[8,0,54,6],[20,0,54,18]],[[8,0,55,4],[15,0,55,11],[19,0,55,15],[20,0,55,16],[27,0,55,23],[28,0,55,24]],[[4,0,56,2],[5,0,56,3]],[[4,0,58,2],[8,0,58,6],[20,0,58,18],[21,0,58,19],[28,0,58,47]],[[8,0,59,4],[12,0,59,8],[13,0,59,9],[20,0,59,16],[23,0,59,25],[29,0,59,32],[30,0,59,33],[36,0,59,39],[37,0,59,40],[41,0,59,44],[42,0,59,45],[49,0,59,52],[51,0,59,54],[58,0,59,61],[59,0,59,62],[60,0,59,63]],[[4,0,60,2],[5,0,60,3]],[[4,0,62,10],[11,0,62,17],[12,0,62,39]],[[4,0,63,9],[12,0,63,17],[15,0,63,47],[19,0,63,51],[34,0,63,66],[35,0,63,77],[39,0,63,81],[40,0,63,82],[41,0,63,83]],[[4,0,64,9],[12,0,64,17],[15,0,64,47],[19,0,64,51],[34,0,64,66],[35,0,64,77],[39,0,64,81],[40,0,64,82],[41,0,64,83]],[[4,0,65,9],[12,0,65,17],[15,0,65,47],[19,0,65,51],[34,0,65,66],[35,0,65,77],[39,0,65,81],[40,0,65,82],[41,0,65,83]],[[4,0,66,10],[10,0,66,16],[11,0,66,34]],[[4,0,68,10],[16,0,68,22],[19,0,68,40],[21,0,68,42],[22,0,68,43]],[[4,0,70,2],[16,0,71,12],[20,0,71,28]],[[4,0,72,4],[94,0,72,94]],[[4,0,73,4],[78,0,73,78]],[[4,0,74,30],[10,0,74,41],[12,0,75,35],[18,0,75,46],[20,0,76,33],[30,0,76,51],[32,0,77,24],[46,0,77,54],[48,0,78,24],[54,0,78,38]],[[8,0,71,12],[17,0,71,16],[20,0,71,12],[24,0,71,16],[25,0,71,28]],[[8,0,74,30],[19,0,74,36],[22,0,74,30],[28,0,74,36],[29,0,74,41]],[[8,0,76,33],[23,0,76,43],[26,0,76,33],[36,0,76,43],[37,0,76,51]],[[8,0,77,24],[27,0,77,38],[30,0,77,24],[44,0,77,38],[45,0,77,54]],[[8,0,78,24],[19,0,78,30],[22,0,78,24],[28,0,78,30],[29,0,78,38]],[[8,0,80,4],[12,0,80,8],[13,0,80,9],[19,0,80,15],[22,0,80,18],[23,0,80,19],[30,0,80,26],[34,0,80,30],[35,0,80,31],[41,0,80,37],[46,0,80,42],[57,0,80,53],[58,0,80,54],[59,0,80,55],[60,0,80,56],[61,0,80,57],[65,0,80,61],[66,0,80,62],[72,0,80,68],[73,0,80,69],[74,0,80,70],[75,0,80,71],[77,0,80,73],[78,0,80,74]],[[8,0,82,4],[12,0,82,8],[28,0,82,24],[29,0,82,25],[33,0,82,29],[34,0,82,30],[44,0,82,40],[45,0,82,41],[47,0,82,43]],[[12,0,84,6],[40,0,84,34]],[[12,0,85,6],[16,0,85,10],[17,0,85,11],[23,0,85,17],[26,0,85,20]],[[16,0,86,8],[20,0,86,12],[22,0,86,14],[25,0,86,25],[27,0,86,27],[28,0,86,28],[32,0,86,32]],[[16,0,87,8],[24,0,87,16],[26,0,87,18]],[[20,0,88,10],[24,0,88,14],[26,0,88,16],[29,0,88,19]],[[20,0,89,10],[26,0,89,16],[28,0,89,18],[31,0,89,21]],[[17,0,90,16]],[[13,0,91,7],[14,0,91,8]],[[12,0,93,6],[40,0,93,34]],[[12,0,94,6],[16,0,94,10],[17,0,94,11],[29,0,94,23],[30,0,94,24],[37,0,94,31],[40,0,94,34],[43,0,94,43],[45,0,94,45],[46,0,94,46],[50,0,94,50],[51,0,94,51]],[[12,0,95,6],[16,0,95,10],[17,0,95,11],[29,0,95,23],[30,0,95,24],[37,0,95,31],[40,0,95,34],[43,0,95,43],[45,0,95,45],[46,0,95,46],[50,0,95,50],[51,0,95,51]],[[12,0,96,6],[16,0,96,10],[17,0,96,11],[29,0,96,23],[30,0,96,24],[40,0,96,34],[43,0,96,37],[46,0,96,46],[48,0,96,48],[49,0,96,49],[53,0,96,53],[54,0,96,54]],[[9,0,97,5]],[[13,0,97,11]],[[12,0,98,6],[16,0,98,10],[17,0,98,11],[29,0,98,23],[32,0,98,26],[44,0,98,38],[45,0,98,39]],[[9,0,99,5]],[[8,0,101,4],[14,0,101,10],[28,0,101,24],[31,0,101,48]],[[12,0,102,6],[19,0,102,13],[21,0,102,15],[25,0,102,19]],[[12,0,103,6],[19,0,103,13],[21,0,103,15],[25,0,103,19]],[[12,0,105,6],[22,0,105,16],[24,0,105,18],[38,0,105,32]],[[12,0,106,6],[26,0,106,20],[28,0,106,22],[32,0,106,26]],[[12,0,107,6],[37,0,107,31],[39,0,107,33],[43,0,107,37]],[[12,0,109,6],[23,0,109,17],[25,0,109,19],[40,0,109,34]],[[12,0,110,6],[29,0,110,23],[31,0,110,25],[52,0,110,46]],[[12,0,111,6],[33,0,111,27],[35,0,111,29],[40,0,111,34]],[[12,0,113,6],[31,0,113,25],[33,0,113,27],[39,0,113,33]],[[12,0,114,6],[29,0,114,23],[31,0,114,25],[37,0,114,31]],[[12,0,115,6],[35,0,115,29],[37,0,115,31],[41,0,115,35],[42,0,115,36],[48,0,115,42],[49,0,115,43],[57,0,115,51],[58,0,115,52],[62,0,115,56]],[[12,0,117,6],[30,0,117,24],[32,0,117,26],[38,0,117,32]],[[12,0,119,6],[29,0,119,23],[31,0,119,25],[46,0,119,40]],[[12,0,120,6],[33,0,120,27],[35,0,120,29],[39,0,120,33],[40,0,120,34],[46,0,120,40],[47,0,120,41],[55,0,120,49],[56,0,120,50],[60,0,120,54]],[[12,0,122,6],[21,0,122,15],[23,0,122,17],[27,0,122,21]],[[12,0,123,6],[22,0,123,16],[24,0,123,18],[31,0,123,25]],[[12,0,125,6],[21,0,125,15],[23,0,125,17],[27,0,125,21],[28,0,125,22],[34,0,125,28],[35,0,125,29],[43,0,125,37],[44,0,125,38],[50,0,125,44]],[[12,0,126,6],[22,0,126,16],[24,0,126,18]],[[16,0,127,8],[22,0,127,14],[24,0,127,16],[37,0,127,29]],[[13,0,128,7]],[[12,0,129,6],[29,0,129,23],[31,0,129,25],[47,0,129,41]],[[12,0,130,6],[27,0,130,21],[29,0,130,23],[40,0,130,34]],[[12,0,131,6],[30,0,131,24],[32,0,131,26],[36,0,131,30]],[[12,0,133,6],[33,0,133,27],[35,0,133,29]],[[16,0,134,8],[22,0,134,14],[24,0,134,16],[46,0,134,38]],[[13,0,135,7]],[[9,0,136,5],[10,0,136,6]],[[8,0,138,4],[14,0,138,10],[27,0,138,23],[30,0,138,32],[36,0,138,39],[37,0,138,40],[43,0,138,46],[44,0,138,47],[58,0,138,61],[60,0,138,63],[66,0,138,69],[67,0,138,70],[68,0,138,71]],[[8,0,139,4],[12,0,139,8],[13,0,139,9],[20,0,139,16],[23,0,139,19],[36,0,139,32],[37,0,139,33]],[[8,0,141,4],[12,0,141,8],[16,0,141,12],[17,0,141,13],[24,0,141,20],[25,0,141,21],[32,0,141,28],[37,0,141,33],[41,0,141,37],[43,0,141,39]],[[12,0,142,6],[19,0,142,13],[20,0,142,14],[24,0,142,18],[25,0,142,19],[115,0,142,109]],[[16,0,143,8],[102,0,143,94],[103,0,143,95],[104,0,143,96]],[[9,0,144,5]],[[8,0,146,4],[12,0,146,8],[13,0,146,9],[28,0,146,24],[30,0,146,26],[31,0,146,27]],[[4,0,147,2],[5,0,147,3]],[[4,0,149,2],[16,0,149,14]],[[8,0,150,4],[12,0,150,8],[16,0,150,12],[17,0,150,13],[25,0,150,21],[26,0,150,22],[31,0,150,27],[35,0,150,31],[39,0,150,35],[41,0,150,37]],[[12,0,151,6],[19,0,151,13],[24,0,151,18],[25,0,151,19]],[[9,0,152,5]],[[13,0,152,11]],[[12,0,153,6],[19,0,153,13],[23,0,153,17],[24,0,153,18]],[[9,0,154,5]],[[4,0,155,2],[5,0,155,3]],[[4,0,157,2],[15,0,157,13],[16,0,157,14],[21,0,157,43],[23,0,157,45],[28,0,157,71]],[[8,0,158,4],[12,0,158,8],[16,0,158,12],[17,0,158,13],[29,0,158,25],[31,0,158,27],[33,0,158,29]],[[12,0,159,6],[19,0,159,13],[23,0,159,17],[24,0,159,18]],[[9,0,160,5]],[[13,0,160,11]],[[12,0,161,6],[91,0,161,85]],[[12,0,162,6],[16,0,162,10],[20,0,162,14],[21,0,162,15],[28,0,162,22],[29,0,162,23],[54,0,162,48],[56,0,162,50]],[[16,0,163,8],[20,0,163,12],[21,0,163,13],[33,0,163,25],[34,0,163,26],[41,0,163,33],[42,0,164,10],[46,0,164,14],[47,0,164,15],[54,0,164,22],[55,0,164,23],[80,0,164,48],[82,0,165,10],[87,0,165,15],[88,0,165,16],[91,0,165,19],[92,0,166,9],[93,0,166,10]],[[13,0,167,7]],[[12,0,169,6],[64,0,169,58]],[[12,0,170,6],[16,0,170,10],[20,0,170,14],[21,0,170,15],[27,0,170,21],[31,0,170,25],[35,0,170,29],[36,0,170,30],[43,0,170,37],[44,0,170,38],[58,0,170,52],[60,0,170,54]],[[16,0,171,8],[20,0,171,12],[21,0,171,13],[27,0,171,19],[28,0,171,20],[36,0,171,28],[37,0,171,29],[38,0,171,30],[42,0,171,34],[43,0,171,35],[50,0,171,42],[51,0,171,43],[65,0,171,57],[66,0,171,58],[67,0,171,59],[68,0,171,60]],[[13,0,172,7]],[[12,0,174,6],[19,0,174,13],[24,0,174,18],[25,0,174,19]],[[9,0,175,5]],[[4,0,176,2],[5,0,176,3]],[[4,0,179,2]],[],[],[],[[7,0,183,5]],[[4,0,185,2],[23,0,185,21]],[[4,0,186,2],[19,0,186,17],[20,0,186,18],[32,0,186,44],[34,0,186,46],[48,0,186,66]],[[8,0,188,4],[20,0,188,16],[23,0,188,19],[29,0,188,25],[30,0,188,26],[36,0,188,32],[37,0,188,33],[39,0,188,35],[41,0,188,37],[53,0,188,49],[54,0,188,50],[55,0,188,51]],[[8,0,190,4],[12,0,190,8],[24,0,190,20],[25,0,190,21],[33,0,190,29],[37,0,190,33],[41,0,190,37],[43,0,190,39]],[[12,0,191,6],[16,0,191,10],[17,0,191,11],[25,0,191,19],[26,0,191,20],[30,0,191,24],[31,0,191,25],[35,0,191,29],[36,0,191,30],[37,0,191,31]],[[9,0,192,5]],[[13,0,192,11]],[[12,0,193,6],[16,0,193,10],[17,0,193,11],[25,0,193,19],[26,0,193,20],[30,0,193,24],[31,0,193,25],[35,0,193,29],[36,0,193,30],[53,0,193,47],[54,0,193,48],[66,0,193,60],[67,0,193,61],[75,0,193,69],[76,0,193,70],[77,0,193,71],[78,0,193,72]],[[12,0,194,6],[19,0,194,13],[31,0,194,25],[32,0,194,26],[40,0,194,34],[41,0,194,35]],[[9,0,195,5]],[[8,0,197,4],[12,0,198,6],[24,0,198,18],[25,0,198,19],[46,0,198,40],[50,0,198,44],[54,0,198,48]],[[12,0,199,6],[24,0,199,18],[25,0,199,19],[45,0,199,39],[49,0,199,43],[53,0,199,47],[55,0,200,6]],[[12,0,201,6],[24,0,201,18],[25,0,201,19],[46,0,201,40],[49,0,201,43],[61,0,201,55],[62,0,201,56],[82,0,201,76],[83,0,201,77]],[[12,0,202,6],[19,0,202,13],[31,0,202,25],[32,0,202,26],[52,0,202,46],[53,0,202,47]],[[9,0,203,5]],[[8,0,205,4],[12,0,205,8],[26,0,205,22],[31,0,205,27],[40,0,205,36],[42,0,205,38]],[[12,0,206,6],[24,0,206,18],[25,0,206,19],[39,0,206,33],[42,0,206,36],[56,0,206,50],[57,0,206,51]],[[9,0,207,5]],[[8,0,209,4],[14,0,209,10],[19,0,209,15],[22,0,209,18],[34,0,209,30],[35,0,209,31],[40,0,209,36],[41,0,209,37]],[[8,0,210,4],[15,0,210,11],[27,0,210,23],[28,0,210,24],[33,0,210,29],[34,0,210,30]],[[8,0,211,4],[20,0,211,16],[21,0,211,17],[25,0,211,21],[26,0,211,22],[33,0,211,29],[34,0,211,30],[44,0,211,40],[45,0,211,41],[48,0,211,44],[53,0,211,49],[54,0,211,50]],[[8,0,213,4],[20,0,213,16],[21,0,213,17],[40,0,213,36],[43,0,213,39],[47,0,213,43],[48,0,213,44],[55,0,213,51],[56,0,213,52],[79,0,213,75],[80,0,213,76]],[[8,0,215,4],[15,0,215,11],[19,0,215,15],[20,0,215,16],[24,0,215,20],[25,0,215,21],[29,0,215,25],[30,0,216,6],[34,0,216,10],[35,0,216,11],[48,0,216,24],[50,0,216,26],[53,0,216,29],[57,0,216,33],[58,0,216,34],[65,0,216,41],[66,0,216,42],[85,0,216,61],[87,0,216,63],[99,0,216,75],[100,0,217,5],[101,0,217,6]],[[4,0,218,2],[5,0,218,3]],[[4,0,220,2],[21,0,220,19]],[[4,0,221,2],[17,0,221,15]],[[8,0,222,4],[15,0,222,11],[19,0,222,15],[20,0,222,16],[24,0,222,20],[25,0,222,21],[31,0,222,27],[32,0,222,41],[36,0,222,45],[37,0,222,46],[50,0,222,59],[52,0,222,61],[55,0,222,64],[59,0,222,68],[60,0,222,69],[67,0,222,76],[68,0,222,77],[85,0,222,94],[86,0,222,95],[87,0,222,96]],[[4,0,223,2],[5,0,223,3]],[[4,0,225,2],[38,0,225,36]],[[4,0,226,2],[10,0,226,8],[11,0,226,9],[21,0,226,31],[23,0,226,33],[37,0,226,53]],[[8,0,227,4],[12,0,227,8],[13,0,227,9],[21,0,227,17],[22,0,227,18],[26,0,227,22],[27,0,227,23],[28,0,227,24],[38,0,227,34],[39,0,227,35],[47,0,227,43],[51,0,227,47],[55,0,227,51],[56,0,227,52],[57,0,227,53],[58,0,227,54],[59,0,227,55],[63,0,227,59],[64,0,227,60],[65,0,227,61],[66,0,227,62],[70,0,227,66],[71,0,227,67],[88,0,227,84],[89,0,227,85],[99,0,227,95],[100,0,227,96],[108,0,227,104],[109,0,227,105],[110,0,227,106],[111,0,227,107]],[[8,0,229,4],[14,0,229,10],[18,0,229,14],[21,0,229,17]],[[12,0,230,6],[13,0,230,7],[17,0,230,11],[18,0,230,12],[25,0,230,19],[26,0,230,20],[36,0,230,30],[37,0,230,31],[39,0,230,33],[49,0,230,43],[50,0,230,44],[55,0,230,49]],[[12,0,231,6],[20,0,231,14],[22,0,231,16],[32,0,231,26],[33,0,231,27],[41,0,231,35]],[[9,0,232,5],[10,0,232,6]],[[8,0,234,4],[12,0,234,8],[26,0,234,22],[31,0,234,27],[40,0,234,36],[42,0,234,38]],[[12,0,235,6],[16,0,235,10],[17,0,235,11],[33,0,235,27],[34,0,235,28],[37,0,235,31],[51,0,235,45],[52,0,235,46]],[[9,0,236,5]],[[8,0,238,4],[14,0,238,10],[20,0,238,16],[23,0,238,19],[27,0,238,23],[28,0,238,24],[32,0,238,28],[33,0,238,29],[37,0,238,33],[38,0,239,6],[42,0,239,10],[43,0,239,11],[56,0,239,24],[58,0,239,26],[61,0,239,29],[65,0,239,33],[66,0,239,34],[73,0,239,41],[74,0,239,42],[84,0,239,52],[86,0,239,54],[90,0,239,58],[91,0,240,5],[92,0,240,6],[96,0,240,10],[97,0,240,11],[102,0,240,16],[104,0,240,18],[105,0,240,19],[106,0,240,20]],[[8,0,242,4],[14,0,242,10],[15,0,242,11],[24,0,242,20],[25,0,242,21],[28,0,242,24],[29,0,242,25],[31,0,242,27],[32,0,242,28],[36,0,242,32],[37,0,242,33],[45,0,242,41],[46,0,242,42],[50,0,242,46],[51,0,242,47],[54,0,242,50],[55,0,242,51],[59,0,242,55],[60,0,242,56],[61,0,242,57],[62,0,242,58]],[[8,0,244,4],[15,0,244,11],[21,0,244,17],[22,0,244,18]],[[4,0,245,2],[5,0,245,3]],[[4,0,247,2],[15,0,247,13],[16,0,247,14],[25,0,247,31],[27,0,247,33],[39,0,247,75],[41,0,247,77],[49,0,247,101]],[[8,0,249,4],[14,0,249,10],[23,0,249,19],[26,0,249,30],[30,0,249,34],[31,0,249,35],[43,0,249,47],[44,0,249,48],[53,0,249,57],[54,0,249,58],[55,0,249,59]],[[8,0,250,4],[14,0,250,10],[25,0,250,21],[28,0,250,32],[32,0,250,36],[35,0,250,39],[36,0,250,40],[40,0,250,44],[41,0,250,45],[48,0,250,52],[49,0,250,53],[66,0,250,70],[68,0,250,72],[72,0,250,76],[73,0,250,77],[79,0,250,83],[80,0,250,84],[88,0,250,92],[89,0,250,93],[95,0,250,99],[96,0,250,100],[97,0,250,101],[101,0,250,105],[102,0,250,106]],[[8,0,251,4],[14,0,251,10],[29,0,251,25],[32,0,251,36],[36,0,251,40],[37,0,251,41],[44,0,251,48],[45,0,251,49],[60,0,251,64],[61,0,251,65]],[[8,0,252,4],[14,0,252,10],[21,0,252,17],[24,0,252,28],[28,0,252,32],[29,0,252,33],[40,0,252,44],[41,0,252,45],[50,0,252,54],[52,0,252,56],[63,0,252,67],[65,0,252,69],[80,0,252,84],[81,0,252,85],[82,0,252,86]],[[8,0,254,4],[12,0,254,8],[27,0,254,23],[32,0,254,28],[43,0,254,39]],[[12,0,255,6],[13,0,255,7],[28,0,255,22],[32,0,255,26],[46,0,255,40],[50,0,255,44],[51,0,255,45],[52,0,255,46],[60,0,255,54],[64,0,255,58],[65,0,255,59],[73,0,255,67],[74,0,255,68],[76,0,255,70],[77,0,255,71],[86,0,255,80],[87,0,255,81],[91,0,255,85],[92,0,255,86],[93,0,255,87],[101,0,255,95],[102,0,255,96],[104,0,255,98],[105,0,255,99],[110,0,255,104],[111,0,255,105],[115,0,255,109],[123,0,255,117],[124,0,255,118],[126,0,255,120],[127,0,255,121],[136,0,255,130],[137,0,255,131],[138,0,255,132],[139,0,255,133],[140,0,255,134],[142,0,255,136]],[[12,0,256,6],[18,0,256,12],[36,0,256,30],[39,0,256,33],[43,0,256,37],[44,0,256,38],[51,0,256,45],[52,0,256,46],[70,0,256,64],[71,0,256,65]],[[12,0,257,6],[16,0,257,10],[29,0,257,23],[32,0,257,26],[34,0,257,28],[35,0,257,29]],[[12,0,259,6],[16,0,259,10],[34,0,259,28],[36,0,259,30]],[[16,0,260,8],[21,0,260,13],[27,0,260,19],[30,0,260,22],[34,0,260,26],[52,0,260,44],[54,0,260,46]],[[20,0,261,10],[24,0,261,14],[42,0,261,32],[43,0,261,33],[57,0,261,47],[58,0,261,48],[61,0,261,51],[62,0,261,52],[64,0,261,54]],[[24,0,262,12],[37,0,262,25],[41,0,262,29],[45,0,262,33],[48,0,262,36],[52,0,262,40],[70,0,262,58],[71,0,262,59],[74,0,262,62],[75,0,262,63],[77,0,262,65],[78,0,262,66]],[[21,0,263,11]],[[17,0,264,9]],[[13,0,265,7]],[[12,0,267,6],[18,0,267,12],[23,0,267,17],[26,0,267,20],[30,0,267,24],[31,0,267,25],[37,0,267,31],[38,0,267,32],[42,0,267,36],[43,0,268,8],[50,0,268,15],[52,0,269,8],[60,0,269,16],[62,0,270,8],[90,0,270,36],[103,0,270,49],[105,0,270,51],[106,0,271,7],[107,0,271,8]],[[12,0,272,6],[19,0,272,13],[23,0,272,17],[24,0,272,18],[56,0,272,50],[57,0,272,51],[62,0,272,56],[63,0,272,57],[64,0,272,58]],[[9,0,273,5]],[[13,0,273,11],[17,0,273,15],[32,0,273,30],[36,0,273,34],[50,0,273,48],[52,0,273,50]],[[12,0,274,6],[16,0,274,10],[36,0,274,30],[39,0,274,33],[43,0,274,37],[44,0,274,38],[51,0,274,45],[52,0,274,46],[73,0,274,67],[74,0,274,68],[83,0,274,77],[84,0,274,78],[85,0,274,79]],[[12,0,275,6],[16,0,275,10],[17,0,275,11],[37,0,275,31],[39,0,275,33]],[[16,0,276,8],[22,0,276,14],[26,0,276,18],[31,0,276,23],[32,0,276,24],[64,0,276,56],[73,0,276,65],[147,0,276,139],[148,0,276,140],[149,0,276,141]],[[13,0,277,7]],[[12,0,278,6],[72,0,278,66]],[[12,0,279,6],[38,0,279,32]],[[12,0,281,6],[41,0,281,35]],[[12,0,282,6],[56,0,282,50]],[[12,0,283,6],[77,0,283,71]],[[12,0,284,6],[20,0,284,14]],[[12,0,285,6],[16,0,285,10]],[[12,0,287,6],[16,0,287,10],[23,0,287,17],[26,0,287,20],[38,0,287,32],[39,0,287,33],[45,0,287,39],[46,0,288,8],[53,0,288,15],[55,0,289,8],[63,0,289,16],[65,0,290,8],[78,0,290,21],[79,0,291,7],[80,0,291,8]],[[12,0,293,6],[19,0,293,13],[23,0,293,17],[33,0,293,27],[34,0,293,28],[35,0,293,29],[43,0,293,37],[45,0,293,39],[47,0,293,41]],[[16,0,294,8],[23,0,294,15],[24,0,294,16],[26,0,294,18],[27,0,294,19],[37,0,294,29],[38,0,294,30],[39,0,294,31],[48,0,294,40],[49,0,294,41],[50,0,294,42],[52,0,294,49],[54,0,294,51],[56,0,294,53]],[[20,0,295,10],[24,0,295,14],[26,0,295,16],[27,0,295,17],[30,0,295,20],[31,0,295,21],[38,0,295,28],[39,0,295,29],[59,0,295,49],[60,0,295,50],[63,0,295,53],[64,0,295,54],[65,0,295,55],[67,0,295,57]],[[24,0,296,12],[31,0,296,19],[32,0,296,20],[45,0,296,33],[46,0,296,34],[48,0,296,36],[52,0,296,40],[54,0,296,42],[77,0,296,65],[79,0,296,67],[80,0,296,68],[81,0,296,69],[85,0,296,73],[86,0,296,74],[87,0,296,75],[98,0,296,91],[100,0,296,93],[102,0,296,95]],[[28,0,297,14],[32,0,297,18],[33,0,297,19],[59,0,297,45],[60,0,297,46],[71,0,297,57],[72,0,297,58],[73,0,297,59],[74,0,297,60],[75,0,297,61],[76,0,297,62]],[[28,0,299,14],[32,0,299,18],[44,0,299,30],[47,0,299,33],[55,0,299,41],[56,0,299,42],[59,0,299,45],[60,0,299,46],[61,0,299,47]],[[28,0,301,14],[32,0,301,18],[50,0,301,36],[53,0,301,39],[65,0,301,51],[66,0,301,52],[75,0,301,61],[76,0,301,62],[79,0,301,65],[81,0,301,67]],[[32,0,302,16],[36,0,302,20],[40,0,302,24],[41,0,302,25],[53,0,302,37],[55,0,302,39],[57,0,302,41]],[[36,0,303,18],[44,0,303,26],[45,0,303,27],[49,0,303,31],[50,0,303,32],[54,0,303,36],[55,0,303,37],[63,0,303,45],[64,0,303,46],[65,0,303,47]],[[36,0,304,18],[44,0,304,26],[45,0,304,27],[53,0,304,35],[55,0,304,37],[56,0,304,38]],[[36,0,306,18],[54,0,306,36],[55,0,306,37],[66,0,306,48],[68,0,306,50],[69,0,306,51]],[[36,0,307,18],[43,0,307,25],[44,0,307,26],[49,0,307,31],[51,0,307,33],[52,0,307,34]],[[33,0,308,17]],[[28,0,309,14],[29,0,309,15],[31,0,309,17],[32,0,309,18],[37,0,309,28],[39,0,309,30],[41,0,309,32]],[[32,0,310,16],[40,0,310,24],[41,0,310,25],[46,0,310,30],[47,0,310,31],[52,0,310,36],[53,0,310,37],[54,0,310,38]],[[32,0,311,16],[40,0,311,24],[41,0,311,25],[49,0,311,33],[51,0,311,35],[52,0,311,36]],[[28,0,312,14],[29,0,312,15],[30,0,312,16],[31,0,312,17]],[[24,0,313,12],[25,0,313,13],[27,0,313,15],[28,0,313,16],[33,0,313,26],[35,0,313,28],[37,0,313,30]],[[28,0,314,14],[36,0,314,22],[37,0,314,23],[42,0,314,28],[43,0,314,29],[48,0,314,34],[49,0,314,35],[50,0,314,36]],[[28,0,315,14],[36,0,315,22],[37,0,315,23],[45,0,315,31],[47,0,315,33],[48,0,315,34]],[[24,0,316,12],[25,0,316,13],[26,0,316,14],[27,0,316,15]],[[21,0,317,11]],[[16,0,318,8],[17,0,318,9],[19,0,318,11],[20,0,318,12],[25,0,318,22],[27,0,318,24],[29,0,318,26]],[[20,0,319,10],[28,0,319,18],[29,0,319,19],[34,0,319,24],[35,0,319,25],[40,0,319,30],[41,0,319,31],[42,0,319,32]],[[20,0,320,10],[28,0,320,18],[29,0,320,19],[37,0,320,27],[39,0,320,29],[40,0,320,30]],[[16,0,321,8],[17,0,321,9],[18,0,321,10],[19,0,321,11]],[[12,0,322,6],[13,0,322,7],[14,0,322,8],[15,0,322,8]],[[9,0,323,5]],[[13,0,323,11],[17,0,323,15],[32,0,323,30],[37,0,323,35],[49,0,323,47],[51,0,323,49]],[[12,0,324,6],[16,0,324,10],[17,0,324,11],[23,0,324,17],[24,0,324,18],[32,0,324,26],[33,0,324,27],[37,0,324,31],[40,0,324,34],[47,0,324,41],[48,0,324,42]],[[12,0,325,6],[19,0,325,13],[28,0,325,22],[29,0,325,23]],[[9,0,326,5]],[[13,0,326,11]],[[12,0,327,6],[18,0,327,12],[22,0,327,16],[27,0,327,21],[28,0,327,22],[60,0,327,54],[75,0,327,69],[78,0,327,72],[79,0,327,73],[80,0,327,74]],[[9,0,328,5]],[[4,0,329,2],[5,0,329,3]],[[4,0,331,2],[24,0,331,22]],[[8,0,332,4],[12,0,332,8],[13,0,332,9],[34,0,332,30],[36,0,332,32],[37,0,332,33]],[[4,0,333,2],[5,0,333,3]],[[4,0,335,2],[42,0,335,40]],[[4,0,336,2],[11,0,336,9]],[[8,0,337,4],[15,0,337,11],[19,0,337,15],[20,0,337,16],[24,0,337,20],[25,0,337,21],[31,0,337,27],[32,0,337,41],[36,0,337,45],[37,0,337,46],[50,0,337,59],[52,0,337,61],[55,0,337,64],[59,0,337,68],[60,0,337,69],[67,0,337,76],[68,0,337,77],[79,0,337,88],[80,0,337,89]],[[12,0,338,6],[77,0,338,71]],[[13,0,339,7],[17,0,339,11],[18,0,340,8],[26,0,340,16],[27,0,340,17],[30,0,340,20],[32,0,340,22]],[[12,0,341,10],[16,0,341,14],[17,0,341,15],[29,0,341,27],[30,0,341,28],[40,0,341,38],[41,0,341,39],[54,0,341,52],[55,0,341,53],[56,0,341,54]],[[12,0,342,10],[16,0,342,14],[17,0,342,15],[29,0,342,27],[30,0,342,28],[40,0,342,38],[41,0,342,39],[49,0,342,47],[50,0,342,48],[51,0,342,49]],[[12,0,343,10],[16,0,343,14],[17,0,343,15],[29,0,343,27],[30,0,343,28],[40,0,343,38],[41,0,343,39],[49,0,343,47],[50,0,343,48],[51,0,343,49]],[[12,0,344,10],[16,0,344,14],[17,0,344,15],[29,0,344,27],[30,0,344,28],[40,0,344,38],[41,0,344,39],[52,0,344,50],[53,0,344,51],[54,0,344,52]],[[12,0,345,10],[16,0,345,14],[17,0,345,15],[29,0,345,27],[30,0,345,28],[40,0,345,38],[41,0,345,39],[46,0,345,44],[47,0,345,45],[48,0,345,46]],[[12,0,347,10],[16,0,347,14],[17,0,347,15],[25,0,347,23],[26,0,347,24],[30,0,347,28],[31,0,347,29],[35,0,347,33],[36,0,347,34],[37,0,347,35]],[[12,0,348,10],[16,0,348,14],[17,0,348,15],[25,0,348,23],[26,0,348,24],[30,0,348,28],[31,0,348,29],[35,0,348,33],[36,0,348,34],[37,0,348,35]],[[12,0,349,10],[16,0,349,14],[17,0,349,15],[25,0,349,23],[26,0,349,24],[30,0,349,28],[31,0,349,29],[35,0,349,33],[36,0,349,34],[37,0,349,35]],[[8,0,350,8],[9,0,350,9],[10,0,351,9],[11,0,352,7],[12,0,352,8]],[[4,0,353,2],[5,0,353,3]],[[4,0,355,2],[29,0,355,27]],[[4,0,356,2],[17,0,356,15]],[[8,0,357,4],[14,0,357,10],[20,0,357,16],[23,0,357,19],[27,0,357,23],[28,0,357,24],[32,0,357,28],[33,0,357,29],[36,0,357,32],[37,0,358,6],[41,0,358,10],[42,0,358,11],[55,0,358,24],[57,0,358,26],[60,0,358,29],[64,0,358,33],[65,0,358,34],[72,0,358,41],[73,0,358,42],[90,0,358,59],[91,0,359,5],[92,0,359,6],[96,0,359,10],[97,0,359,11],[102,0,359,16],[104,0,359,18],[105,0,359,19],[106,0,359,20]],[[8,0,361,4],[14,0,361,10],[15,0,361,11],[24,0,361,20],[25,0,362,6],[26,0,362,7],[29,0,362,10],[31,0,362,12],[33,0,362,14],[34,0,362,15],[38,0,362,19],[39,0,362,20],[47,0,362,28],[48,0,362,29],[52,0,362,33],[53,0,362,34],[56,0,362,37],[57,0,362,38],[61,0,362,42],[62,0,362,43],[64,0,363,6],[65,0,363,7],[70,0,363,12],[72,0,363,14],[74,0,363,16]],[[12,0,364,8],[16,0,364,12],[21,0,364,17],[22,0,364,18],[28,0,364,24],[33,0,364,29],[36,0,364,32],[40,0,364,36],[44,0,364,40],[45,0,364,41],[52,0,364,48],[53,0,364,49],[74,0,364,70],[76,0,364,72]],[[16,0,365,10],[20,0,365,14],[21,0,365,15],[28,0,365,22],[30,0,365,24],[31,0,365,25]],[[13,0,366,9]],[[8,0,367,6],[9,0,367,7],[10,0,367,8],[11,0,367,9]],[[8,0,369,4],[15,0,369,11],[21,0,369,17],[22,0,369,18]],[[4,0,370,2],[5,0,370,3]],[[4,0,372,2],[30,0,372,28]],[[4,0,373,2],[18,0,373,16],[19,0,373,17],[37,0,373,55]],[[8,0,375,4],[12,0,375,8],[30,0,375,26],[31,0,375,27],[39,0,375,35],[43,0,375,39],[47,0,375,43],[49,0,375,45]],[[12,0,376,6],[16,0,376,10],[17,0,376,11],[25,0,376,19],[26,0,376,20],[30,0,376,24],[31,0,376,25],[35,0,376,29],[36,0,376,30],[53,0,376,47],[54,0,376,48],[72,0,376,66],[73,0,376,67],[81,0,376,75],[82,0,376,76],[83,0,376,77],[84,0,376,78]],[[9,0,377,5]],[[8,0,379,4],[12,0,379,8],[16,0,379,17],[17,0,379,18]],[[8,0,381,4],[12,0,381,8],[30,0,381,26],[31,0,381,27],[46,0,381,42],[50,0,381,46],[54,0,381,50],[56,0,381,52]],[[12,0,382,6],[16,0,382,10],[19,0,382,13]],[[16,0,383,8],[24,0,383,16],[26,0,383,18],[44,0,383,36],[45,0,383,37],[53,0,383,45]],[[16,0,384,8],[37,0,384,29],[39,0,384,31],[57,0,384,49],[58,0,384,50],[78,0,384,70]],[[13,0,385,7],[14,0,385,8]],[[9,0,386,5]],[[13,0,386,11]],[[12,0,387,6],[16,0,387,10],[19,0,387,13]],[[16,0,388,8],[32,0,388,24],[34,0,388,26],[52,0,388,44],[53,0,388,45],[68,0,388,60]],[[16,0,389,8],[24,0,389,16],[26,0,389,18],[44,0,389,36],[45,0,389,37],[53,0,389,45]],[[16,0,390,8],[37,0,390,29],[39,0,390,31],[57,0,390,49],[58,0,390,50],[78,0,390,70]],[[13,0,391,7],[14,0,391,8]],[[9,0,392,5]],[[8,0,394,4],[12,0,394,8],[30,0,394,26],[31,0,394,27],[49,0,394,45],[51,0,394,47]],[[12,0,395,6],[16,0,395,10],[17,0,395,11],[37,0,395,31],[40,0,395,34],[58,0,395,52],[59,0,395,53],[77,0,395,71],[78,0,395,72]],[[9,0,396,5]],[[8,0,398,4],[14,0,398,10],[18,0,398,14],[21,0,398,17],[25,0,398,21],[26,0,398,22]],[[8,0,399,4],[15,0,399,11],[19,0,399,15],[20,0,399,16],[24,0,399,20],[25,0,399,21],[28,0,399,24],[29,0,399,38],[33,0,399,42],[34,0,399,43],[47,0,399,56],[49,0,399,58],[52,0,399,61],[56,0,399,65],[57,0,399,66],[64,0,399,73],[65,0,399,74],[83,0,399,92],[85,0,399,94],[89,0,399,98],[90,0,399,99],[91,0,399,100]],[[4,0,400,2],[5,0,400,3]],[[4,0,402,2],[29,0,402,27]],[[4,0,403,2],[17,0,403,15],[18,0,403,16],[35,0,403,52],[37,0,403,54],[51,0,403,74]],[[8,0,406,4],[12,0,406,8],[26,0,406,22],[31,0,406,27],[40,0,406,36],[42,0,406,38]],[[12,0,407,6],[29,0,407,23],[30,0,407,24],[44,0,407,38],[47,0,407,41],[61,0,407,55],[62,0,407,56]],[[9,0,408,5]],[[8,0,410,4],[12,0,410,8],[13,0,410,9],[21,0,410,17],[22,0,410,18],[26,0,410,22],[27,0,411,6],[28,0,411,7],[45,0,411,24],[46,0,411,25],[54,0,411,33],[58,0,411,37],[62,0,411,41],[63,0,411,42],[64,0,411,43],[65,0,411,44],[66,0,411,45],[70,0,411,49],[71,0,411,50],[72,0,411,51],[73,0,411,52],[77,0,411,56],[78,0,411,57],[95,0,411,74],[96,0,411,75],[113,0,411,92],[114,0,411,93],[122,0,411,101],[123,0,411,102],[124,0,412,5],[125,0,412,6]],[[8,0,414,4],[14,0,414,10],[18,0,414,14],[21,0,414,17]],[[12,0,415,6],[13,0,415,7],[17,0,415,11],[18,0,415,12],[25,0,415,19],[26,0,415,20],[36,0,415,30],[37,0,415,31],[39,0,415,33],[56,0,415,50],[57,0,415,51],[62,0,415,56]],[[12,0,416,6],[24,0,416,18],[26,0,416,20],[30,0,416,24],[31,0,416,25],[38,0,416,32],[39,0,416,33],[60,0,416,54]],[[9,0,417,5],[10,0,417,6]],[[8,0,419,4],[15,0,419,11],[19,0,419,15],[20,0,419,16],[24,0,419,20],[25,0,419,21],[29,0,419,25],[30,0,419,39],[34,0,419,43],[35,0,419,44],[48,0,419,57],[50,0,419,59],[53,0,419,62],[57,0,419,66],[58,0,419,67],[65,0,419,74],[66,0,419,75],[83,0,419,92],[85,0,419,94],[89,0,419,98],[90,0,419,99],[91,0,419,100]],[[4,0,420,2],[5,0,420,3]],[[4,0,423,2]],[],[],[],[[7,0,427,5]],[[4,0,429,10],[15,0,429,21]],[[8,0,430,4],[15,0,430,11],[16,0,430,12],[20,0,430,16],[21,0,430,17],[29,0,430,25],[30,0,430,26],[35,0,430,31],[39,0,430,35],[43,0,430,39],[44,0,430,40],[45,0,430,41],[46,0,430,42],[47,0,430,43],[49,0,430,45],[50,0,430,46],[51,0,430,47],[52,0,430,48],[56,0,430,52],[57,0,430,53],[65,0,430,61],[66,0,430,62],[71,0,430,67],[72,0,430,68],[76,0,430,72],[79,0,430,75],[82,0,430,78],[83,0,430,79]],[[4,0,431,2],[5,0,431,3]],[[4,0,433,10],[28,0,433,34],[29,0,433,35],[32,0,433,46]],[[8,0,434,4],[14,0,434,10],[22,0,434,18],[25,0,434,21],[28,0,434,24],[29,0,434,25],[32,0,434,28],[33,0,434,29],[39,0,434,35],[42,0,434,38],[43,0,434,39],[44,0,434,40],[45,0,434,41]],[[8,0,436,4],[15,0,436,11],[23,0,436,19],[28,0,436,24],[31,0,436,27],[32,0,436,28],[33,0,436,29],[34,0,436,30],[37,0,436,33],[38,0,436,34],[39,0,436,35],[40,0,436,36],[43,0,436,39],[46,0,436,42],[49,0,436,45],[50,0,436,46]],[[4,0,437,2],[5,0,437,3]],[[4,0,439,10],[14,0,439,20]],[[8,0,440,4],[12,0,440,8],[27,0,440,23],[30,0,440,26],[32,0,440,28],[33,0,440,29]],[[8,0,442,4],[12,0,442,8],[16,0,442,12],[17,0,442,13],[24,0,442,20],[25,0,442,21],[32,0,442,28],[36,0,442,32],[40,0,442,36],[42,0,442,38]],[[12,0,443,6],[27,0,443,21],[31,0,443,25],[35,0,443,29],[36,0,443,30],[60,0,443,54],[61,0,443,55],[65,0,443,59],[66,0,443,60],[73,0,443,67],[74,0,443,68],[81,0,443,75],[82,0,443,76],[83,0,443,77]],[[9,0,444,5]],[[8,0,446,4],[12,0,446,8],[16,0,446,12],[17,0,446,13],[24,0,446,20],[25,0,446,21],[32,0,446,28],[36,0,446,32],[40,0,446,36],[42,0,446,38]],[[12,0,447,6],[27,0,447,21],[31,0,447,25],[35,0,447,29],[36,0,447,30],[60,0,447,54],[61,0,447,55],[65,0,447,59],[66,0,447,60],[73,0,447,67],[74,0,447,68],[81,0,447,75],[82,0,447,76],[83,0,447,77]],[[9,0,448,5]],[[8,0,450,4],[15,0,450,11],[30,0,450,26],[31,0,450,27]],[[4,0,451,2],[5,0,451,3]],[[4,0,453,10],[17,0,453,23]],[[8,0,454,4],[15,0,454,11],[19,0,454,15],[20,0,454,16],[30,0,454,26],[32,0,454,28],[35,0,454,31],[39,0,454,35],[40,0,454,36],[51,0,454,47],[53,0,454,49],[54,0,454,50]],[[4,0,455,2],[5,0,455,3]],[[4,0,457,10],[16,0,457,22],[17,0,457,23],[26,0,457,40]],[[8,0,458,4],[12,0,458,8],[21,0,458,25],[22,0,458,26]],[[8,0,460,4],[17,0,460,13],[20,0,460,16],[24,0,460,20],[25,0,460,21],[32,0,460,28],[33,0,460,29],[43,0,460,39],[44,0,460,40],[53,0,460,49],[54,0,460,50],[55,0,460,51]],[[8,0,462,4],[12,0,462,8],[21,0,462,17],[25,0,462,21],[29,0,462,25],[31,0,462,27]],[[12,0,463,6],[21,0,463,15],[24,0,463,18],[33,0,463,27],[42,0,463,36],[44,0,463,38],[45,0,463,39]],[[9,0,464,5]],[[8,0,466,4],[15,0,466,11],[24,0,466,20],[25,0,466,21]],[[4,0,467,2],[5,0,467,3]],[[4,0,469,10],[15,0,469,21],[16,0,469,22],[25,0,469,39],[27,0,469,41],[38,0,469,60],[40,0,469,62],[50,0,469,80]],[[8,0,470,4],[12,0,470,8],[15,0,470,11],[18,0,470,14],[22,0,470,18],[25,0,470,21],[26,0,471,6],[29,0,471,9],[38,0,471,18],[63,0,471,43],[73,0,471,53],[93,0,471,73],[111,0,471,91],[112,0,471,92],[123,0,471,103],[124,0,471,104],[126,0,471,106],[128,0,472,6],[132,0,472,10],[133,0,472,11],[140,0,472,18],[141,0,472,19],[150,0,472,28],[151,0,473,5],[152,0,473,6],[156,0,473,10],[157,0,473,10]],[[8,0,475,4],[12,0,475,8],[16,0,475,12],[17,0,475,13],[25,0,475,21],[26,0,475,22],[31,0,475,27],[35,0,475,31],[39,0,475,35],[41,0,475,37]],[[12,0,476,6],[15,0,476,9],[19,0,476,13],[38,0,476,32],[42,0,476,36],[43,0,476,37],[51,0,476,45],[52,0,476,46],[57,0,476,51],[58,0,476,52],[62,0,476,56],[64,0,476,58],[65,0,476,59]],[[9,0,477,5]],[[8,0,479,4],[15,0,479,11],[18,0,479,14],[19,0,479,15]],[[4,0,480,2],[5,0,480,3]],[[4,0,483,2]],[],[],[],[[7,0,487,5]],[[4,0,489,2],[28,0,489,26]],[[4,0,490,10],[19,0,490,25]],[[8,0,492,4],[14,0,492,10],[22,0,492,18],[25,0,492,21],[29,0,492,25],[30,0,492,26],[47,0,492,43],[48,0,492,44],[52,0,492,48],[53,0,492,49],[65,0,492,61],[66,0,492,62],[73,0,492,69],[74,0,492,70],[84,0,492,80],[85,0,492,81],[86,0,492,82],[87,0,492,83]],[[8,0,494,4],[12,0,494,8],[20,0,494,16],[22,0,494,18]],[[12,0,495,6],[16,0,495,10],[17,0,495,11],[25,0,495,19],[26,0,495,20],[30,0,495,24],[31,0,495,25],[39,0,495,33],[40,0,495,34],[41,0,495,35]],[[9,0,496,5]],[[8,0,498,4],[12,0,498,8],[13,0,498,9],[35,0,498,31],[37,0,498,33],[38,0,498,34]],[[8,0,500,4],[12,0,500,8],[16,0,500,12],[17,0,500,13],[31,0,500,27],[33,0,500,29]],[[12,0,501,6],[16,0,501,10],[17,0,501,11],[38,0,501,32],[40,0,501,34],[41,0,501,35]],[[9,0,502,5]],[[8,0,504,4],[31,0,504,27]],[[8,0,505,4],[36,0,505,32]],[[8,0,506,4],[12,0,506,8]],[[4,0,507,2],[5,0,507,3]],[[4,0,509,2],[36,0,509,34]],[[4,0,510,9],[30,0,510,35],[31,0,510,36],[35,0,510,79]],[[8,0,511,4],[14,0,511,10],[21,0,511,17],[24,0,511,20],[28,0,511,24],[29,0,511,25],[36,0,511,32],[37,0,511,33]],[[8,0,513,4],[14,0,513,10],[22,0,513,18],[25,0,513,31]],[[12,0,514,6],[23,0,514,17],[25,0,514,19],[32,0,514,26],[33,0,514,27],[36,0,514,30],[37,0,514,31],[51,0,514,45],[52,0,514,46]],[[12,0,515,6],[18,0,515,12],[20,0,515,14],[27,0,515,21],[28,0,515,22],[31,0,515,25],[32,0,515,26],[40,0,515,34],[41,0,515,35]],[[12,0,516,6],[18,0,516,12],[20,0,516,14],[27,0,516,21],[28,0,516,22],[31,0,516,25],[32,0,516,26],[40,0,516,34],[41,0,516,35]],[[12,0,517,6],[21,0,517,15],[23,0,517,17],[30,0,517,24],[31,0,517,25],[34,0,517,28],[35,0,517,29],[47,0,517,41],[48,0,517,42]],[[12,0,518,6],[15,0,518,9],[17,0,518,11],[24,0,518,18],[25,0,518,19],[28,0,518,22],[29,0,518,23],[34,0,518,28],[35,0,518,29]],[[9,0,519,5],[10,0,519,6]],[[8,0,521,4],[12,0,521,8],[13,0,521,9],[24,0,521,20],[25,0,521,21],[33,0,521,29],[34,0,521,30],[35,0,521,31]],[[4,0,522,2],[5,0,522,3]],[[4,0,524,2],[40,0,524,38]],[[4,0,525,10],[30,0,525,36],[31,0,525,37],[35,0,525,46]],[[8,0,526,4],[14,0,526,10],[22,0,526,18],[25,0,526,31]],[[12,0,527,6],[23,0,527,17],[25,0,527,19],[29,0,527,23],[30,0,527,24],[42,0,527,36],[43,0,527,37]],[[12,0,528,6],[18,0,528,12],[20,0,528,14],[24,0,528,18],[25,0,528,19],[36,0,528,30],[37,0,528,31]],[[12,0,529,6],[18,0,529,12],[20,0,529,14],[24,0,529,18],[25,0,529,19],[33,0,529,27],[34,0,529,28]],[[12,0,530,6],[21,0,530,15],[23,0,530,17],[31,0,530,25]],[[12,0,531,6],[15,0,531,9],[17,0,531,11],[21,0,531,15],[22,0,531,16],[27,0,531,21],[28,0,531,22]],[[9,0,532,5],[10,0,532,6]],[[8,0,534,4],[12,0,534,8],[13,0,534,9],[24,0,534,20],[25,0,534,21],[33,0,534,29],[34,0,534,30],[35,0,534,31]],[[4,0,535,2],[5,0,535,3]],[[4,0,537,2],[41,0,537,39]],[[4,0,538,9],[26,0,538,31]],[[8,0,540,4],[14,0,540,10],[22,0,540,18],[25,0,540,31]],[[12,0,541,6],[23,0,541,17],[25,0,541,19],[29,0,541,23],[30,0,541,24],[42,0,541,36],[43,0,541,37],[50,0,541,44],[51,0,541,45],[64,0,541,58],[65,0,541,59]],[[12,0,542,6],[18,0,542,12],[20,0,542,14],[24,0,542,18],[25,0,542,19],[37,0,542,31],[38,0,542,32],[45,0,542,39],[46,0,542,40],[54,0,542,48],[55,0,542,49]],[[12,0,543,6],[18,0,543,12],[20,0,543,14],[24,0,543,18],[25,0,543,19],[37,0,543,31],[38,0,543,32],[45,0,543,39],[46,0,543,40],[54,0,543,48],[55,0,543,49]],[[12,0,544,6],[21,0,544,15],[23,0,544,17],[27,0,544,21],[28,0,544,22],[40,0,544,34],[41,0,544,35],[48,0,544,42],[49,0,544,43],[60,0,544,54],[61,0,544,55]],[[12,0,545,6],[15,0,545,9],[17,0,545,11],[21,0,545,15],[22,0,545,16],[34,0,545,28],[35,0,545,29],[42,0,545,36],[43,0,545,37],[48,0,545,42],[49,0,545,43]],[[9,0,546,5],[10,0,546,6]],[[8,0,548,4],[12,0,548,8],[16,0,548,12],[17,0,548,13],[30,0,548,26],[31,0,548,27],[39,0,548,35],[40,0,548,36],[42,0,548,38]],[[12,0,549,6],[16,0,549,10],[17,0,549,11],[25,0,549,19],[26,0,549,20],[30,0,549,24],[31,0,549,25],[39,0,549,33],[40,0,549,34],[41,0,549,35]],[[9,0,550,5]],[[4,0,551,2],[5,0,551,3]],[[4,0,553,2],[48,0,553,46]],[[4,0,554,10],[25,0,554,31]],[[8,0,555,4],[12,0,555,8],[13,0,555,9],[27,0,555,23],[28,0,555,24],[39,0,555,35],[40,0,555,36],[49,0,555,45],[50,0,555,46],[61,0,555,57],[62,0,555,58],[64,0,555,60]],[[12,0,556,6],[18,0,556,12],[26,0,556,20],[29,0,556,33]],[[16,0,557,8],[27,0,557,19],[29,0,557,21],[40,0,557,32],[41,0,557,33],[48,0,557,40],[49,0,557,41],[53,0,557,45],[64,0,557,56],[65,0,557,57],[77,0,557,69],[78,0,557,70]],[[16,0,558,8],[22,0,558,14],[24,0,558,16],[35,0,558,27],[36,0,558,28],[47,0,558,39],[48,0,558,40]],[[16,0,559,8],[22,0,559,14],[24,0,559,16],[35,0,559,27],[36,0,559,28],[44,0,559,36],[45,0,559,37]],[[16,0,560,8],[25,0,560,17],[27,0,560,19],[35,0,560,27]],[[16,0,561,8],[19,0,561,11],[21,0,561,13],[32,0,561,24],[33,0,561,25],[38,0,561,30],[39,0,561,31]],[[13,0,562,7],[14,0,562,8]],[[12,0,564,6],[16,0,564,10],[20,0,564,14],[21,0,564,15],[34,0,564,28],[35,0,564,29],[43,0,564,37],[44,0,564,38],[46,0,564,40]],[[16,0,565,8],[20,0,565,12],[21,0,565,13],[29,0,565,21],[30,0,565,22],[34,0,565,26],[35,0,565,27],[43,0,565,35],[44,0,565,36],[45,0,565,37]],[[13,0,566,7]],[[8,0,567,4],[9,0,567,5],[10,0,567,6],[11,0,567,7]],[[4,0,568,2],[5,0,568,3]],[[4,0,570,2]],[],[],[],[[7,0,574,5]],[[4,0,576,2],[33,0,576,31]],[[4,0,577,10],[15,0,577,21],[16,0,577,22],[24,0,577,40]],[[8,0,578,4],[12,0,578,8],[16,0,578,12],[17,0,578,13],[30,0,578,26],[31,0,578,27],[39,0,578,35],[40,0,578,36],[42,0,578,38]],[[12,0,580,6],[16,0,580,10],[17,0,580,11],[25,0,580,19],[26,0,580,20],[30,0,580,24],[31,0,580,25],[39,0,580,33],[40,0,580,34],[41,0,580,35]],[[12,0,582,6],[16,0,582,10],[17,0,582,11],[29,0,582,23],[30,0,582,24],[37,0,582,31],[38,0,582,32],[51,0,582,45],[53,0,582,47],[61,0,582,55],[62,0,582,56],[73,0,582,67],[74,0,582,68],[75,0,582,69]],[[12,0,583,6],[16,0,583,10],[17,0,583,11],[29,0,583,23],[30,0,583,24],[37,0,583,31],[38,0,583,32],[46,0,583,40],[48,0,583,42],[56,0,583,50],[57,0,583,51],[63,0,583,57],[64,0,583,58],[65,0,583,59]],[[12,0,584,6],[16,0,584,10],[17,0,584,11],[29,0,584,23],[30,0,584,24],[37,0,584,31],[38,0,584,32],[46,0,584,40],[48,0,584,42],[56,0,584,50],[57,0,584,51],[63,0,584,57],[64,0,584,58],[65,0,584,59]],[[12,0,585,6],[16,0,585,10],[17,0,585,11],[29,0,585,23],[30,0,585,24],[37,0,585,31],[38,0,585,32],[49,0,585,43],[51,0,585,45],[59,0,585,53],[60,0,585,54],[69,0,585,63],[70,0,585,64],[71,0,585,65]],[[12,0,586,6],[16,0,586,10],[17,0,586,11],[29,0,586,23],[30,0,586,24],[37,0,586,31],[38,0,586,32],[43,0,586,37],[45,0,586,39],[53,0,586,47],[54,0,586,48],[57,0,586,51],[58,0,586,52],[59,0,586,53]],[[12,0,588,6],[16,0,588,10],[20,0,588,14],[21,0,588,15],[29,0,588,23],[30,0,588,24],[35,0,588,29],[39,0,588,33],[43,0,588,37],[45,0,588,39]],[[16,0,589,8],[20,0,589,12],[21,0,589,13],[33,0,589,25],[34,0,589,26],[41,0,589,33],[42,0,589,34],[52,0,589,44],[54,0,589,46],[58,0,589,50],[59,0,589,51],[67,0,589,59],[68,0,589,60],[73,0,589,65],[74,0,589,66],[78,0,589,70],[79,0,589,71],[80,0,589,72]],[[13,0,590,7]],[[9,0,592,5]],[[4,0,593,2],[5,0,593,3]],[[4,0,596,2]],[],[],[],[[7,0,600,5]],[[4,0,602,2],[65,0,602,63]],[[4,0,603,10],[17,0,603,23],[18,0,603,24],[26,0,603,42]],[[8,0,605,4],[12,0,606,6],[20,0,606,14],[21,0,606,15],[32,0,606,26],[36,0,606,30],[40,0,606,34]],[[12,0,607,6],[20,0,607,14],[21,0,607,15],[27,0,607,21],[31,0,607,25],[35,0,607,29]],[[12,0,608,6],[20,0,608,14],[21,0,608,15],[27,0,608,21],[31,0,608,25],[35,0,608,29]],[[12,0,609,6],[20,0,609,14],[21,0,609,15],[30,0,609,24],[34,0,609,28],[38,0,609,32]],[[12,0,610,6],[20,0,610,14],[21,0,610,15],[24,0,610,18],[28,0,610,22],[32,0,610,26],[34,0,611,6]],[[12,0,612,6],[16,0,612,10],[20,0,612,14],[21,0,612,15],[29,0,612,23],[30,0,612,24],[35,0,612,29],[39,0,612,33],[43,0,612,37],[45,0,612,39]],[[16,0,613,8],[23,0,613,15],[31,0,613,23],[32,0,613,24],[38,0,613,30],[42,0,613,34],[46,0,613,38],[47,0,613,39],[55,0,613,47],[56,0,613,48],[61,0,613,53],[62,0,613,54],[68,0,613,60],[69,0,613,61]],[[13,0,614,7]],[[12,0,615,6],[19,0,615,13],[23,0,615,17],[24,0,615,18]],[[9,0,616,5]],[[8,0,617,4],[15,0,617,11],[20,0,617,16],[21,0,617,17]],[[4,0,618,2],[5,0,618,3]],[[4,0,621,2]],[],[],[],[[7,0,625,5]],[[4,0,627,10],[36,0,627,42],[37,0,627,43],[47,0,627,58]],[[8,0,628,4],[14,0,628,10],[26,0,628,22],[29,0,628,25],[37,0,628,33],[38,0,628,34],[41,0,628,37],[42,0,628,38],[43,0,628,39]],[[8,0,630,4],[14,0,630,10],[28,0,630,24],[31,0,630,27],[40,0,630,36],[41,0,630,37],[45,0,630,41],[46,0,630,42],[52,0,630,55],[54,0,630,57],[63,0,630,66],[64,0,630,67],[65,0,630,68],[69,0,630,72],[70,0,631,6],[75,0,631,11],[76,0,631,12],[82,0,631,18],[83,0,631,19],[85,0,632,6],[91,0,632,12],[92,0,632,13],[96,0,632,17],[97,0,632,18],[122,0,632,43],[123,0,632,44],[124,0,633,5],[125,0,633,6]],[[8,0,635,4],[22,0,635,18],[23,0,635,19],[32,0,635,28],[33,0,636,6],[37,0,636,10],[38,0,636,11],[64,0,636,37],[65,0,636,38],[69,0,636,42],[70,0,636,43],[74,0,636,47],[75,0,636,48],[76,0,637,5],[77,0,637,6]],[[8,0,639,4],[14,0,639,10],[32,0,639,28],[35,0,639,31],[47,0,639,43],[48,0,639,44],[57,0,639,53],[58,0,639,54],[61,0,639,57],[63,0,639,59]],[[12,0,640,6],[16,0,640,10],[26,0,640,20],[27,0,640,21],[33,0,640,27],[35,0,640,29]],[[16,0,641,8],[34,0,641,26],[35,0,641,27],[46,0,641,38],[48,0,641,40],[49,0,641,41]],[[13,0,642,7]],[[17,0,642,13]],[[16,0,643,8],[26,0,643,18],[27,0,643,19],[38,0,643,30],[39,0,643,31],[59,0,643,51],[61,0,643,53],[64,0,643,56],[65,0,643,57],[66,0,643,58]],[[13,0,644,7]],[[8,0,645,4],[9,0,645,5],[10,0,645,6],[11,0,645,7]],[[8,0,647,4],[15,0,647,11],[29,0,647,25],[30,0,647,26]],[[4,0,648,2],[5,0,648,3]],[[4,0,650,10],[29,0,650,35],[30,0,650,36],[34,0,650,45]],[[8,0,651,4],[12,0,651,8],[16,0,651,12],[17,0,651,13],[24,0,651,20],[29,0,651,25],[49,0,651,45],[53,0,651,49],[57,0,651,53],[58,0,651,54],[65,0,651,61],[70,0,651,66],[83,0,651,79],[85,0,651,81]],[[12,0,652,6],[19,0,652,13],[23,0,652,17],[24,0,652,18]],[[9,0,653,5]],[[4,0,654,2],[5,0,654,3]],[[4,0,657,2]],[],[],[],[[7,0,661,5]],[[4,0,663,2],[44,0,663,42]],[[4,0,664,10],[21,0,664,27],[22,0,664,28],[26,0,664,40]],[[8,0,665,4],[12,0,665,8],[16,0,665,12],[20,0,665,16],[24,0,665,20],[28,0,665,24],[32,0,665,28],[33,0,665,29],[40,0,665,36],[41,0,665,37],[50,0,665,46],[54,0,665,50],[58,0,665,54],[60,0,665,56]],[[12,0,666,6],[19,0,666,13],[23,0,666,17],[24,0,666,18]],[[9,0,667,5]],[[8,0,669,4],[15,0,669,11],[19,0,669,15],[20,0,669,16],[27,0,669,23],[28,0,669,24],[37,0,669,33],[38,0,669,34],[42,0,669,38],[43,0,670,6],[51,0,670,14],[52,0,670,15],[54,0,670,17],[55,0,670,18],[63,0,670,26],[64,0,670,27],[68,0,670,31],[73,0,670,36],[77,0,670,40],[78,0,671,5],[79,0,671,6]],[[4,0,672,2],[5,0,672,3]],[[103,0,30,13],[122,0,30,32],[166,0,74,12],[174,0,74,20],[187,0,75,12],[208,0,75,33],[221,0,76,12],[232,0,76,23]],[[107,0,30,13],[126,0,30,32],[140,0,28,14],[146,0,28,20]],[],[[91,0,30,13],[110,0,30,32]],[[18,0,27,1],[28,0,27,11]],[[19,0,27,12]],[[20,0,28,2],[30,0,28,12],[32,0,28,14],[38,0,28,20]],[[17,0,29,1]],[],[[26,0,74,5],[32,0,74,11]],[[27,0,74,12],[35,0,74,20]],[],[[26,0,75,5],[32,0,75,11]],[[27,0,75,12],[48,0,75,33]],[],[[26,0,76,5],[32,0,76,11]],[[27,0,76,12],[38,0,76,23]],[],[[26,0,77,5],[34,0,77,13]],[],[[26,0,78,5],[34,0,78,13]]],"sourcesContent":["import { Injectable, Optional, Inject, PLATFORM_ID } from '@angular/core';\nimport { ActivatedRoute, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { HttpClient, HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { isPlatformServer } from '@angular/common';\n\nimport { Observable, fromEvent, interval, BehaviorSubject } from 'rxjs';\nimport { pluck, filter, share, finalize } from 'rxjs/operators';\n\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\n\nimport {\n  SignInData,\n  RegisterData,\n  UpdatePasswordData,\n  ResetPasswordData,\n\n  UserType,\n  UserData,\n  AuthData,\n  ApiResponse,\n\n  AngularTokenOptions,\n\n  TokenPlatform,\n  TokenInAppBrowser,\n} from './angular-token.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AngularTokenService  {\n\n  get currentUserType(): string {\n    if (this.userType.value != null) {\n      return this.userType.value.name;\n    } else {\n      return undefined;\n    }\n  }\n\n  get currentUserData(): UserData {\n    return this.userData.value;\n  }\n\n  get currentAuthData(): AuthData {\n    return this.authData.value;\n  }\n\n  get apiBase(): string {\n    console.warn('[angular-token] The attribute .apiBase will be removed in the next major release, please use' +\n      '.tokenOptions.apiBase instead');\n    return this.options.apiBase;\n  }\n\n  get tokenOptions(): AngularTokenOptions {\n    return this.options;\n  }\n\n  set tokenOptions(options: AngularTokenOptions) {\n    this.options = (<any>Object).assign(this.options, options);\n  }\n\n  private options: AngularTokenOptions;\n  public userType: BehaviorSubject<UserType> = new BehaviorSubject<UserType>(null);\n  public authData: BehaviorSubject<AuthData> = new BehaviorSubject<AuthData>(null);\n  public userData: BehaviorSubject<UserData> = new BehaviorSubject<UserData>(null);\n  private global: Partial<Window>;\n\n  private localStorage: Storage | any = {};\n\n  constructor(\n    private http: HttpClient,\n    // \"any\" used here to assuage environments where type Window does not exist at build time.\n    // It's assigned to global in the constructor which has the proper typing.\n    @Inject('Window') private window: any,\n    @Inject(ANGULAR_TOKEN_OPTIONS) config: any,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Optional() private activatedRoute: ActivatedRoute,\n    @Optional() private router: Router\n  ) {\n    this.global = (typeof this.window !== 'undefined') ? this.window : {};\n\n    if (isPlatformServer(this.platformId)) {\n\n      // Bad pratice, needs fixing\n      this.global = {\n        open: (): Window => null,\n        location: {\n          href: '/',\n          origin: '/'\n        } as any\n      };\n\n      // Bad pratice, needs fixing\n      this.localStorage.setItem = (): void => null;\n      this.localStorage.getItem = (): void => null;\n      this.localStorage.removeItem = (): void => null;\n    } else {\n      this.localStorage = localStorage;\n    }\n\n    const defaultOptions: AngularTokenOptions = {\n      apiPath: null,\n      apiBase: null,\n\n      signInPath: 'auth/sign_in',\n      signInRedirect: null,\n      signInStoredUrlStorageKey: null,\n\n      signOutPath: 'auth/sign_out',\n      validateTokenPath: 'auth/validate_token',\n      signOutFailedValidate: false,\n\n      registerAccountPath: 'auth',\n      deleteAccountPath: 'auth',\n      registerAccountCallback: this.global.location.href,\n\n      updatePasswordPath: 'auth',\n\n      resetPasswordPath: 'auth/password',\n      resetPasswordCallback: this.global.location.href,\n\n      userTypes: null,\n      loginField: 'email',\n\n      oAuthBase: this.global.location.origin,\n      oAuthPaths: {\n        github: 'auth/github'\n      },\n      oAuthCallbackPath: 'oauth_callback',\n      oAuthWindowType: 'newWindow',\n      oAuthWindowOptions: null,\n\n      oAuthBrowserCallbacks: {\n        github: 'auth/github/callback',\n      },\n    };\n\n    const mergedOptions = (<any>Object).assign(defaultOptions, config);\n    this.options = mergedOptions;\n\n    if (this.options.apiBase === null) {\n      console.warn(`[angular-token] You have not configured 'apiBase', which may result in security issues. ` +\n        `Please refer to the documentation at https://github.com/neroniaky/angular-token/wiki`);\n    }\n\n    this.tryLoadAuthData();\n  }\n\n  userSignedIn(): boolean {\n    if (this.authData.value == null) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.userSignedIn()) {\n      return true;\n    } else {\n      // Store current location in storage (usefull for redirection after signing in)\n      if (this.options.signInStoredUrlStorageKey) {\n        this.localStorage.setItem(\n          this.options.signInStoredUrlStorageKey,\n          state.url\n        );\n      }\n\n      // Redirect user to sign in if signInRedirect is set\n      if (this.router && this.options.signInRedirect) {\n        this.router.navigate([this.options.signInRedirect]);\n      }\n\n      return false;\n    }\n  }\n\n\n  /**\n   *\n   * Actions\n   *\n   */\n\n  // Register request\n  registerAccount(registerData: RegisterData, additionalData?: any): Observable<ApiResponse> {\n\n    registerData = Object.assign({}, registerData);\n\n    if (registerData.userType == null) {\n      this.userType.next(null);\n    } else {\n      this.userType.next(this.getUserTypeByName(registerData.userType));\n      delete registerData.userType;\n    }\n\n    if (\n      registerData.password_confirmation == null &&\n      registerData.passwordConfirmation != null\n    ) {\n      registerData.password_confirmation = registerData.passwordConfirmation;\n      delete registerData.passwordConfirmation;\n    }\n\n    if (additionalData !== undefined) {\n      registerData.additionalData = additionalData;\n    }\n\n    const login = registerData.login;\n    delete registerData.login;\n    registerData[this.options.loginField] = login;\n\n    registerData.confirm_success_url = this.options.registerAccountCallback;\n\n    return this.http.post<ApiResponse>(\n      this.getServerPath() + this.options.registerAccountPath, registerData\n    );\n  }\n\n  // Delete Account\n  deleteAccount(): Observable<ApiResponse> {\n    return this.http.delete<ApiResponse>(this.getServerPath() + this.options.deleteAccountPath);\n  }\n\n  // Sign in request and set storage\n  signIn(signInData: SignInData, additionalData?: any): Observable<ApiResponse> {\n    this.userType.next((signInData.userType == null) ? null : this.getUserTypeByName(signInData.userType));\n\n    const body = {\n      [this.options.loginField]: signInData.login,\n      password: signInData.password\n    };\n\n    if (additionalData !== undefined) {\n      body['additionalData'] = additionalData;\n    }\n\n    const observ = this.http.post<ApiResponse>(\n      this.getServerPath() + this.options.signInPath, body\n    ).pipe(share());\n\n    observ.subscribe(res => this.userData.next(res.data));\n\n    return observ;\n  }\n\n  signInOAuth(oAuthType: string, inAppBrowser?: TokenInAppBrowser<any, any>, platform?: TokenPlatform) {\n\n    const oAuthPath: string = this.getOAuthPath(oAuthType);\n    const callbackUrl: string = new URL(this.options.oAuthCallbackPath, this.global.location.origin).href;\n    const oAuthWindowType: string = this.options.oAuthWindowType;\n    const authUrl: string = this.getOAuthUrl(oAuthPath, callbackUrl, oAuthWindowType);\n\n    if (oAuthWindowType === 'newWindow' ||\n      (oAuthWindowType == 'inAppBrowser' && (!platform || !platform.is('cordova') || !(platform.is('ios') || platform.is('android'))))) {\n      const oAuthWindowOptions = this.options.oAuthWindowOptions;\n      let windowOptions = '';\n\n      if (oAuthWindowOptions) {\n        for (const key in oAuthWindowOptions) {\n          if (oAuthWindowOptions.hasOwnProperty(key)) {\n            windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n          }\n        }\n      }\n\n      const popup = this.window.open(\n        authUrl,\n        '_blank',\n        `closebuttoncaption=Cancel${windowOptions}`\n      );\n      return this.requestCredentialsViaPostMessage(popup);\n    } else if (oAuthWindowType == 'inAppBrowser') {\n      let oAuthBrowserCallback = this.options.oAuthBrowserCallbacks[oAuthType];\n      if (!oAuthBrowserCallback) {\n        throw new Error(`To login with oAuth provider ${oAuthType} using inAppBrowser the callback (in oAuthBrowserCallbacks) is required.`);\n      }\n      // let oAuthWindowOptions = this.options.oAuthWindowOptions;\n      // let windowOptions = '';\n\n      //  if (oAuthWindowOptions) {\n      //     for (let key in oAuthWindowOptions) {\n      //         windowOptions += `,${key}=${oAuthWindowOptions[key]}`;\n      //     }\n      // }\n\n      let browser = inAppBrowser.create(\n        authUrl,\n        '_blank',\n        'location=no'\n      );\n\n      return new Observable((observer) => {\n        browser.on('loadstop').subscribe((ev: any) => {\n          if (ev.url.indexOf(oAuthBrowserCallback) > -1) {\n            browser.executeScript({ code: \"requestCredentials();\" }).then((credentials: any) => {\n              this.getAuthDataFromPostMessage(credentials[0]);\n\n              let pollerObserv = interval(400);\n\n              let pollerSubscription = pollerObserv.subscribe(() => {\n                if (this.userSignedIn()) {\n                  observer.next(this.authData);\n                  observer.complete();\n\n                  pollerSubscription.unsubscribe();\n                  browser.close();\n                }\n              }, (error: any) => {\n                observer.error(error);\n                observer.complete();\n              });\n            }, (error: any) => {\n              observer.error(error);\n              observer.complete();\n            });\n          }\n        }, (error: any) => {\n          observer.error(error);\n          observer.complete();\n        });\n      })\n    } else if (oAuthWindowType === 'sameWindow') {\n      this.global.location.href = authUrl;\n      return undefined;\n    } else {\n      throw new Error(`Unsupported oAuthWindowType \"${oAuthWindowType}\"`);\n    }\n  }\n\n  processOAuthCallback(): void {\n    this.getAuthDataFromParams();\n  }\n\n  // Sign out request and delete storage\n  signOut(): Observable<ApiResponse> {\n    return this.http.delete<ApiResponse>(this.getServerPath() + this.options.signOutPath)\n      // Only remove the localStorage and clear the data after the call\n      .pipe(\n        finalize(() => {\n          this.localStorage.removeItem('accessToken');\n          this.localStorage.removeItem('client');\n          this.localStorage.removeItem('expiry');\n          this.localStorage.removeItem('tokenType');\n          this.localStorage.removeItem('uid');\n\n          this.authData.next(null);\n          this.userType.next(null);\n          this.userData.next(null);\n        }\n        )\n      );\n  }\n\n  // Validate token request\n  validateToken(): Observable<ApiResponse> {\n    const observ = this.http.get<ApiResponse>(\n      this.getServerPath() + this.options.validateTokenPath\n    ).pipe(share());\n\n    observ.subscribe(\n      (res) => this.userData.next(res.data),\n      (error) => {\n        if (error.status === 401 && this.options.signOutFailedValidate) {\n          this.signOut();\n        }\n      });\n\n    return observ;\n  }\n\n  // Update password request\n  updatePassword(updatePasswordData: UpdatePasswordData): Observable<ApiResponse> {\n\n    if (updatePasswordData.userType != null) {\n      this.userType.next(this.getUserTypeByName(updatePasswordData.userType));\n    }\n\n    let args: any;\n\n    if (updatePasswordData.passwordCurrent == null) {\n      args = {\n        password: updatePasswordData.password,\n        password_confirmation: updatePasswordData.passwordConfirmation\n      };\n    } else {\n      args = {\n        current_password: updatePasswordData.passwordCurrent,\n        password: updatePasswordData.password,\n        password_confirmation: updatePasswordData.passwordConfirmation\n      };\n    }\n\n    if (updatePasswordData.resetPasswordToken) {\n      args.reset_password_token = updatePasswordData.resetPasswordToken;\n    }\n\n    const body = args;\n    return this.http.put<ApiResponse>(this.getServerPath() + this.options.updatePasswordPath, body);\n  }\n\n  // Reset password request\n  resetPassword(resetPasswordData: ResetPasswordData, additionalData?: any): Observable<ApiResponse> {\n\n\n    if (additionalData !== undefined) {\n      resetPasswordData.additionalData = additionalData;\n    }\n\n    this.userType.next(\n      (resetPasswordData.userType == null) ? null : this.getUserTypeByName(resetPasswordData.userType)\n    );\n\n    const body = {\n      [this.options.loginField]: resetPasswordData.login,\n      redirect_url: this.options.resetPasswordCallback\n    };\n\n    return this.http.post<ApiResponse>(this.getServerPath() + this.options.resetPasswordPath, body);\n  }\n\n\n  /**\n   *\n   * Construct Paths / Urls\n   *\n   */\n\n  private getUserPath(): string {\n    return (this.userType.value == null) ? '' : this.userType.value.path + '/';\n  }\n\n  private addTrailingSlashIfNeeded(url: string): string {\n    const lastChar = url[url.length - 1];\n\n    return lastChar === '/' ? url : url + '/';\n  }\n\n  private getApiPath(): string {\n    let constructedPath = '';\n\n    if (this.options.apiBase != null) {\n      constructedPath += this.addTrailingSlashIfNeeded(this.options.apiBase);\n    }\n\n    if (this.options.apiPath != null) {\n      constructedPath += this.addTrailingSlashIfNeeded(this.options.apiPath);\n    }\n\n    return constructedPath;\n  }\n\n  private getServerPath(): string {\n    return this.getApiPath() + this.getUserPath();\n  }\n\n  private getOAuthPath(oAuthType: string): string {\n    let oAuthPath: string;\n\n    oAuthPath = this.options.oAuthPaths[oAuthType];\n\n    if (oAuthPath == null) {\n      oAuthPath = `/auth/${oAuthType}`;\n    }\n\n    return oAuthPath;\n  }\n\n  private getOAuthUrl(oAuthPath: string, callbackUrl: string, windowType: string): string {\n    let url = new URL(\n      `${oAuthPath}?omniauth_window_type=${windowType}&auth_origin_url=${encodeURIComponent(callbackUrl)}`,\n      this.options.oAuthBase\n    ).href\n\n    if (this.userType.value != null) {\n      url += `&resource_class=${this.userType.value.name}`;\n    }\n\n    return url;\n  }\n\n\n  /**\n   *\n   * Get Auth Data\n   *\n   */\n\n  // Try to load auth data\n  private tryLoadAuthData(): void {\n\n    const userType = this.getUserTypeByName(this.localStorage.getItem('userType'));\n\n    if (userType) {\n      this.userType.next(userType);\n    }\n\n    this.getAuthDataFromStorage();\n\n    if (this.activatedRoute) {\n      this.getAuthDataFromParams();\n    }\n\n    // if (this.authData) {\n    //     this.validateToken();\n    // }\n  }\n\n  // Parse Auth data from response\n  public getAuthHeadersFromResponse(data: HttpResponse<any> | HttpErrorResponse): void {\n    const headers = data.headers;\n\n    const authData: AuthData = {\n      accessToken: headers.get('access-token'),\n      client: headers.get('client'),\n      expiry: headers.get('expiry'),\n      tokenType: headers.get('token-type'),\n      uid: headers.get('uid')\n    };\n\n    this.setAuthData(authData);\n  }\n\n  // Parse Auth data from post message\n  private getAuthDataFromPostMessage(data: any): void {\n    const authData: AuthData = {\n      accessToken: data['auth_token'],\n      client: data['client_id'],\n      expiry: data['expiry'],\n      tokenType: 'Bearer',\n      uid: data['uid']\n    };\n\n    this.setAuthData(authData);\n  }\n\n  // Try to get auth data from storage.\n  public getAuthDataFromStorage(): void {\n\n    const authData: AuthData = {\n      accessToken: this.localStorage.getItem('accessToken'),\n      client: this.localStorage.getItem('client'),\n      expiry: this.localStorage.getItem('expiry'),\n      tokenType: this.localStorage.getItem('tokenType'),\n      uid: this.localStorage.getItem('uid')\n    };\n\n    if (this.checkAuthData(authData)) {\n      this.authData.next(authData);\n    }\n  }\n\n  // Try to get auth data from url parameters.\n  private getAuthDataFromParams(): void {\n    this.activatedRoute.queryParams.subscribe(queryParams => {\n      const authData: AuthData = {\n        accessToken: queryParams['token'] || queryParams['auth_token'],\n        client: queryParams['client_id'],\n        expiry: queryParams['expiry'],\n        tokenType: 'Bearer',\n        uid: queryParams['uid']\n      };\n\n      if (this.checkAuthData(authData)) {\n        this.authData.next(authData);\n      }\n    });\n  }\n\n  /**\n   *\n   * Set Auth Data\n   *\n   */\n\n  // Write auth data to storage\n  private setAuthData(authData: AuthData): void {\n    if (this.checkAuthData(authData)) {\n\n      this.authData.next(authData);\n\n      this.localStorage.setItem('accessToken', authData.accessToken);\n      this.localStorage.setItem('client', authData.client);\n      this.localStorage.setItem('expiry', authData.expiry);\n      this.localStorage.setItem('tokenType', authData.tokenType);\n      this.localStorage.setItem('uid', authData.uid);\n\n      if (this.userType.value != null) {\n        this.localStorage.setItem('userType', this.userType.value.name);\n      }\n\n    }\n  }\n\n\n  /**\n   *\n   * Validate Auth Data\n   *\n   */\n\n  // Check if auth data complete and if response token is newer\n  private checkAuthData(authData: AuthData): boolean {\n\n    if (\n      authData.accessToken != null &&\n      authData.client != null &&\n      authData.expiry != null &&\n      authData.tokenType != null &&\n      authData.uid != null\n    ) {\n      if (this.authData.value != null) {\n        return authData.expiry >= this.authData.value.expiry;\n      }\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   *\n   * OAuth\n   *\n   */\n\n  private requestCredentialsViaPostMessage(authWindow: any): Observable<any> {\n    const pollerObserv = interval(500);\n\n    const responseObserv = fromEvent(this.global as any, 'message').pipe(\n      pluck('data'),\n      filter(this.oAuthWindowResponseFilter)\n    );\n\n    responseObserv.subscribe(\n      this.getAuthDataFromPostMessage.bind(this)\n    );\n\n    const pollerSubscription = pollerObserv.subscribe(() => {\n      if (authWindow.closed) {\n        pollerSubscription.unsubscribe();\n      } else {\n        authWindow.postMessage('requestCredentials', '*');\n      }\n    });\n\n    return responseObserv;\n  }\n\n  private oAuthWindowResponseFilter(data: any): any {\n    if (data.message === 'deliverCredentials' || data.message === 'authFailure') {\n      return data;\n    }\n  }\n\n\n  /**\n   *\n   * Utilities\n   *\n   */\n\n  // Match user config by user config name\n  private getUserTypeByName(name: string): UserType {\n    if (name == null || this.options.userTypes == null) {\n      return null;\n    }\n\n    return this.options.userTypes.find(\n      userType => userType.name === name\n    );\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/common":{"attributes":{},"external":true,"id":"@angular/common","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/common/http":{"attributes":{},"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/router":{"attributes":{},"external":true,"id":"@angular/router","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./angular-token.token":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":6798,"body":[{"type":"ImportDeclaration","start":0,"end":43,"source":{"type":"Literal","start":27,"end":42,"raw":"'@angular/core'","value":"@angular/core"},"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"attributes":[]},{"type":"ImportDeclaration","start":44,"end":115,"source":{"type":"Literal","start":92,"end":114,"raw":"'@angular/common/http'","value":"@angular/common/http"},"specifiers":[{"type":"ImportSpecifier","start":53,"end":65,"imported":{"type":"Identifier","start":53,"end":65,"name":"HttpResponse"},"local":{"type":"Identifier","start":53,"end":65,"name":"HttpResponse"}},{"type":"ImportSpecifier","start":67,"end":84,"imported":{"type":"Identifier","start":67,"end":84,"name":"HttpErrorResponse"},"local":{"type":"Identifier","start":67,"end":84,"name":"HttpErrorResponse"}}],"attributes":[]},{"type":"ImportDeclaration","start":116,"end":153,"source":{"type":"Literal","start":136,"end":152,"raw":"'rxjs/operators'","value":"rxjs/operators"},"specifiers":[{"type":"ImportSpecifier","start":125,"end":128,"imported":{"type":"Identifier","start":125,"end":128,"name":"tap"},"local":{"type":"Identifier","start":125,"end":128,"name":"tap"}}],"attributes":[]},{"type":"ImportDeclaration","start":154,"end":190,"source":{"type":"Literal","start":174,"end":189,"raw":"\"@angular/core\"","value":"@angular/core"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":161,"end":168,"local":{"type":"Identifier","start":166,"end":168,"name":"i0"}}],"attributes":[]},{"type":"ImportDeclaration","start":191,"end":237,"source":{"type":"Literal","start":211,"end":236,"raw":"\"./angular-token.service\"","value":"./angular-token.service"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":198,"end":205,"local":{"type":"Identifier","start":203,"end":205,"name":"i1"}}],"attributes":[]},{"type":"ExportNamedDeclaration","start":238,"end":1982,"declaration":{"type":"ClassDeclaration","start":245,"end":1982,"body":{"type":"ClassBody","start":275,"end":1982,"body":[{"type":"PropertyDefinition","start":281,"end":294,"computed":false,"key":{"type":"Identifier","start":281,"end":293,"name":"tokenService"},"static":false,"value":null},{"type":"MethodDefinition","start":299,"end":374,"computed":false,"key":{"type":"Identifier","start":299,"end":310,"name":"constructor"},"kind":"constructor","static":false,"value":{"type":"FunctionExpression","start":310,"end":374,"async":false,"body":{"type":"BlockStatement","start":325,"body":[{"type":"ExpressionStatement","start":335,"end":368,"expression":{"type":"AssignmentExpression","start":335,"end":367,"left":{"type":"MemberExpression","start":335,"end":352,"computed":false,"object":{"type":"ThisExpression","start":335,"end":339},"optional":false,"property":{"type":"Identifier","start":340,"end":352,"name":"tokenService"}},"operator":"=","right":{"type":"Identifier","start":355,"end":367,"name":"tokenService"}}}],"end":374},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":311,"end":323,"name":"tokenService"}]}},{"type":"MethodDefinition","start":379,"end":1256,"computed":false,"key":{"type":"Identifier","start":379,"end":388,"name":"intercept"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":388,"end":1256,"async":false,"body":{"type":"BlockStatement","start":400,"body":[{"type":"ExpressionStatement","start":454,"end":497,"expression":{"type":"CallExpression","start":454,"end":496,"arguments":[],"callee":{"type":"MemberExpression","start":454,"end":494,"computed":false,"object":{"type":"MemberExpression","start":454,"end":471,"computed":false,"object":{"type":"ThisExpression","start":454,"end":458},"optional":false,"property":{"type":"Identifier","start":459,"end":471,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":472,"end":494,"name":"getAuthDataFromStorage"}},"optional":false}},{"type":"VariableDeclaration","start":582,"end":632,"declarations":[{"type":"VariableDeclarator","start":588,"end":631,"id":{"type":"Identifier","start":588,"end":596,"name":"authData"},"init":{"type":"MemberExpression","start":599,"end":631,"computed":false,"object":{"type":"MemberExpression","start":599,"end":625,"computed":false,"object":{"type":"MemberExpression","start":599,"end":616,"computed":false,"object":{"type":"ThisExpression","start":599,"end":603},"optional":false,"property":{"type":"Identifier","start":604,"end":616,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":617,"end":625,"name":"authData"}},"optional":false,"property":{"type":"Identifier","start":626,"end":631,"name":"value"}}}],"kind":"const"},{"type":"IfStatement","start":641,"end":1141,"alternate":null,"consequent":{"type":"BlockStatement","start":777,"body":[{"type":"VariableDeclaration","start":791,"end":1049,"declarations":[{"type":"VariableDeclarator","start":797,"end":1048,"id":{"type":"Identifier","start":797,"end":804,"name":"headers"},"init":{"type":"ObjectExpression","start":807,"end":1048,"properties":[{"type":"Property","start":825,"end":861,"computed":false,"key":{"type":"Literal","start":825,"end":839,"raw":"'access-token'","value":"access-token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":841,"end":861,"computed":false,"object":{"type":"Identifier","start":841,"end":849,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":850,"end":861,"name":"accessToken"}}},{"type":"Property","start":879,"end":904,"computed":false,"key":{"type":"Literal","start":879,"end":887,"raw":"'client'","value":"client"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":889,"end":904,"computed":false,"object":{"type":"Identifier","start":889,"end":897,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":898,"end":904,"name":"client"}}},{"type":"Property","start":922,"end":947,"computed":false,"key":{"type":"Literal","start":922,"end":930,"raw":"'expiry'","value":"expiry"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":932,"end":947,"computed":false,"object":{"type":"Identifier","start":932,"end":940,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":941,"end":947,"name":"expiry"}}},{"type":"Property","start":965,"end":997,"computed":false,"key":{"type":"Literal","start":965,"end":977,"raw":"'token-type'","value":"token-type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":979,"end":997,"computed":false,"object":{"type":"Identifier","start":979,"end":987,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":988,"end":997,"name":"tokenType"}}},{"type":"Property","start":1015,"end":1034,"computed":false,"key":{"type":"Literal","start":1015,"end":1020,"raw":"'uid'","value":"uid"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":1022,"end":1034,"computed":false,"object":{"type":"Identifier","start":1022,"end":1030,"name":"authData"},"optional":false,"property":{"type":"Identifier","start":1031,"end":1034,"name":"uid"}}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1062,"end":1131,"expression":{"type":"AssignmentExpression","start":1062,"end":1130,"left":{"type":"Identifier","start":1062,"end":1065,"name":"req"},"operator":"=","right":{"type":"CallExpression","start":1068,"end":1130,"arguments":[{"type":"ObjectExpression","start":1078,"end":1129,"properties":[{"type":"Property","start":1096,"end":1115,"computed":false,"key":{"type":"Identifier","start":1096,"end":1106,"name":"setHeaders"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1108,"end":1115,"name":"headers"}}]}],"callee":{"type":"MemberExpression","start":1068,"end":1077,"computed":false,"object":{"type":"Identifier","start":1068,"end":1071,"name":"req"},"optional":false,"property":{"type":"Identifier","start":1072,"end":1077,"name":"clone"}},"optional":false}}}],"end":1141},"test":{"type":"LogicalExpression","start":645,"end":775,"left":{"type":"Identifier","start":645,"end":653,"name":"authData"},"operator":"&&","right":{"type":"LogicalExpression","start":670,"end":774,"left":{"type":"BinaryExpression","start":670,"end":717,"left":{"type":"MemberExpression","start":670,"end":708,"computed":false,"object":{"type":"MemberExpression","start":670,"end":700,"computed":false,"object":{"type":"MemberExpression","start":670,"end":687,"computed":false,"object":{"type":"ThisExpression","start":670,"end":674},"optional":false,"property":{"type":"Identifier","start":675,"end":687,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":688,"end":700,"name":"tokenOptions"}},"optional":false,"property":{"type":"Identifier","start":701,"end":708,"name":"apiBase"}},"operator":"===","right":{"type":"Literal","start":713,"end":717,"raw":"null","value":null}},"operator":"||","right":{"type":"CallExpression","start":721,"end":774,"arguments":[{"type":"MemberExpression","start":735,"end":773,"computed":false,"object":{"type":"MemberExpression","start":735,"end":765,"computed":false,"object":{"type":"MemberExpression","start":735,"end":752,"computed":false,"object":{"type":"ThisExpression","start":735,"end":739},"optional":false,"property":{"type":"Identifier","start":740,"end":752,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":753,"end":765,"name":"tokenOptions"}},"optional":false,"property":{"type":"Identifier","start":766,"end":773,"name":"apiBase"}}],"callee":{"type":"MemberExpression","start":721,"end":734,"computed":false,"object":{"type":"MemberExpression","start":721,"end":728,"computed":false,"object":{"type":"Identifier","start":721,"end":724,"name":"req"},"optional":false,"property":{"type":"Identifier","start":725,"end":728,"name":"url"}},"optional":false,"property":{"type":"Identifier","start":729,"end":734,"name":"match"}},"optional":false}}}},{"type":"ReturnStatement","start":1150,"end":1250,"argument":{"type":"CallExpression","start":1157,"end":1249,"arguments":[{"type":"CallExpression","start":1179,"end":1248,"arguments":[{"type":"ArrowFunctionExpression","start":1183,"end":1214,"async":false,"body":{"type":"CallExpression","start":1190,"end":1214,"arguments":[{"type":"Identifier","start":1210,"end":1213,"name":"res"}],"callee":{"type":"MemberExpression","start":1190,"end":1209,"computed":false,"object":{"type":"ThisExpression","start":1190,"end":1194},"optional":false,"property":{"type":"Identifier","start":1195,"end":1209,"name":"handleResponse"}},"optional":false},"expression":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1183,"end":1186,"name":"res"}]},{"type":"ArrowFunctionExpression","start":1216,"end":1247,"async":false,"body":{"type":"CallExpression","start":1223,"end":1247,"arguments":[{"type":"Identifier","start":1243,"end":1246,"name":"err"}],"callee":{"type":"MemberExpression","start":1223,"end":1242,"computed":false,"object":{"type":"ThisExpression","start":1223,"end":1227},"optional":false,"property":{"type":"Identifier","start":1228,"end":1242,"name":"handleResponse"}},"optional":false},"expression":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1216,"end":1219,"name":"err"}]}],"callee":{"type":"Identifier","start":1179,"end":1182,"name":"tap"},"optional":false}],"callee":{"type":"MemberExpression","start":1157,"end":1178,"computed":false,"object":{"type":"CallExpression","start":1157,"end":1173,"arguments":[{"type":"Identifier","start":1169,"end":1172,"name":"req"}],"callee":{"type":"MemberExpression","start":1157,"end":1168,"computed":false,"object":{"type":"Identifier","start":1157,"end":1161,"name":"next"},"optional":false,"property":{"type":"Identifier","start":1162,"end":1168,"name":"handle"}},"optional":false},"optional":false,"property":{"type":"Identifier","start":1174,"end":1178,"name":"pipe"}},"optional":false}}],"end":1256},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":389,"end":392,"name":"req"},{"type":"Identifier","start":394,"end":398,"name":"next"}]}},{"type":"MethodDefinition","start":1298,"end":1632,"computed":false,"key":{"type":"Identifier","start":1298,"end":1312,"name":"handleResponse"},"kind":"method","static":false,"value":{"type":"FunctionExpression","start":1312,"end":1632,"async":false,"body":{"type":"BlockStatement","start":1318,"body":[{"type":"IfStatement","start":1328,"end":1626,"alternate":null,"consequent":{"type":"BlockStatement","start":1397,"body":[{"type":"IfStatement","start":1411,"end":1616,"alternate":null,"consequent":{"type":"BlockStatement","start":1534,"body":[{"type":"ExpressionStatement","start":1552,"end":1602,"expression":{"type":"CallExpression","start":1552,"end":1601,"arguments":[{"type":"Identifier","start":1597,"end":1600,"name":"res"}],"callee":{"type":"MemberExpression","start":1552,"end":1596,"computed":false,"object":{"type":"MemberExpression","start":1552,"end":1569,"computed":false,"object":{"type":"ThisExpression","start":1552,"end":1556},"optional":false,"property":{"type":"Identifier","start":1557,"end":1569,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":1570,"end":1596,"name":"getAuthHeadersFromResponse"}},"optional":false}}],"end":1616},"test":{"type":"LogicalExpression","start":1415,"end":1532,"left":{"type":"BinaryExpression","start":1415,"end":1462,"left":{"type":"MemberExpression","start":1415,"end":1453,"computed":false,"object":{"type":"MemberExpression","start":1415,"end":1445,"computed":false,"object":{"type":"MemberExpression","start":1415,"end":1432,"computed":false,"object":{"type":"ThisExpression","start":1415,"end":1419},"optional":false,"property":{"type":"Identifier","start":1420,"end":1432,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":1433,"end":1445,"name":"tokenOptions"}},"optional":false,"property":{"type":"Identifier","start":1446,"end":1453,"name":"apiBase"}},"operator":"===","right":{"type":"Literal","start":1458,"end":1462,"raw":"null","value":null}},"operator":"||","right":{"type":"LogicalExpression","start":1467,"end":1531,"left":{"type":"MemberExpression","start":1467,"end":1474,"computed":false,"object":{"type":"Identifier","start":1467,"end":1470,"name":"res"},"optional":false,"property":{"type":"Identifier","start":1471,"end":1474,"name":"url"}},"operator":"&&","right":{"type":"CallExpression","start":1478,"end":1531,"arguments":[{"type":"MemberExpression","start":1492,"end":1530,"computed":false,"object":{"type":"MemberExpression","start":1492,"end":1522,"computed":false,"object":{"type":"MemberExpression","start":1492,"end":1509,"computed":false,"object":{"type":"ThisExpression","start":1492,"end":1496},"optional":false,"property":{"type":"Identifier","start":1497,"end":1509,"name":"tokenService"}},"optional":false,"property":{"type":"Identifier","start":1510,"end":1522,"name":"tokenOptions"}},"optional":false,"property":{"type":"Identifier","start":1523,"end":1530,"name":"apiBase"}}],"callee":{"type":"MemberExpression","start":1478,"end":1491,"computed":false,"object":{"type":"MemberExpression","start":1478,"end":1485,"computed":false,"object":{"type":"Identifier","start":1478,"end":1481,"name":"res"},"optional":false,"property":{"type":"Identifier","start":1482,"end":1485,"name":"url"}},"optional":false,"property":{"type":"Identifier","start":1486,"end":1491,"name":"match"}},"optional":false}}}}],"end":1626},"test":{"type":"LogicalExpression","start":1332,"end":1395,"left":{"type":"BinaryExpression","start":1332,"end":1359,"left":{"type":"Identifier","start":1332,"end":1335,"name":"res"},"operator":"instanceof","right":{"type":"Identifier","start":1347,"end":1359,"name":"HttpResponse"}},"operator":"||","right":{"type":"BinaryExpression","start":1363,"end":1395,"left":{"type":"Identifier","start":1363,"end":1366,"name":"res"},"operator":"instanceof","right":{"type":"Identifier","start":1378,"end":1395,"name":"HttpErrorResponse"}}}}],"end":1632},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1313,"end":1316,"name":"res"}]}},{"type":"PropertyDefinition","start":1637,"end":1845,"computed":false,"key":{"type":"Identifier","start":1644,"end":1648,"name":"ɵfac"},"static":true,"value":{"type":"CallExpression","start":1651,"end":1844,"arguments":[{"type":"ObjectExpression","start":1673,"end":1843,"properties":[{"type":"Property","start":1675,"end":1695,"computed":false,"key":{"type":"Identifier","start":1675,"end":1685,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1687,"end":1695,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":1697,"end":1714,"computed":false,"key":{"type":"Identifier","start":1697,"end":1704,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1706,"end":1714,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1716,"end":1728,"computed":false,"key":{"type":"Identifier","start":1716,"end":1724,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1726,"end":1728,"name":"i0"}},{"type":"Property","start":1730,"end":1759,"computed":false,"key":{"type":"Identifier","start":1730,"end":1734,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1736,"end":1759,"name":"AngularTokenInterceptor"}},{"type":"Property","start":1761,"end":1802,"computed":false,"key":{"type":"Identifier","start":1761,"end":1765,"name":"deps"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1767,"end":1802,"elements":[{"type":"ObjectExpression","start":1768,"end":1801,"properties":[{"type":"Property","start":1770,"end":1799,"computed":false,"key":{"type":"Identifier","start":1770,"end":1775,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":1777,"end":1799,"computed":false,"object":{"type":"Identifier","start":1777,"end":1779,"name":"i1"},"optional":false,"property":{"type":"Identifier","start":1780,"end":1799,"name":"AngularTokenService"}}}]}]}},{"type":"Property","start":1804,"end":1841,"computed":false,"key":{"type":"Identifier","start":1804,"end":1810,"name":"target"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":1812,"end":1841,"computed":false,"object":{"type":"MemberExpression","start":1812,"end":1830,"computed":false,"object":{"type":"Identifier","start":1812,"end":1814,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1815,"end":1830,"name":"ɵɵFactoryTarget"}},"optional":false,"property":{"type":"Identifier","start":1831,"end":1841,"name":"Injectable"}}}]}],"callee":{"type":"MemberExpression","start":1651,"end":1672,"computed":false,"object":{"type":"Identifier","start":1651,"end":1653,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1654,"end":1672,"name":"ɵɵngDeclareFactory"}},"optional":false}},{"type":"PropertyDefinition","start":1850,"end":1980,"computed":false,"key":{"type":"Identifier","start":1857,"end":1862,"name":"ɵprov"},"static":true,"value":{"type":"CallExpression","start":1865,"end":1979,"arguments":[{"type":"ObjectExpression","start":1890,"end":1978,"properties":[{"type":"Property","start":1892,"end":1912,"computed":false,"key":{"type":"Identifier","start":1892,"end":1902,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1904,"end":1912,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":1914,"end":1931,"computed":false,"key":{"type":"Identifier","start":1914,"end":1921,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1923,"end":1931,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1933,"end":1945,"computed":false,"key":{"type":"Identifier","start":1933,"end":1941,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1943,"end":1945,"name":"i0"}},{"type":"Property","start":1947,"end":1976,"computed":false,"key":{"type":"Identifier","start":1947,"end":1951,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1953,"end":1976,"name":"AngularTokenInterceptor"}}]}],"callee":{"type":"MemberExpression","start":1865,"end":1889,"computed":false,"object":{"type":"Identifier","start":1865,"end":1867,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1868,"end":1889,"name":"ɵɵngDeclareInjectable"}},"optional":false}}]},"id":{"type":"Identifier","start":251,"end":274,"name":"AngularTokenInterceptor"},"superClass":null},"source":null,"specifiers":[],"attributes":[]},{"type":"ExpressionStatement","start":1983,"end":2215,"expression":{"type":"CallExpression","start":1983,"end":2214,"arguments":[{"type":"ObjectExpression","start":2011,"end":2213,"properties":[{"type":"Property","start":2013,"end":2033,"computed":false,"key":{"type":"Identifier","start":2013,"end":2023,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2025,"end":2033,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":2035,"end":2052,"computed":false,"key":{"type":"Identifier","start":2035,"end":2042,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":2044,"end":2052,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":2054,"end":2066,"computed":false,"key":{"type":"Identifier","start":2054,"end":2062,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":2064,"end":2066,"name":"i0"}},{"type":"Property","start":2068,"end":2097,"computed":false,"key":{"type":"Identifier","start":2068,"end":2072,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":2074,"end":2097,"name":"AngularTokenInterceptor"}},{"type":"Property","start":2099,"end":2153,"computed":false,"key":{"type":"Identifier","start":2099,"end":2109,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":2111,"end":2153,"elements":[{"type":"ObjectExpression","start":2112,"end":2152,"properties":[{"type":"Property","start":2126,"end":2142,"computed":false,"key":{"type":"Identifier","start":2126,"end":2130,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":2132,"end":2142,"name":"Injectable"}}]}]}},{"type":"Property","start":2155,"end":2211,"computed":false,"key":{"type":"Identifier","start":2155,"end":2169,"name":"ctorParameters"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","start":2171,"end":2211,"async":false,"body":{"type":"ArrayExpression","start":2177,"end":2211,"elements":[{"type":"ObjectExpression","start":2178,"end":2210,"properties":[{"type":"Property","start":2180,"end":2208,"computed":false,"key":{"type":"Identifier","start":2180,"end":2184,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":2186,"end":2208,"computed":false,"object":{"type":"Identifier","start":2186,"end":2188,"name":"i1"},"optional":false,"property":{"type":"Identifier","start":2189,"end":2208,"name":"AngularTokenService"}}}]}]},"expression":true,"generator":false,"id":null,"params":[]}}]}],"callee":{"type":"MemberExpression","start":1983,"end":2010,"computed":false,"object":{"type":"Identifier","start":1983,"end":1985,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1986,"end":2010,"name":"ɵɵngDeclareClassMetadata"}},"optional":false}}],"sourceType":"module","_rollupRemoved":[{"end":6798,"start":2216}]},"attributes":{},"code":"import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./angular-token.service\";\nexport class AngularTokenInterceptor {\n    tokenService;\n    constructor(tokenService) {\n        this.tokenService = tokenService;\n    }\n    intercept(req, next) {\n        // Get auth data from local storage\n        this.tokenService.getAuthDataFromStorage();\n        // Add the headers if the request is going to the configured server\n        const authData = this.tokenService.authData.value;\n        if (authData &&\n            (this.tokenService.tokenOptions.apiBase === null || req.url.match(this.tokenService.tokenOptions.apiBase))) {\n            const headers = {\n                'access-token': authData.accessToken,\n                'client': authData.client,\n                'expiry': authData.expiry,\n                'token-type': authData.tokenType,\n                'uid': authData.uid\n            };\n            req = req.clone({\n                setHeaders: headers\n            });\n        }\n        return next.handle(req).pipe(tap(res => this.handleResponse(res), err => this.handleResponse(err)));\n    }\n    // Parse Auth data from response\n    handleResponse(res) {\n        if (res instanceof HttpResponse || res instanceof HttpErrorResponse) {\n            if (this.tokenService.tokenOptions.apiBase === null || (res.url && res.url.match(this.tokenService.tokenOptions.apiBase))) {\n                this.tokenService.getAuthHeadersFromResponse(res);\n            }\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor, deps: [{ token: i1.AngularTokenService }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [{ type: i1.AngularTokenService }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5pbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL2xpYi9hbmd1bGFyLXRva2VuLmludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUF3RCxZQUFZLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUs3SCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7OztBQUdyQyxNQUFNLE9BQU8sdUJBQXVCO0lBRWI7SUFBckIsWUFBcUIsWUFBaUM7UUFBakMsaUJBQVksR0FBWixZQUFZLENBQXFCO0lBQUssQ0FBQztJQUU1RCxTQUFTLENBQUMsR0FBcUIsRUFBRSxJQUFpQjtRQUVoRCxtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRTNDLG1FQUFtRTtRQUNuRSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFFbEQsSUFBSSxRQUFRO1lBQ1YsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxPQUFPLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7WUFFNUcsTUFBTSxPQUFPLEdBQUc7Z0JBQ2QsY0FBYyxFQUFFLFFBQVEsQ0FBQyxXQUFXO2dCQUNwQyxRQUFRLEVBQVEsUUFBUSxDQUFDLE1BQU07Z0JBQy9CLFFBQVEsRUFBUSxRQUFRLENBQUMsTUFBTTtnQkFDL0IsWUFBWSxFQUFJLFFBQVEsQ0FBQyxTQUFTO2dCQUNsQyxLQUFLLEVBQVcsUUFBUSxDQUFDLEdBQUc7YUFDN0IsQ0FBQztZQUVGLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUNkLFVBQVUsRUFBRSxPQUFPO2FBQ3BCLENBQUMsQ0FBQztTQUNKO1FBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQzVCLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFDL0IsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUNsQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBR0QsZ0NBQWdDO0lBQ3hCLGNBQWMsQ0FBQyxHQUEyRDtRQUNoRixJQUFJLEdBQUcsWUFBWSxZQUFZLElBQUksR0FBRyxZQUFZLGlCQUFpQixFQUFFO1lBQ25FLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRTtnQkFDekgsSUFBSSxDQUFDLFlBQVksQ0FBQywwQkFBMEIsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNuRDtTQUNGO0lBQ0gsQ0FBQzt1R0ExQ1UsdUJBQXVCOzJHQUF2Qix1QkFBdUI7OzJGQUF2Qix1QkFBdUI7a0JBRG5DLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwRXZlbnQsIEh0dHBSZXF1ZXN0LCBIdHRwSW50ZXJjZXB0b3IsIEh0dHBIYW5kbGVyLCBIdHRwUmVzcG9uc2UsIEh0dHBFcnJvclJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBBbmd1bGFyVG9rZW5TZXJ2aWNlIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBbmd1bGFyVG9rZW5JbnRlcmNlcHRvciBpbXBsZW1lbnRzIEh0dHBJbnRlcmNlcHRvciB7XG5cbiAgY29uc3RydWN0b3IoIHByaXZhdGUgdG9rZW5TZXJ2aWNlOiBBbmd1bGFyVG9rZW5TZXJ2aWNlICkgeyB9XG5cbiAgaW50ZXJjZXB0KHJlcTogSHR0cFJlcXVlc3Q8YW55PiwgbmV4dDogSHR0cEhhbmRsZXIpOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PiB7XG5cbiAgICAvLyBHZXQgYXV0aCBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIHRoaXMudG9rZW5TZXJ2aWNlLmdldEF1dGhEYXRhRnJvbVN0b3JhZ2UoKTtcblxuICAgIC8vIEFkZCB0aGUgaGVhZGVycyBpZiB0aGUgcmVxdWVzdCBpcyBnb2luZyB0byB0aGUgY29uZmlndXJlZCBzZXJ2ZXJcbiAgICBjb25zdCBhdXRoRGF0YSA9IHRoaXMudG9rZW5TZXJ2aWNlLmF1dGhEYXRhLnZhbHVlO1xuXG4gICAgaWYgKGF1dGhEYXRhICYmXG4gICAgICAodGhpcy50b2tlblNlcnZpY2UudG9rZW5PcHRpb25zLmFwaUJhc2UgPT09IG51bGwgfHwgcmVxLnVybC5tYXRjaCh0aGlzLnRva2VuU2VydmljZS50b2tlbk9wdGlvbnMuYXBpQmFzZSkpKSB7XG5cbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdhY2Nlc3MtdG9rZW4nOiBhdXRoRGF0YS5hY2Nlc3NUb2tlbixcbiAgICAgICAgJ2NsaWVudCc6ICAgICAgIGF1dGhEYXRhLmNsaWVudCxcbiAgICAgICAgJ2V4cGlyeSc6ICAgICAgIGF1dGhEYXRhLmV4cGlyeSxcbiAgICAgICAgJ3Rva2VuLXR5cGUnOiAgIGF1dGhEYXRhLnRva2VuVHlwZSxcbiAgICAgICAgJ3VpZCc6ICAgICAgICAgIGF1dGhEYXRhLnVpZFxuICAgICAgfTtcblxuICAgICAgcmVxID0gcmVxLmNsb25lKHtcbiAgICAgICAgc2V0SGVhZGVyczogaGVhZGVyc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQuaGFuZGxlKHJlcSkucGlwZSh0YXAoXG4gICAgICAgIHJlcyA9PiB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlcyksXG4gICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZVJlc3BvbnNlKGVycilcbiAgICApKTtcbiAgfVxuXG5cbiAgLy8gUGFyc2UgQXV0aCBkYXRhIGZyb20gcmVzcG9uc2VcbiAgcHJpdmF0ZSBoYW5kbGVSZXNwb25zZShyZXM6IEh0dHBSZXNwb25zZTxhbnk+IHwgSHR0cEVycm9yUmVzcG9uc2UgfCBIdHRwRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgIGlmIChyZXMgaW5zdGFuY2VvZiBIdHRwUmVzcG9uc2UgfHwgcmVzIGluc3RhbmNlb2YgSHR0cEVycm9yUmVzcG9uc2UpIHtcbiAgICAgIGlmICh0aGlzLnRva2VuU2VydmljZS50b2tlbk9wdGlvbnMuYXBpQmFzZSA9PT0gbnVsbCB8fCAocmVzLnVybCAmJiByZXMudXJsLm1hdGNoKHRoaXMudG9rZW5TZXJ2aWNlLnRva2VuT3B0aW9ucy5hcGlCYXNlKSkpIHtcbiAgICAgICAgdGhpcy50b2tlblNlcnZpY2UuZ2V0QXV0aEhlYWRlcnNGcm9tUmVzcG9uc2UocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","@angular/common/http","rxjs/operators","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.interceptor.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./angular-token.service\";\nexport class AngularTokenInterceptor {\n    tokenService;\n    constructor(tokenService) {\n        this.tokenService = tokenService;\n    }\n    intercept(req, next) {\n        // Get auth data from local storage\n        this.tokenService.getAuthDataFromStorage();\n        // Add the headers if the request is going to the configured server\n        const authData = this.tokenService.authData.value;\n        if (authData &&\n            (this.tokenService.tokenOptions.apiBase === null || req.url.match(this.tokenService.tokenOptions.apiBase))) {\n            const headers = {\n                'access-token': authData.accessToken,\n                'client': authData.client,\n                'expiry': authData.expiry,\n                'token-type': authData.tokenType,\n                'uid': authData.uid\n            };\n            req = req.clone({\n                setHeaders: headers\n            });\n        }\n        return next.handle(req).pipe(tap(res => this.handleResponse(res), err => this.handleResponse(err)));\n    }\n    // Parse Auth data from response\n    handleResponse(res) {\n        if (res instanceof HttpResponse || res instanceof HttpErrorResponse) {\n            if (this.tokenService.tokenOptions.apiBase === null || (res.url && res.url.match(this.tokenService.tokenOptions.apiBase))) {\n                this.tokenService.getAuthHeadersFromResponse(res);\n            }\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor, deps: [{ token: i1.AngularTokenService }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [{ type: i1.AngularTokenService }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5pbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL2xpYi9hbmd1bGFyLXRva2VuLmludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUF3RCxZQUFZLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUs3SCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7OztBQUdyQyxNQUFNLE9BQU8sdUJBQXVCO0lBRWI7SUFBckIsWUFBcUIsWUFBaUM7UUFBakMsaUJBQVksR0FBWixZQUFZLENBQXFCO0lBQUssQ0FBQztJQUU1RCxTQUFTLENBQUMsR0FBcUIsRUFBRSxJQUFpQjtRQUVoRCxtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRTNDLG1FQUFtRTtRQUNuRSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFFbEQsSUFBSSxRQUFRO1lBQ1YsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxPQUFPLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7WUFFNUcsTUFBTSxPQUFPLEdBQUc7Z0JBQ2QsY0FBYyxFQUFFLFFBQVEsQ0FBQyxXQUFXO2dCQUNwQyxRQUFRLEVBQVEsUUFBUSxDQUFDLE1BQU07Z0JBQy9CLFFBQVEsRUFBUSxRQUFRLENBQUMsTUFBTTtnQkFDL0IsWUFBWSxFQUFJLFFBQVEsQ0FBQyxTQUFTO2dCQUNsQyxLQUFLLEVBQVcsUUFBUSxDQUFDLEdBQUc7YUFDN0IsQ0FBQztZQUVGLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUNkLFVBQVUsRUFBRSxPQUFPO2FBQ3BCLENBQUMsQ0FBQztTQUNKO1FBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQzVCLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFDL0IsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUNsQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBR0QsZ0NBQWdDO0lBQ3hCLGNBQWMsQ0FBQyxHQUEyRDtRQUNoRixJQUFJLEdBQUcsWUFBWSxZQUFZLElBQUksR0FBRyxZQUFZLGlCQUFpQixFQUFFO1lBQ25FLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRTtnQkFDekgsSUFBSSxDQUFDLFlBQVksQ0FBQywwQkFBMEIsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNuRDtTQUNGO0lBQ0gsQ0FBQzt1R0ExQ1UsdUJBQXVCOzJHQUF2Qix1QkFBdUI7OzJGQUF2Qix1QkFBdUI7a0JBRG5DLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwRXZlbnQsIEh0dHBSZXF1ZXN0LCBIdHRwSW50ZXJjZXB0b3IsIEh0dHBIYW5kbGVyLCBIdHRwUmVzcG9uc2UsIEh0dHBFcnJvclJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBBbmd1bGFyVG9rZW5TZXJ2aWNlIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBbmd1bGFyVG9rZW5JbnRlcmNlcHRvciBpbXBsZW1lbnRzIEh0dHBJbnRlcmNlcHRvciB7XG5cbiAgY29uc3RydWN0b3IoIHByaXZhdGUgdG9rZW5TZXJ2aWNlOiBBbmd1bGFyVG9rZW5TZXJ2aWNlICkgeyB9XG5cbiAgaW50ZXJjZXB0KHJlcTogSHR0cFJlcXVlc3Q8YW55PiwgbmV4dDogSHR0cEhhbmRsZXIpOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PiB7XG5cbiAgICAvLyBHZXQgYXV0aCBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIHRoaXMudG9rZW5TZXJ2aWNlLmdldEF1dGhEYXRhRnJvbVN0b3JhZ2UoKTtcblxuICAgIC8vIEFkZCB0aGUgaGVhZGVycyBpZiB0aGUgcmVxdWVzdCBpcyBnb2luZyB0byB0aGUgY29uZmlndXJlZCBzZXJ2ZXJcbiAgICBjb25zdCBhdXRoRGF0YSA9IHRoaXMudG9rZW5TZXJ2aWNlLmF1dGhEYXRhLnZhbHVlO1xuXG4gICAgaWYgKGF1dGhEYXRhICYmXG4gICAgICAodGhpcy50b2tlblNlcnZpY2UudG9rZW5PcHRpb25zLmFwaUJhc2UgPT09IG51bGwgfHwgcmVxLnVybC5tYXRjaCh0aGlzLnRva2VuU2VydmljZS50b2tlbk9wdGlvbnMuYXBpQmFzZSkpKSB7XG5cbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdhY2Nlc3MtdG9rZW4nOiBhdXRoRGF0YS5hY2Nlc3NUb2tlbixcbiAgICAgICAgJ2NsaWVudCc6ICAgICAgIGF1dGhEYXRhLmNsaWVudCxcbiAgICAgICAgJ2V4cGlyeSc6ICAgICAgIGF1dGhEYXRhLmV4cGlyeSxcbiAgICAgICAgJ3Rva2VuLXR5cGUnOiAgIGF1dGhEYXRhLnRva2VuVHlwZSxcbiAgICAgICAgJ3VpZCc6ICAgICAgICAgIGF1dGhEYXRhLnVpZFxuICAgICAgfTtcblxuICAgICAgcmVxID0gcmVxLmNsb25lKHtcbiAgICAgICAgc2V0SGVhZGVyczogaGVhZGVyc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQuaGFuZGxlKHJlcSkucGlwZSh0YXAoXG4gICAgICAgIHJlcyA9PiB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlcyksXG4gICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZVJlc3BvbnNlKGVycilcbiAgICApKTtcbiAgfVxuXG5cbiAgLy8gUGFyc2UgQXV0aCBkYXRhIGZyb20gcmVzcG9uc2VcbiAgcHJpdmF0ZSBoYW5kbGVSZXNwb25zZShyZXM6IEh0dHBSZXNwb25zZTxhbnk+IHwgSHR0cEVycm9yUmVzcG9uc2UgfCBIdHRwRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgIGlmIChyZXMgaW5zdGFuY2VvZiBIdHRwUmVzcG9uc2UgfHwgcmVzIGluc3RhbmNlb2YgSHR0cEVycm9yUmVzcG9uc2UpIHtcbiAgICAgIGlmICh0aGlzLnRva2VuU2VydmljZS50b2tlbk9wdGlvbnMuYXBpQmFzZSA9PT0gbnVsbCB8fCAocmVzLnVybCAmJiByZXMudXJsLm1hdGNoKHRoaXMudG9rZW5TZXJ2aWNlLnRva2VuT3B0aW9ucy5hcGlCYXNlKSkpIHtcbiAgICAgICAgdGhpcy50b2tlblNlcnZpY2UuZ2V0QXV0aEhlYWRlcnNGcm9tUmVzcG9uc2UocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"angular-token.interceptor.js","sourceRoot":"","sources":["../../../../projects/angular-token/src/lib/angular-token.interceptor.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,1,0],[7,0,1,7],[9,0,1,63],[21,0,1,75],[23,0,1,77],[40,0,1,94],[42,0,1,96],[48,0,1,102],[70,0,1,124],[71,0,1,125]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[12,0,6,12],[14,0,6,14],[20,0,6,20],[36,0,6,36],[37,0,6,37]],[],[],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[36,0,9,36]],[[4,0,11,23]],[[4,0,11,2],[16,0,11,23],[28,0,11,56]],[[8,0,11,23],[25,0,11,35],[28,0,11,23],[40,0,11,35],[41,0,11,56]],[[4,0,11,61],[5,0,11,62]],[[4,0,13,2],[13,0,13,11],[14,0,13,12],[17,0,13,33],[19,0,13,35],[23,0,13,52]],[[8,0,15,4],[43,0,15,39]],[[8,0,16,4],[12,0,16,8],[13,0,16,9],[25,0,16,21],[26,0,16,22],[48,0,16,44],[50,0,16,46],[51,0,16,47]],[[8,0,18,4],[75,0,18,71]],[[8,0,19,4],[14,0,19,10],[22,0,19,18],[25,0,19,21],[29,0,19,25],[30,0,19,26],[42,0,19,38],[43,0,19,39],[51,0,19,47],[52,0,19,48],[57,0,19,53],[58,0,19,54]],[[8,0,21,4],[12,0,21,8],[20,0,21,16]],[[12,0,22,6],[13,0,22,7],[17,0,22,11],[18,0,22,12],[30,0,22,24],[31,0,22,25],[43,0,22,37],[44,0,22,38],[51,0,22,45],[56,0,22,50],[60,0,22,54],[64,0,22,58],[67,0,22,61],[68,0,22,62],[71,0,22,65],[72,0,22,66],[77,0,22,71],[78,0,22,72],[82,0,22,76],[83,0,22,77],[95,0,22,89],[96,0,22,90],[108,0,22,102],[109,0,22,103],[116,0,22,110],[117,0,22,111],[118,0,22,112],[120,0,22,114]],[[12,0,24,6],[18,0,24,12],[25,0,24,19],[28,0,24,22]],[[16,0,25,8],[30,0,25,22],[32,0,25,24],[40,0,25,32],[41,0,25,33],[52,0,25,44]],[[16,0,26,8],[24,0,26,16],[26,0,26,24],[34,0,26,32],[35,0,26,33],[41,0,26,39]],[[16,0,27,8],[24,0,27,16],[26,0,27,24],[34,0,27,32],[35,0,27,33],[41,0,27,39]],[[16,0,28,8],[28,0,28,20],[30,0,28,24],[38,0,28,32],[39,0,28,33],[48,0,28,42]],[[16,0,29,8],[21,0,29,13],[23,0,29,24],[31,0,29,32],[32,0,29,33],[35,0,29,36]],[[13,0,30,7],[14,0,30,8]],[[12,0,32,6],[15,0,32,9],[18,0,32,12],[21,0,32,15],[22,0,32,16],[27,0,32,21],[28,0,32,22]],[[16,0,33,8],[26,0,33,18],[28,0,33,20],[35,0,33,27]],[[13,0,34,7],[14,0,34,8],[15,0,34,9]],[[9,0,35,5]],[[8,0,37,4],[15,0,37,11],[19,0,37,15],[20,0,37,16],[26,0,37,22],[27,0,37,23],[30,0,37,26],[31,0,37,27],[32,0,37,28],[36,0,37,32],[37,0,37,33],[40,0,37,36],[41,0,38,8],[44,0,38,11],[45,0,38,12],[47,0,38,14],[48,0,38,15],[52,0,38,19],[53,0,38,20],[67,0,38,34],[68,0,38,35],[71,0,38,38],[72,0,38,39],[74,0,39,8],[77,0,39,11],[78,0,39,12],[80,0,39,14],[81,0,39,15],[85,0,39,19],[86,0,39,20],[100,0,39,34],[101,0,39,35],[104,0,39,38],[105,0,39,39],[106,0,40,5],[107,0,40,6],[108,0,40,7]],[[4,0,41,2],[5,0,41,3]],[[4,0,44,2],[36,0,44,34]],[[4,0,45,10],[18,0,45,24],[19,0,45,25],[22,0,45,84]],[[8,0,46,4],[12,0,46,8],[15,0,46,11],[27,0,46,23],[39,0,46,35],[43,0,46,39],[46,0,46,42],[58,0,46,54],[75,0,46,71],[77,0,46,73]],[[12,0,47,6],[16,0,47,10],[20,0,47,14],[21,0,47,15],[33,0,47,27],[34,0,47,28],[46,0,47,40],[47,0,47,41],[54,0,47,48],[59,0,47,53],[63,0,47,57],[67,0,47,61],[68,0,47,62],[71,0,47,65],[72,0,47,66],[75,0,47,69],[79,0,47,73],[82,0,47,76],[83,0,47,77],[86,0,47,80],[87,0,47,81],[92,0,47,86],[93,0,47,87],[97,0,47,91],[98,0,47,92],[110,0,47,104],[111,0,47,105],[123,0,47,117],[124,0,47,118],[131,0,47,125],[132,0,47,126],[133,0,47,127],[135,0,47,129]],[[16,0,48,8],[20,0,48,12],[21,0,48,13],[33,0,48,25],[34,0,48,26],[60,0,48,52],[61,0,48,53],[64,0,48,56],[65,0,48,57],[66,0,48,58]],[[13,0,49,7]],[[9,0,50,5]],[[4,0,51,2],[5,0,51,3]],[[103,0,9,13],[126,0,9,36]],[[107,0,9,13],[130,0,9,36]],[],[[91,0,9,13],[114,0,9,36]],[[18,0,8,1],[28,0,8,11]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpRequest, HttpInterceptor, HttpHandler, HttpResponse, HttpErrorResponse } from '@angular/common/http';\n\nimport { AngularTokenService } from './angular-token.service';\n\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class AngularTokenInterceptor implements HttpInterceptor {\n\n  constructor( private tokenService: AngularTokenService ) { }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    // Get auth data from local storage\n    this.tokenService.getAuthDataFromStorage();\n\n    // Add the headers if the request is going to the configured server\n    const authData = this.tokenService.authData.value;\n\n    if (authData &&\n      (this.tokenService.tokenOptions.apiBase === null || req.url.match(this.tokenService.tokenOptions.apiBase))) {\n\n      const headers = {\n        'access-token': authData.accessToken,\n        'client':       authData.client,\n        'expiry':       authData.expiry,\n        'token-type':   authData.tokenType,\n        'uid':          authData.uid\n      };\n\n      req = req.clone({\n        setHeaders: headers\n      });\n    }\n\n    return next.handle(req).pipe(tap(\n        res => this.handleResponse(res),\n        err => this.handleResponse(err)\n    ));\n  }\n\n\n  // Parse Auth data from response\n  private handleResponse(res: HttpResponse<any> | HttpErrorResponse | HttpEvent<any>): void {\n    if (res instanceof HttpResponse || res instanceof HttpErrorResponse) {\n      if (this.tokenService.tokenOptions.apiBase === null || (res.url && res.url.match(this.tokenService.tokenOptions.apiBase))) {\n        this.tokenService.getAuthHeadersFromResponse(res);\n      }\n    }\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/common/http":{"attributes":{},"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./angular-token.service":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":4964,"body":[{"type":"ImportDeclaration","start":0,"end":57,"source":{"type":"Literal","start":34,"end":56,"raw":"'@angular/common/http'","value":"@angular/common/http"},"specifiers":[{"type":"ImportSpecifier","start":9,"end":26,"imported":{"type":"Identifier","start":9,"end":26,"name":"HTTP_INTERCEPTORS"},"local":{"type":"Identifier","start":9,"end":26,"name":"HTTP_INTERCEPTORS"}}],"attributes":[]},{"type":"ImportDeclaration","start":58,"end":119,"source":{"type":"Literal","start":103,"end":118,"raw":"'@angular/core'","value":"@angular/core"},"specifiers":[{"type":"ImportSpecifier","start":67,"end":75,"imported":{"type":"Identifier","start":67,"end":75,"name":"NgModule"},"local":{"type":"Identifier","start":67,"end":75,"name":"NgModule"}},{"type":"ImportSpecifier","start":77,"end":85,"imported":{"type":"Identifier","start":77,"end":85,"name":"Optional"},"local":{"type":"Identifier","start":77,"end":85,"name":"Optional"}},{"type":"ImportSpecifier","start":87,"end":95,"imported":{"type":"Identifier","start":87,"end":95,"name":"SkipSelf"},"local":{"type":"Identifier","start":87,"end":95,"name":"SkipSelf"}}],"attributes":[]},{"type":"ImportDeclaration","start":120,"end":190,"source":{"type":"Literal","start":160,"end":189,"raw":"'./angular-token.interceptor'","value":"./angular-token.interceptor"},"specifiers":[{"type":"ImportSpecifier","start":129,"end":152,"imported":{"type":"Identifier","start":129,"end":152,"name":"AngularTokenInterceptor"},"local":{"type":"Identifier","start":129,"end":152,"name":"AngularTokenInterceptor"}}],"attributes":[]},{"type":"ImportDeclaration","start":191,"end":253,"source":{"type":"Literal","start":229,"end":252,"raw":"'./angular-token.token'","value":"./angular-token.token"},"specifiers":[{"type":"ImportSpecifier","start":200,"end":221,"imported":{"type":"Identifier","start":200,"end":221,"name":"ANGULAR_TOKEN_OPTIONS"},"local":{"type":"Identifier","start":200,"end":221,"name":"ANGULAR_TOKEN_OPTIONS"}}],"attributes":[]},{"type":"ImportDeclaration","start":254,"end":290,"source":{"type":"Literal","start":274,"end":289,"raw":"\"@angular/core\"","value":"@angular/core"},"specifiers":[{"type":"ImportNamespaceSpecifier","start":261,"end":268,"local":{"type":"Identifier","start":266,"end":268,"name":"i0"}}],"attributes":[]},{"type":"ExportAllDeclaration","start":291,"end":331,"exported":null,"source":{"type":"Literal","start":305,"end":330,"raw":"'./angular-token.service'","value":"./angular-token.service"},"attributes":[]},{"type":"ExportNamedDeclaration","start":332,"end":1685,"declaration":{"type":"ClassDeclaration","start":339,"end":1685,"body":{"type":"ClassBody","start":364,"end":1685,"body":[{"type":"MethodDefinition","start":370,"end":568,"computed":false,"key":{"type":"Identifier","start":370,"end":381,"name":"constructor"},"kind":"constructor","static":false,"value":{"type":"FunctionExpression","start":381,"end":568,"async":false,"body":{"type":"BlockStatement","start":396,"body":[{"type":"IfStatement","start":406,"end":562,"alternate":null,"consequent":{"type":"BlockStatement","start":424,"body":[{"type":"ThrowStatement","start":438,"end":552,"argument":{"type":"NewExpression","start":444,"end":551,"arguments":[{"type":"Literal","start":454,"end":550,"raw":"'AngularToken is already loaded. It should only be imported in your application\\'s main module.'","value":"AngularToken is already loaded. It should only be imported in your application's main module."}],"callee":{"type":"Identifier","start":448,"end":453,"name":"Error"}}}],"end":562},"test":{"type":"Identifier","start":410,"end":422,"name":"parentModule"}}],"end":568},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":382,"end":394,"name":"parentModule"}]}},{"type":"MethodDefinition","start":573,"end":1195,"computed":false,"key":{"type":"Identifier","start":580,"end":587,"name":"forRoot"},"kind":"method","static":true,"value":{"type":"FunctionExpression","start":587,"end":1195,"async":false,"body":{"type":"BlockStatement","start":597,"body":[{"type":"ReturnStatement","start":607,"end":1189,"argument":{"type":"ObjectExpression","start":614,"end":1188,"properties":[{"type":"Property","start":628,"end":656,"computed":false,"key":{"type":"Identifier","start":628,"end":636,"name":"ngModule"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":638,"end":656,"name":"AngularTokenModule"}},{"type":"Property","start":670,"end":1178,"computed":false,"key":{"type":"Identifier","start":670,"end":679,"name":"providers"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":681,"end":1178,"elements":[{"type":"ObjectExpression","start":699,"end":794,"properties":[{"type":"Property","start":721,"end":738,"computed":false,"key":{"type":"Identifier","start":721,"end":728,"name":"provide"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":730,"end":738,"raw":"'Window'","value":"Window"}},{"type":"Property","start":760,"end":776,"computed":false,"key":{"type":"Identifier","start":760,"end":768,"name":"useValue"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":770,"end":776,"name":"window"}}]},{"type":"ObjectExpression","start":812,"end":966,"properties":[{"type":"Property","start":834,"end":860,"computed":false,"key":{"type":"Identifier","start":834,"end":841,"name":"provide"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":843,"end":860,"name":"HTTP_INTERCEPTORS"}},{"type":"Property","start":882,"end":915,"computed":false,"key":{"type":"Identifier","start":882,"end":890,"name":"useClass"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":892,"end":915,"name":"AngularTokenInterceptor"}},{"type":"Property","start":937,"end":948,"computed":false,"key":{"type":"Identifier","start":937,"end":942,"name":"multi"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":944,"end":948,"raw":"true","value":true}}]},{"type":"LogicalExpression","start":984,"end":1164,"left":{"type":"MemberExpression","start":984,"end":1019,"computed":false,"object":{"type":"Identifier","start":984,"end":991,"name":"options"},"optional":false,"property":{"type":"Identifier","start":992,"end":1019,"name":"angularTokenOptionsProvider"}},"operator":"||","right":{"type":"ObjectExpression","start":1043,"end":1164,"properties":[{"type":"Property","start":1069,"end":1099,"computed":false,"key":{"type":"Identifier","start":1069,"end":1076,"name":"provide"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1078,"end":1099,"name":"ANGULAR_TOKEN_OPTIONS"}},{"type":"Property","start":1125,"end":1142,"computed":false,"key":{"type":"Identifier","start":1125,"end":1133,"name":"useValue"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1135,"end":1142,"name":"options"}}]}}]}}]}}],"end":1195},"expression":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":588,"end":595,"name":"options"}]}},{"type":"PropertyDefinition","start":1200,"end":1429,"computed":false,"key":{"type":"Identifier","start":1207,"end":1211,"name":"ɵfac"},"static":true,"value":{"type":"CallExpression","start":1214,"end":1428,"arguments":[{"type":"ObjectExpression","start":1236,"end":1427,"properties":[{"type":"Property","start":1238,"end":1258,"computed":false,"key":{"type":"Identifier","start":1238,"end":1248,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1250,"end":1258,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":1260,"end":1277,"computed":false,"key":{"type":"Identifier","start":1260,"end":1267,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1269,"end":1277,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1279,"end":1291,"computed":false,"key":{"type":"Identifier","start":1279,"end":1287,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1289,"end":1291,"name":"i0"}},{"type":"Property","start":1293,"end":1317,"computed":false,"key":{"type":"Identifier","start":1293,"end":1297,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1299,"end":1317,"name":"AngularTokenModule"}},{"type":"Property","start":1319,"end":1388,"computed":false,"key":{"type":"Identifier","start":1319,"end":1323,"name":"deps"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1325,"end":1388,"elements":[{"type":"ObjectExpression","start":1326,"end":1387,"properties":[{"type":"Property","start":1328,"end":1353,"computed":false,"key":{"type":"Identifier","start":1328,"end":1333,"name":"token"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1335,"end":1353,"name":"AngularTokenModule"}},{"type":"Property","start":1355,"end":1369,"computed":false,"key":{"type":"Identifier","start":1355,"end":1363,"name":"optional"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1365,"end":1369,"raw":"true","value":true}},{"type":"Property","start":1371,"end":1385,"computed":false,"key":{"type":"Identifier","start":1371,"end":1379,"name":"skipSelf"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1381,"end":1385,"raw":"true","value":true}}]}]}},{"type":"Property","start":1390,"end":1425,"computed":false,"key":{"type":"Identifier","start":1390,"end":1396,"name":"target"},"kind":"init","method":false,"shorthand":false,"value":{"type":"MemberExpression","start":1398,"end":1425,"computed":false,"object":{"type":"MemberExpression","start":1398,"end":1416,"computed":false,"object":{"type":"Identifier","start":1398,"end":1400,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1401,"end":1416,"name":"ɵɵFactoryTarget"}},"optional":false,"property":{"type":"Identifier","start":1417,"end":1425,"name":"NgModule"}}}]}],"callee":{"type":"MemberExpression","start":1214,"end":1235,"computed":false,"object":{"type":"Identifier","start":1214,"end":1216,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1217,"end":1235,"name":"ɵɵngDeclareFactory"}},"optional":false}},{"type":"PropertyDefinition","start":1434,"end":1556,"computed":false,"key":{"type":"Identifier","start":1441,"end":1445,"name":"ɵmod"},"static":true,"value":{"type":"CallExpression","start":1448,"end":1555,"arguments":[{"type":"ObjectExpression","start":1471,"end":1554,"properties":[{"type":"Property","start":1473,"end":1493,"computed":false,"key":{"type":"Identifier","start":1473,"end":1483,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1485,"end":1493,"raw":"\"14.0.0\"","value":"14.0.0"}},{"type":"Property","start":1495,"end":1512,"computed":false,"key":{"type":"Identifier","start":1495,"end":1502,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1504,"end":1512,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1514,"end":1526,"computed":false,"key":{"type":"Identifier","start":1514,"end":1522,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1524,"end":1526,"name":"i0"}},{"type":"Property","start":1528,"end":1552,"computed":false,"key":{"type":"Identifier","start":1528,"end":1532,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1534,"end":1552,"name":"AngularTokenModule"}}]}],"callee":{"type":"MemberExpression","start":1448,"end":1470,"computed":false,"object":{"type":"Identifier","start":1448,"end":1450,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1451,"end":1470,"name":"ɵɵngDeclareNgModule"}},"optional":false}},{"type":"PropertyDefinition","start":1561,"end":1683,"computed":false,"key":{"type":"Identifier","start":1568,"end":1572,"name":"ɵinj"},"static":true,"value":{"type":"CallExpression","start":1575,"end":1682,"arguments":[{"type":"ObjectExpression","start":1598,"end":1681,"properties":[{"type":"Property","start":1600,"end":1620,"computed":false,"key":{"type":"Identifier","start":1600,"end":1610,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1612,"end":1620,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":1622,"end":1639,"computed":false,"key":{"type":"Identifier","start":1622,"end":1629,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1631,"end":1639,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1641,"end":1653,"computed":false,"key":{"type":"Identifier","start":1641,"end":1649,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1651,"end":1653,"name":"i0"}},{"type":"Property","start":1655,"end":1679,"computed":false,"key":{"type":"Identifier","start":1655,"end":1659,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1661,"end":1679,"name":"AngularTokenModule"}}]}],"callee":{"type":"MemberExpression","start":1575,"end":1597,"computed":false,"object":{"type":"Identifier","start":1575,"end":1577,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1578,"end":1597,"name":"ɵɵngDeclareInjector"}},"optional":false}}]},"id":{"type":"Identifier","start":345,"end":363,"name":"AngularTokenModule"},"superClass":null},"source":null,"specifiers":[],"attributes":[]},{"type":"ExpressionStatement","start":1686,"end":2033,"expression":{"type":"CallExpression","start":1686,"end":2032,"arguments":[{"type":"ObjectExpression","start":1714,"end":2031,"properties":[{"type":"Property","start":1716,"end":1736,"computed":false,"key":{"type":"Identifier","start":1716,"end":1726,"name":"minVersion"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1728,"end":1736,"raw":"\"12.0.0\"","value":"12.0.0"}},{"type":"Property","start":1738,"end":1755,"computed":false,"key":{"type":"Identifier","start":1738,"end":1745,"name":"version"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Literal","start":1747,"end":1755,"raw":"\"17.0.9\"","value":"17.0.9"}},{"type":"Property","start":1757,"end":1769,"computed":false,"key":{"type":"Identifier","start":1757,"end":1765,"name":"ngImport"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1767,"end":1769,"name":"i0"}},{"type":"Property","start":1771,"end":1795,"computed":false,"key":{"type":"Identifier","start":1771,"end":1775,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1777,"end":1795,"name":"AngularTokenModule"}},{"type":"Property","start":1797,"end":1849,"computed":false,"key":{"type":"Identifier","start":1797,"end":1807,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1809,"end":1849,"elements":[{"type":"ObjectExpression","start":1810,"end":1848,"properties":[{"type":"Property","start":1824,"end":1838,"computed":false,"key":{"type":"Identifier","start":1824,"end":1828,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1830,"end":1838,"name":"NgModule"}}]}]}},{"type":"Property","start":1851,"end":2029,"computed":false,"key":{"type":"Identifier","start":1851,"end":1865,"name":"ctorParameters"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","start":1867,"end":2029,"async":false,"body":{"type":"ArrayExpression","start":1873,"end":2029,"elements":[{"type":"ObjectExpression","start":1874,"end":2028,"properties":[{"type":"Property","start":1876,"end":1900,"computed":false,"key":{"type":"Identifier","start":1876,"end":1880,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1882,"end":1900,"name":"AngularTokenModule"}},{"type":"Property","start":1902,"end":2026,"computed":false,"key":{"type":"Identifier","start":1902,"end":1912,"name":"decorators"},"kind":"init","method":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1914,"end":2026,"elements":[{"type":"ObjectExpression","start":1915,"end":1969,"properties":[{"type":"Property","start":1937,"end":1951,"computed":false,"key":{"type":"Identifier","start":1937,"end":1941,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1943,"end":1951,"name":"Optional"}}]},{"type":"ObjectExpression","start":1971,"end":2025,"properties":[{"type":"Property","start":1993,"end":2007,"computed":false,"key":{"type":"Identifier","start":1993,"end":1997,"name":"type"},"kind":"init","method":false,"shorthand":false,"value":{"type":"Identifier","start":1999,"end":2007,"name":"SkipSelf"}}]}]}}]}]},"expression":true,"generator":false,"id":null,"params":[]}}]}],"callee":{"type":"MemberExpression","start":1686,"end":1713,"computed":false,"object":{"type":"Identifier","start":1686,"end":1688,"name":"i0"},"optional":false,"property":{"type":"Identifier","start":1689,"end":1713,"name":"ɵɵngDeclareClassMetadata"}},"optional":false}}],"sourceType":"module","_rollupRemoved":[{"end":4964,"start":2034}]},"attributes":{},"code":"import { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule, Optional, SkipSelf } from '@angular/core';\nimport { AngularTokenInterceptor } from './angular-token.interceptor';\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\nimport * as i0 from \"@angular/core\";\nexport * from './angular-token.service';\nexport class AngularTokenModule {\n    constructor(parentModule) {\n        if (parentModule) {\n            throw new Error('AngularToken is already loaded. It should only be imported in your application\\'s main module.');\n        }\n    }\n    static forRoot(options) {\n        return {\n            ngModule: AngularTokenModule,\n            providers: [\n                {\n                    provide: 'Window',\n                    useValue: window\n                },\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: AngularTokenInterceptor,\n                    multi: true\n                },\n                options.angularTokenOptionsProvider ||\n                    {\n                        provide: ANGULAR_TOKEN_OPTIONS,\n                        useValue: options\n                    }\n            ]\n        };\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule, deps: [{ token: AngularTokenModule, optional: true, skipSelf: true }], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: () => [{ type: AngularTokenModule, decorators: [{\n                    type: Optional\n                }, {\n                    type: SkipSelf\n                }] }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLXRva2VuL3NyYy9saWIvYW5ndWxhci10b2tlbi5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDekQsT0FBTyxFQUF1QixRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNsRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUV0RSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQzs7QUFFOUQsY0FBYyx5QkFBeUIsQ0FBQztBQUd4QyxNQUFNLE9BQU8sa0JBQWtCO0lBRTdCLFlBQW9DLFlBQWdDO1FBQ2xFLElBQUksWUFBWSxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0dBQWdHLENBQUMsQ0FBQztTQUNuSDtJQUNILENBQUM7SUFDRCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQTRCO1FBQ3pDLE9BQU87WUFDTCxRQUFRLEVBQUUsa0JBQWtCO1lBQzVCLFNBQVMsRUFBRTtnQkFDVDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsUUFBUSxFQUFFLE1BQU07aUJBQ2pCO2dCQUNEO29CQUNFLE9BQU8sRUFBRSxpQkFBaUI7b0JBQzFCLFFBQVEsRUFBRSx1QkFBdUI7b0JBQ2pDLEtBQUssRUFBRSxJQUFJO2lCQUNaO2dCQUNELE9BQU8sQ0FBQywyQkFBMkI7b0JBQ25DO3dCQUNFLE9BQU8sRUFBRSxxQkFBcUI7d0JBQzlCLFFBQVEsRUFBRSxPQUFPO3FCQUNsQjthQUNGO1NBQ0YsQ0FBQztJQUNKLENBQUM7dUdBM0JVLGtCQUFrQjt3R0FBbEIsa0JBQWtCO3dHQUFsQixrQkFBa0I7OzJGQUFsQixrQkFBa0I7a0JBRDlCLFFBQVE7OzBCQUdNLFFBQVE7OzBCQUFJLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIVFRQX0lOVEVSQ0VQVE9SUyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlLCBPcHRpb25hbCwgU2tpcFNlbGYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFuZ3VsYXJUb2tlbkludGVyY2VwdG9yIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLmludGVyY2VwdG9yJztcbmltcG9ydCB7IEFuZ3VsYXJUb2tlbk9wdGlvbnMgfSBmcm9tICcuL2FuZ3VsYXItdG9rZW4ubW9kZWwnO1xuaW1wb3J0IHsgQU5HVUxBUl9UT0tFTl9PUFRJT05TIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLnRva2VuJztcblxuZXhwb3J0ICogZnJvbSAnLi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoKVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJUb2tlbk1vZHVsZSB7XG5cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50TW9kdWxlOiBBbmd1bGFyVG9rZW5Nb2R1bGUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuZ3VsYXJUb2tlbiBpcyBhbHJlYWR5IGxvYWRlZC4gSXQgc2hvdWxkIG9ubHkgYmUgaW1wb3J0ZWQgaW4geW91ciBhcHBsaWNhdGlvblxcJ3MgbWFpbiBtb2R1bGUuJyk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBmb3JSb290KG9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMpOiBNb2R1bGVXaXRoUHJvdmlkZXJzPEFuZ3VsYXJUb2tlbk1vZHVsZT4ge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogQW5ndWxhclRva2VuTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiAnV2luZG93JyxcbiAgICAgICAgICB1c2VWYWx1ZTogd2luZG93XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBIVFRQX0lOVEVSQ0VQVE9SUyxcbiAgICAgICAgICB1c2VDbGFzczogQW5ndWxhclRva2VuSW50ZXJjZXB0b3IsXG4gICAgICAgICAgbXVsdGk6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucy5hbmd1bGFyVG9rZW5PcHRpb25zUHJvdmlkZXIgfHxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IEFOR1VMQVJfVE9LRU5fT1BUSU9OUyxcbiAgICAgICAgICB1c2VWYWx1ZTogb3B0aW9uc1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["@angular/common/http","@angular/core","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.interceptor.mjs","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule, Optional, SkipSelf } from '@angular/core';\nimport { AngularTokenInterceptor } from './angular-token.interceptor';\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\nimport * as i0 from \"@angular/core\";\nexport * from './angular-token.service';\nexport class AngularTokenModule {\n    constructor(parentModule) {\n        if (parentModule) {\n            throw new Error('AngularToken is already loaded. It should only be imported in your application\\'s main module.');\n        }\n    }\n    static forRoot(options) {\n        return {\n            ngModule: AngularTokenModule,\n            providers: [\n                {\n                    provide: 'Window',\n                    useValue: window\n                },\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: AngularTokenInterceptor,\n                    multi: true\n                },\n                options.angularTokenOptionsProvider ||\n                    {\n                        provide: ANGULAR_TOKEN_OPTIONS,\n                        useValue: options\n                    }\n            ]\n        };\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule, deps: [{ token: AngularTokenModule, optional: true, skipSelf: true }], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.0.9\", ngImport: i0, type: AngularTokenModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: () => [{ type: AngularTokenModule, decorators: [{\n                    type: Optional\n                }, {\n                    type: SkipSelf\n                }] }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci10b2tlbi5tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLXRva2VuL3NyYy9saWIvYW5ndWxhci10b2tlbi5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDekQsT0FBTyxFQUF1QixRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNsRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUV0RSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQzs7QUFFOUQsY0FBYyx5QkFBeUIsQ0FBQztBQUd4QyxNQUFNLE9BQU8sa0JBQWtCO0lBRTdCLFlBQW9DLFlBQWdDO1FBQ2xFLElBQUksWUFBWSxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0dBQWdHLENBQUMsQ0FBQztTQUNuSDtJQUNILENBQUM7SUFDRCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQTRCO1FBQ3pDLE9BQU87WUFDTCxRQUFRLEVBQUUsa0JBQWtCO1lBQzVCLFNBQVMsRUFBRTtnQkFDVDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsUUFBUSxFQUFFLE1BQU07aUJBQ2pCO2dCQUNEO29CQUNFLE9BQU8sRUFBRSxpQkFBaUI7b0JBQzFCLFFBQVEsRUFBRSx1QkFBdUI7b0JBQ2pDLEtBQUssRUFBRSxJQUFJO2lCQUNaO2dCQUNELE9BQU8sQ0FBQywyQkFBMkI7b0JBQ25DO3dCQUNFLE9BQU8sRUFBRSxxQkFBcUI7d0JBQzlCLFFBQVEsRUFBRSxPQUFPO3FCQUNsQjthQUNGO1NBQ0YsQ0FBQztJQUNKLENBQUM7dUdBM0JVLGtCQUFrQjt3R0FBbEIsa0JBQWtCO3dHQUFsQixrQkFBa0I7OzJGQUFsQixrQkFBa0I7a0JBRDlCLFFBQVE7OzBCQUdNLFFBQVE7OzBCQUFJLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIVFRQX0lOVEVSQ0VQVE9SUyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlLCBPcHRpb25hbCwgU2tpcFNlbGYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFuZ3VsYXJUb2tlbkludGVyY2VwdG9yIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLmludGVyY2VwdG9yJztcbmltcG9ydCB7IEFuZ3VsYXJUb2tlbk9wdGlvbnMgfSBmcm9tICcuL2FuZ3VsYXItdG9rZW4ubW9kZWwnO1xuaW1wb3J0IHsgQU5HVUxBUl9UT0tFTl9PUFRJT05TIH0gZnJvbSAnLi9hbmd1bGFyLXRva2VuLnRva2VuJztcblxuZXhwb3J0ICogZnJvbSAnLi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoKVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJUb2tlbk1vZHVsZSB7XG5cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50TW9kdWxlOiBBbmd1bGFyVG9rZW5Nb2R1bGUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuZ3VsYXJUb2tlbiBpcyBhbHJlYWR5IGxvYWRlZC4gSXQgc2hvdWxkIG9ubHkgYmUgaW1wb3J0ZWQgaW4geW91ciBhcHBsaWNhdGlvblxcJ3MgbWFpbiBtb2R1bGUuJyk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBmb3JSb290KG9wdGlvbnM6IEFuZ3VsYXJUb2tlbk9wdGlvbnMpOiBNb2R1bGVXaXRoUHJvdmlkZXJzPEFuZ3VsYXJUb2tlbk1vZHVsZT4ge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogQW5ndWxhclRva2VuTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiAnV2luZG93JyxcbiAgICAgICAgICB1c2VWYWx1ZTogd2luZG93XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBIVFRQX0lOVEVSQ0VQVE9SUyxcbiAgICAgICAgICB1c2VDbGFzczogQW5ndWxhclRva2VuSW50ZXJjZXB0b3IsXG4gICAgICAgICAgbXVsdGk6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucy5hbmd1bGFyVG9rZW5PcHRpb25zUHJvdmlkZXIgfHxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IEFOR1VMQVJfVE9LRU5fT1BUSU9OUyxcbiAgICAgICAgICB1c2VWYWx1ZTogb3B0aW9uc1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"angular-token.module.js","sourceRoot":"","sources":["../../../../projects/angular-token/src/lib/angular-token.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[26,0,0,26],[28,0,0,28],[34,0,0,34],[56,0,0,56],[57,0,0,57]],[[0,0,1,0],[7,0,1,7],[9,0,1,30],[17,0,1,38],[19,0,1,40],[27,0,1,48],[29,0,1,50],[37,0,1,58],[39,0,1,60],[45,0,1,66],[60,0,1,81],[61,0,1,82]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[32,0,2,32],[34,0,2,34],[40,0,2,40],[69,0,2,69],[70,0,2,70]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[30,0,4,30],[32,0,4,32],[38,0,4,38],[61,0,4,61],[62,0,4,62]],[],[[0,0,6,0],[14,0,6,14],[39,0,6,39],[40,0,6,40]],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[31,0,9,31]],[[4,0,11,2],[16,0,11,38],[28,0,11,70]],[[8,0,12,4],[12,0,12,8],[24,0,12,20],[26,0,12,22]],[[12,0,13,6],[18,0,13,12],[22,0,13,16],[27,0,13,21],[28,0,13,22],[124,0,13,118],[125,0,13,119],[126,0,13,120]],[[9,0,14,5]],[[4,0,15,2],[5,0,15,3]],[[4,0,16,2],[10,0,16,8],[11,0,16,9],[18,0,16,16],[19,0,16,17],[26,0,16,45]],[[8,0,17,4],[15,0,17,11]],[[12,0,18,6],[20,0,18,14],[22,0,18,16],[40,0,18,34]],[[12,0,19,6],[21,0,19,15],[23,0,19,17]],[[16,0,20,8]],[[20,0,21,10],[27,0,21,17],[29,0,21,19],[37,0,21,27]],[[20,0,22,10],[28,0,22,18],[30,0,22,20],[36,0,22,26]],[[17,0,23,9]],[[16,0,24,8]],[[20,0,25,10],[27,0,25,17],[29,0,25,19],[46,0,25,36]],[[20,0,26,10],[28,0,26,18],[30,0,26,20],[53,0,26,43]],[[20,0,27,10],[25,0,27,15],[27,0,27,17],[31,0,27,21]],[[17,0,28,9]],[[16,0,29,8],[23,0,29,15],[24,0,29,16],[51,0,29,43]],[[20,0,30,8]],[[24,0,31,10],[31,0,31,17],[33,0,31,19],[54,0,31,40]],[[24,0,32,10],[32,0,32,18],[34,0,32,20],[41,0,32,27]],[[21,0,33,9]],[[13,0,34,7]],[[9,0,35,5],[10,0,35,6]],[[4,0,36,2],[5,0,36,3]],[[103,0,9,13],[121,0,9,31]],[[104,0,9,13],[122,0,9,31]],[[104,0,9,13],[122,0,9,31]],[],[[91,0,9,13],[109,0,9,31]],[[18,0,8,1],[26,0,8,9]],[],[[26,0,11,15],[34,0,11,23]],[],[[26,0,11,27],[34,0,11,35]]],"sourcesContent":["import { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { AngularTokenInterceptor } from './angular-token.interceptor';\nimport { AngularTokenOptions } from './angular-token.model';\nimport { ANGULAR_TOKEN_OPTIONS } from './angular-token.token';\n\nexport * from './angular-token.service';\n\n@NgModule()\nexport class AngularTokenModule {\n\n  constructor(@Optional() @SkipSelf() parentModule: AngularTokenModule) {\n    if (parentModule) {\n      throw new Error('AngularToken is already loaded. It should only be imported in your application\\'s main module.');\n    }\n  }\n  static forRoot(options: AngularTokenOptions): ModuleWithProviders<AngularTokenModule> {\n    return {\n      ngModule: AngularTokenModule,\n      providers: [\n        {\n          provide: 'Window',\n          useValue: window\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: AngularTokenInterceptor,\n          multi: true\n        },\n        options.angularTokenOptionsProvider ||\n        {\n          provide: ANGULAR_TOKEN_OPTIONS,\n          useValue: options\n        }\n      ]\n    };\n  }\n}\n"]},"resolvedIds":{"@angular/common/http":{"attributes":{},"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./angular-token.token":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./angular-token.service":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./angular-token.interceptor":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.interceptor.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1197,"body":[{"type":"ExportNamedDeclaration","start":0,"end":66,"declaration":null,"source":{"type":"Literal","start":38,"end":65,"raw":"'./lib/angular-token.token'","value":"./lib/angular-token.token"},"specifiers":[{"type":"ExportSpecifier","start":9,"end":30,"exported":{"type":"Identifier","start":9,"end":30,"name":"ANGULAR_TOKEN_OPTIONS"},"local":{"type":"Identifier","start":9,"end":30,"name":"ANGULAR_TOKEN_OPTIONS"}}],"attributes":[]},{"type":"ExportNamedDeclaration","start":67,"end":133,"declaration":null,"source":{"type":"Literal","start":103,"end":132,"raw":"'./lib/angular-token.service'","value":"./lib/angular-token.service"},"specifiers":[{"type":"ExportSpecifier","start":76,"end":95,"exported":{"type":"Identifier","start":76,"end":95,"name":"AngularTokenService"},"local":{"type":"Identifier","start":76,"end":95,"name":"AngularTokenService"}}],"attributes":[]},{"type":"ExportNamedDeclaration","start":134,"end":198,"declaration":null,"source":{"type":"Literal","start":169,"end":197,"raw":"'./lib/angular-token.module'","value":"./lib/angular-token.module"},"specifiers":[{"type":"ExportSpecifier","start":143,"end":161,"exported":{"type":"Identifier","start":143,"end":161,"name":"AngularTokenModule"},"local":{"type":"Identifier","start":143,"end":161,"name":"AngularTokenModule"}}],"attributes":[]}],"sourceType":"module","_rollupRemoved":[{"end":1197,"start":199}]},"attributes":{},"code":"export { ANGULAR_TOKEN_OPTIONS } from './lib/angular-token.token';\nexport { AngularTokenService } from './lib/angular-token.service';\nexport { AngularTokenModule } from './lib/angular-token.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL3B1YmxpY19hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBY0EsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFbEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFbEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNEJBQTRCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge1xuICBTaWduSW5EYXRhLFxuICBSZWdpc3RlckRhdGEsXG4gIFVwZGF0ZVBhc3N3b3JkRGF0YSxcbiAgUmVzZXRQYXNzd29yZERhdGEsXG5cbiAgVXNlclR5cGUsXG4gIFVzZXJEYXRhLFxuICBBdXRoRGF0YSxcbiAgQXBpUmVzcG9uc2UsXG5cbiAgQW5ndWxhclRva2VuT3B0aW9uc1xufSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLm1vZGVsJztcblxuZXhwb3J0IHsgQU5HVUxBUl9UT0tFTl9PUFRJT05TIH0gZnJvbSAnLi9saWIvYW5ndWxhci10b2tlbi50b2tlbic7XG5cbmV4cG9ydCB7IEFuZ3VsYXJUb2tlblNlcnZpY2UgfSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5leHBvcnQgeyBBbmd1bGFyVG9rZW5Nb2R1bGUgfSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLm1vZHVsZSc7XG4iXX0=","customTransformCache":false,"dependencies":["/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs","/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.module.mjs"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/public_api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export { ANGULAR_TOKEN_OPTIONS } from './lib/angular-token.token';\nexport { AngularTokenService } from './lib/angular-token.service';\nexport { AngularTokenModule } from './lib/angular-token.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItdG9rZW4vc3JjL3B1YmxpY19hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBY0EsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFbEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFbEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNEJBQTRCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge1xuICBTaWduSW5EYXRhLFxuICBSZWdpc3RlckRhdGEsXG4gIFVwZGF0ZVBhc3N3b3JkRGF0YSxcbiAgUmVzZXRQYXNzd29yZERhdGEsXG5cbiAgVXNlclR5cGUsXG4gIFVzZXJEYXRhLFxuICBBdXRoRGF0YSxcbiAgQXBpUmVzcG9uc2UsXG5cbiAgQW5ndWxhclRva2VuT3B0aW9uc1xufSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLm1vZGVsJztcblxuZXhwb3J0IHsgQU5HVUxBUl9UT0tFTl9PUFRJT05TIH0gZnJvbSAnLi9saWIvYW5ndWxhci10b2tlbi50b2tlbic7XG5cbmV4cG9ydCB7IEFuZ3VsYXJUb2tlblNlcnZpY2UgfSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLnNlcnZpY2UnO1xuXG5leHBvcnQgeyBBbmd1bGFyVG9rZW5Nb2R1bGUgfSBmcm9tICcuL2xpYi9hbmd1bGFyLXRva2VuLm1vZHVsZSc7XG4iXX0=","originalSourcemap":{"version":3,"file":"public_api.js","sourceRoot":"","sources":["../../../projects/angular-token/src/public_api.ts"],"names":[],"mappings":[[[0,0,14,0],[7,0,14,7],[9,0,14,9],[30,0,14,30],[32,0,14,32],[38,0,14,38],[65,0,14,65],[66,0,14,66]],[[0,0,16,0],[7,0,16,7],[9,0,16,9],[28,0,16,28],[30,0,16,30],[36,0,16,36],[65,0,16,65],[66,0,16,66]],[[0,0,18,0],[7,0,18,7],[9,0,18,9],[27,0,18,27],[29,0,18,29],[35,0,18,35],[63,0,18,63],[64,0,18,64]]],"sourcesContent":["export {\n  SignInData,\n  RegisterData,\n  UpdatePasswordData,\n  ResetPasswordData,\n\n  UserType,\n  UserData,\n  AuthData,\n  ApiResponse,\n\n  AngularTokenOptions\n} from './lib/angular-token.model';\n\nexport { ANGULAR_TOKEN_OPTIONS } from './lib/angular-token.token';\n\nexport { AngularTokenService } from './lib/angular-token.service';\n\nexport { AngularTokenModule } from './lib/angular-token.module';\n"]},"resolvedIds":{"./lib/angular-token.token":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.token.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular-token.service":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.service.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false},"./lib/angular-token.module":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/lib/angular-token.module.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":540,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"raw":"'./public_api'","value":"./public_api"},"attributes":[]}],"sourceType":"module","_rollupRemoved":[{"end":540,"start":78}]},"attributes":{},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V2aW50c2FuZGVyLWFuZ3VsYXItdG9rZW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLXRva2VuL3NyYy9rZXZpbnRzYW5kZXItYW5ndWxhci10b2tlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUVILGNBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY19hcGknO1xuIl19","customTransformCache":false,"dependencies":["/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/public_api.mjs"],"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/kevintsander-angular-token.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V2aW50c2FuZGVyLWFuZ3VsYXItdG9rZW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLXRva2VuL3NyYy9rZXZpbnRzYW5kZXItYW5ndWxhci10b2tlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUVILGNBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY19hcGknO1xuIl19","originalSourcemap":{"version":3,"file":"kevintsander-angular-token.js","sourceRoot":"","sources":["../../../projects/angular-token/src/kevintsander-angular-token.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"resolvedIds":{"./public_api":{"attributes":{},"external":false,"id":"/home/kevin/repos/angular/angular-token/dist/angular-token/esm2022/public_api.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"json":{},"file-loader":{}}}